import{c as I}from"./create-shadow.751ec785.js";import{e as O,a as D}from"./effect-target.7a08aa77.js";import{e as X}from"./effect-virtual-transition-end.78f49f22.js";import{f as q}from"./core.5e522b93.js";function H({swiper:t,extendParams:E,on:T}){E({cardsEffect:{slideShadows:!0,rotate:!0,perSlideRotate:2,perSlideOffset:8}}),O({effect:"cards",swiper:t,on:T,setTranslate:()=>{const{slides:o,activeIndex:l}=t,s=t.params.cardsEffect,{startTranslate:f,isTouched:p}=t.touchEventsData,S=t.translate;for(let c=0;c<o.length;c+=1){const n=o[c],u=n.progress,a=Math.min(Math.max(u,-4),4);let m=n.swiperSlideOffset;t.params.centeredSlides&&!t.params.cssMode&&(t.wrapperEl.style.transform=`translateX(${t.minTranslate()}px)`),t.params.centeredSlides&&t.params.cssMode&&(m-=o[0].swiperSlideOffset);let r=t.params.cssMode?-m-t.translate:-m,i=0;const g=-100*Math.abs(a);let h=1,$=-s.perSlideRotate*a,M=s.perSlideOffset-Math.abs(a)*.75;const d=t.virtual&&t.params.virtual.enabled?t.virtual.from+c:c,x=(d===l||d===l-1)&&a>0&&a<1&&(p||t.params.cssMode)&&S<f,b=(d===l||d===l+1)&&a<0&&a>-1&&(p||t.params.cssMode)&&S>f;if(x||b){const e=(1-Math.abs((Math.abs(a)-.5)/.5))**.5;$+=-28*a*e,h+=-.5*e,M+=96*e,i=`${-25*e*Math.abs(a)}%`}if(a<0?r=`calc(${r}px + (${M*Math.abs(a)}%))`:a>0?r=`calc(${r}px + (-${M*Math.abs(a)}%))`:r=`${r}px`,!t.isHorizontal()){const e=i;i=r,r=e}const v=a<0?`${1+(1-h)*a}`:`${1-(1-h)*a}`,y=`
        translate3d(${r}, ${i}, ${g}px)
        rotateZ(${s.rotate?$:0}deg)
        scale(${v})
      `;if(s.slideShadows){let e=n.querySelector(".swiper-slide-shadow");e||(e=I(s,n)),e&&(e.style.opacity=Math.min(Math.max((Math.abs(a)-.5)/.5,0),1))}n.style.zIndex=-Math.abs(Math.round(u))+o.length;const P=D(s,n);P.style.transform=y}},setTransition:o=>{const l=t.slides.map(s=>q(s));l.forEach(s=>{s.style.transitionDuration=`${o}ms`,s.querySelectorAll(".swiper-slide-shadow").forEach(f=>{f.style.transitionDuration=`${o}ms`})}),X({swiper:t,duration:o,transformElements:l})},perspective:()=>!0,overwriteParams:()=>({watchSlidesProgress:!0,virtualTranslate:!t.params.cssMode})})}export{H as E};

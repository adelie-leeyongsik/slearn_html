import{_ as G}from"./CommonContentsModal.1a643f7e.js";import{_ as O}from"./Radio.ef28b89a.js";import{_ as Y}from"./TermsGroup.575e6ec4.js";import{_ as B,f as D,k as U,O as w,r as $,l as r,g as z,h as T,c as g,b as u,w as F,i as t,a as i,t as y,D as J,v as f,E as x,d as E,F as K,J as Q,o as d,bf as W,p as X,e as Z}from"./entry.e1c54084.js";import ee from"./_nav.5a01d345.js";import se from"./siteSelect.3aa47d22.js";import"./Input.9ccbf189.js";import"./Checkbox.20dceeb0.js";import"./swiperItem.8d145322.js";import"./swiper-slide.b10528fd.js";import"./core.5e522b93.js";/* empty css                   *//* empty css                       *//* empty css                       */import"./navigation.87a869ac.js";import"./pagination.e64e0277.js";const p=h=>(X("data-v-40911527"),h=h(),Z(),h),te=["innerHTML"],oe={class:"account"},re={class:"account__body"},ie=p(()=>i("legend",null,[i("h2",{class:"account__title"},"학습정보 확인")],-1)),le={key:0,class:"c-form-group"},ae=p(()=>i("label",{for:"name",class:"c-form-label"},"학교급",-1)),ne={class:"account__site-sort"},ce={key:0,class:"account__site-sort"},ue={class:"c-form-group"},me=p(()=>i("label",{for:"name",class:"c-form-label"},"학년",-1)),de={class:"c-form-group"},pe=p(()=>i("label",{for:"name",class:"c-form-label"},"학습목적",-1)),_e={class:"account__site-select"},ge={key:0,class:"account__body"},fe=p(()=>i("h2",{class:"account__title"},[E(" 선택하신 학습사이트 "),i("br"),E(" 약관동의가 필요해요 ")],-1)),be={key:0,class:"account__agree"},Le={class:"account__agree-title"},Ee=p(()=>i("span",{class:"c-text-primary"},"(반드시 약관의 내용을 확인해주세요)",-1)),he={key:1,class:"account__agree"},ye={class:"account__agree-title"},Ae=p(()=>i("span",{class:"c-text-primary"},"(반드시 약관의 내용을 확인해주세요)",-1)),je={key:2,class:"account__agree"},Te={class:"account__agree-title"},ve=p(()=>i("span",{class:"c-text-primary"},"(반드시 약관의 내용을 확인해주세요)",-1)),ke={class:"account__foot"},Ce={class:"c-btn-group"},Pe={__name:"14over",setup(h){const v=D(),_=U(),b=w(),e=$({age14:b.joinInfo.age,joinCode:b.joinInfo.join_pcd,isNavActive:b.joinInfo.age>18&&r.isEqual(b.joinInfo.join_pcd,"JOIN_P002")?5:4,change:b.learnInfo.change,school:"",schoolList:[],grade:"",gradeList:[],purpose:"",purposeList:[],pRadioList:[],subjectList:[],subjMiMac:"",subjAgree:"",subjAgreeNm:"",subjAgreeYn:"",lectureAgree:"",lectureAgreeNm:"",bookAgree:"",bookAgreeNm:"",subjTermsList:[{key:"subjTerm1",text:"이용약관에 관한 동의",value:!1,required:!0,cpId:"",termCode:"TEMPLATE_P002"},{key:"subjTerm2",text:"개인정보 수집/이용에 관한 동의",value:!1,required:!0,cpId:"",termCode:"TEMPLATE_P003"}],lectureTermsList:[{key:"lectureTerm1",text:"이용약관에 관한 동의",value:!1,required:!0,cpId:"",termCode:"TEMPLATE_P002"},{key:"lectureTerm2",text:"개인정보 수집/이용에 관한 동의",value:!1,required:!0,cpId:"",termCode:"TEMPLATE_P003"}],bookTermsList:[{key:"bookTerm1",text:"이용약관에 관한 동의",value:!1,required:!0,cpId:"",termCode:"TEMPLATE_P002"},{key:"bookTerm2",text:"개인정보 수집/이용에 관한 동의",value:!1,required:!0,cpId:"",termCode:"TEMPLATE_P003"}],termInfo:{},paramInfo:{}});z(()=>{N()});const N=()=>{T({method:"get",id:"회원가입 학습사이트 선택",endpoint:"/api/platform_chg/form",onResponse({data:s,status:o,message:a}){var V;console.log("data ",s);let m=s.schLvlPcdList.filter(l=>r.isEqual(l.cd,"SCHLVL_P002")||r.isEqual(l.cd,"SCHLVL_P003")||r.isEqual(l.cd,"SCHLVL_P004"));m.forEach(l=>{l.text=l.cdnm,l.value=l.cd}),e.schoolList=m;let L=s.schGrdPcdList.filter(l=>r.isEqual(l.cd,"SCHGRD_P001")||r.isEqual(l.cd,"SCHGRD_P002")||r.isEqual(l.cd,"SCHGRD_P003")||r.isEqual(l.cd,"SCHGRD_P007"));L.forEach(l=>{l.text=l.cdnm,l.value=l.cd}),e.gradeList=L,e.purposeList=s.lrnObjList,e.subjectList=s.lrnPltTcdList.concat(s.subLrnPltTcdList);let c=b.learnInfo;console.log(" learn ",c),k(c.schl_level.cd),C(c.schl_grad.cd),P(c.cp.cd),e.purpose=c.lrnObjCode;let n=c.sub_cp.map(l=>l.cd).filter(l=>!r.isEqual(l,"SUB_LRNPLT_T002")),j=c.sub_cp.map(l=>l.cd).filter(l=>r.isEqual(l,"SUB_LRNPLT_T002"));n.length>0&&I(n[0]),j.length>0&&q(j[0]),e.paramInfo={change:e.change,subjParam:(V=c.cp)==null?void 0:V.cd,lectureParam:n[0],bookParam:j[0]}}})},k=s=>{e.school=s,r.isEqual(s,"SCHLVL_P002")?e.pRadioList=e.purposeList.filter(o=>r.isEqual(o.cd,"GE")||r.isEqual(o.cd,"SP")):r.isEqual(s,"SCHLVL_P003")&&(e.pRadioList=e.purposeList.filter(o=>r.isEqual(o.cd,"SH")||r.isEqual(o.cd,"TE"))),e.pRadioList.forEach(o=>{o.text=o.cdnm,o.value=o.cd}),e.subjAgree="",e.lectureAgree="",e.bookAgree=""},C=s=>{e.grade=s},P=s=>{r.isEmpty(s)||(e.subjAgreeYn=e.subjectList.filter(o=>o.cp_id===s)[0].agreeYn,r.isEqual(s,"LRNPLT_T002")?(e.subjMiMac=s,e.subjAgree=""):r.isEqual(e.subjAgreeYn,"N")?(e.subjAgree=s,e.subjAgreeNm=e.subjectList.filter(o=>o.cp_id===e.subjAgree)[0].cp_name,e.subjTermsList.forEach(o=>{o.cpId=e.subjAgree,o.value=!1})):e.subjAgree="")},I=s=>{let o="";r.isEmpty(s)||(o=e.subjectList.filter(a=>a.cp_id===s)[0].agreeYn),r.isEqual(o,"N")?(e.lectureAgree=s,e.lectureAgreeNm=e.subjectList.filter(a=>a.cp_id===e.lectureAgree)[0].cp_name,e.lectureTermsList.forEach(a=>{a.cpId=e.lectureAgree,a.value=!1})):e.lectureAgree=""},q=s=>{let o="";r.isEmpty(s)||(o=e.subjectList.filter(a=>a.cp_id===s)[0].agreeYn),r.isEqual(o,"N")?(e.bookAgree=s,e.bookAgreeNm=e.subjectList.filter(a=>a.cp_id===e.bookAgree)[0].cp_name,e.bookTermsList.forEach(a=>{a.cpId=e.bookAgree,a.value=!1})):e.bookAgree=""},A=async s=>{await T({method:"get",id:"회원가입 학습사이트 약관 조회",endpoint:"/api/platform_chg/terms",data:{cp_id:s.id,term_div_code:s.code},onResponse({data:o,status:a}){e.termInfo.isShow=!0,e.termInfo.title=o.term_title,e.termInfo.innerContents=o.term_desc}})},S=()=>{e.termInfo.isShow=!1},M=()=>{v.go(-1)},R=()=>{if(!r.isEqual(e.school,"SCHLVL_P004")){if(r.isEmpty(e.school))return _.alert("알림","학교급을 선택해주세요."),!1;if(r.isEmpty(e.grade))return _.alert("알림","학년을 선택해주세요."),!1;if(r.isEmpty(e.purpose))return _.alert("알림","학습목적을 선택해주세요."),!1;if(r.isEmpty(e.subjMiMac)&&!r.isEqual(e.subjAgreeYn,"Y")){if(r.isEmpty(e.subjAgree))return _.alert("알림","교과 학습사이트를 선택해주세요."),!1;if(e.subjTermsList.some(s=>s.value===!1))return _.alert("알림",`${e.subjAgreeNm} 약관동의가 필요합니다.`),!1}if(!r.isEmpty(e.lectureAgree)&&e.lectureTermsList.some(s=>s.value===!1))return _.alert("알림",`${e.lectureAgreeNm} 약관동의가 필요합니다.`),!1;if(!r.isEmpty(e.bookAgree)&&e.bookTermsList.some(s=>s.value===!1))return _.alert("알림",`${e.bookAgreeNm} 약관동의가 필요합니다.`),!1}return!0},H=()=>{if(!R())return;let s={};e.paramInfo.change?s={schlvl:e.school,schgrd:e.grade,lrnpltCd:r.isEmpty(e.subjMiMac)?e.subjAgree:e.subjMiMac,subLrnpltCd:e.lectureAgree+","+e.bookAgree,lrnObj:e.purpose}:s={schlvl:e.school,schgrd:e.grade,lrnpltCd:e.paramInfo.subjParam,subLrnpltCd:e.paramInfo.lectureParam+","+e.paramInfo.bookParam,lrnObj:e.purpose},T({method:"post",id:"재검증 학습사이트 변경",endpoint:"/api/platform_chg/post",data:s,onResponse({data:o,status:a,message:m}){console.log("data ",o),console.log("status ",a),console.log("message ",m),a===200&&v.push("/")}})};return(s,o)=>{const a=G,m=O,L=Y,c=Q;return d(),g(K,null,[u(a,{data:t(e).termInfo,onClose:S},{innerContents:F(()=>[i("div",{class:"c-modals__contents-terms",innerHTML:t(e).termInfo.innerContents},null,8,te),i("div",{class:"c-modals__button"},[i("div",{class:"c-btn-group"},[i("button",{type:"submit",class:"c-btn c-btn-danger",onClick:S}," 확인 ")])])]),_:1},8,["data"]),i("div",oe,[i("h1",null,y(("uGetSubtitle"in s?s.uGetSubtitle:t(W))(t(e).isNavActive)),1),u(ee,{active:t(e).isNavActive},null,8,["active"]),i("form",{onSubmit:o[6]||(o[6]=J(()=>{},["prevent"]))},[i("div",re,[ie,("isEmpty"in s?s.isEmpty:t(r.isEmpty))(t(e).schoolList)?f("",!0):(d(),g("div",le,[ae,u(m,{isDisabled:!t(e).change,class:"c-form-check-group--col3",modelValue:t(e).school,"onUpdate:modelValue":[o[0]||(o[0]=n=>t(e).school=n),k],items:t(e).schoolList},null,8,["isDisabled","modelValue","items"])])),i("div",ne,[("isEqual"in s?s.isEqual:t(r.isEqual))(t(e).school,"SCHLVL_P002")||("isEqual"in s?s.isEqual:t(r.isEqual))(t(e).school,"SCHLVL_P003")?(d(),g("div",ce,[i("div",ue,[me,u(m,{class:"c-form-check-group--col4",modelValue:t(e).grade,"onUpdate:modelValue":[o[1]||(o[1]=n=>t(e).grade=n),C],items:t(e).gradeList},null,8,["modelValue","items"])]),i("div",de,[pe,u(m,{modelValue:t(e).purpose,"onUpdate:modelValue":o[2]||(o[2]=n=>t(e).purpose=n),items:t(e).pRadioList},null,8,["modelValue","items"])])])):f("",!0)]),i("div",_e,[("isEmpty"in s?s.isEmpty:t(r.isEmpty))(t(e).school)?f("",!0):(d(),x(se,{key:0,typeInfo:{school:t(e).school,grade:t(e).grade},dataList:t(e).subjectList,onOnChangeSubj:P,onOnChangeLecture:I,onOnChangeBook:q,paramInfo:t(e).paramInfo},null,8,["typeInfo","dataList","paramInfo"]))])]),!("isEmpty"in s?s.isEmpty:t(r.isEmpty))(t(e).subjAgree)||!("isEmpty"in s?s.isEmpty:t(r.isEmpty))(t(e).lectureAgree)||!("isEmpty"in s?s.isEmpty:t(r.isEmpty))(t(e).bookAgree)?(d(),g("div",ge,[fe,("isEmpty"in s?s.isEmpty:t(r.isEmpty))(t(e).subjAgree)?f("",!0):(d(),g("div",be,[i("div",Le,[E(" ‘"+y(t(e).subjAgreeNm)+"’ 약관동의 ",1),Ee]),u(L,{modelValue:t(e).subjTermsList,"onUpdate:modelValue":o[3]||(o[3]=n=>t(e).subjTermsList=n),onTerms:A},null,8,["modelValue"])])),("isEmpty"in s?s.isEmpty:t(r.isEmpty))(t(e).lectureAgree)?f("",!0):(d(),g("div",he,[i("div",ye,[E(" ‘"+y(t(e).lectureAgreeNm)+"’ 약관동의 ",1),Ae]),u(L,{modelValue:t(e).lectureTermsList,"onUpdate:modelValue":o[4]||(o[4]=n=>t(e).lectureTermsList=n),onTerms:A},null,8,["modelValue"])])),("isEmpty"in s?s.isEmpty:t(r.isEmpty))(t(e).bookAgree)?f("",!0):(d(),g("div",je,[i("div",Te,[E(" ‘"+y(t(e).bookAgreeNm)+"’ 약관동의 ",1),ve]),u(L,{modelValue:t(e).bookTermsList,"onUpdate:modelValue":o[5]||(o[5]=n=>t(e).bookTermsList=n),onTerms:A},null,8,["modelValue"])]))])):f("",!0),i("div",ke,[i("div",Ce,[u(c,{size:"auto",sizeType:"large",styleType:"blue",text:"이전",onClick:M}),u(c,{size:"auto",sizeType:"large",styleType:"danger",text:"완료",onClick:H,validator:t(e).isValidation},null,8,["validator"])])])],32)])],64)}}},ze=B(Pe,[["__scopeId","data-v-40911527"]]);export{ze as default};

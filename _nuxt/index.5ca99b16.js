import{_ as h}from"./Input.9ccbf189.js";import{_ as f}from"./validationPanel.12a23ba5.js";import{f as g,k as v,O as V,r as k,g as C,c as x,a as t,b as a,i as o,D as b,h as y,J as R,o as U,aq as c}from"./entry.e1c54084.js";const M={class:"account"},N=t("h1",null,"비밀번호 설정",-1),B={class:"account__body"},I=t("legend",null,[t("h2",{class:"account__title"},"새로운 비밀번호를 입력바랍니다.")],-1),S={class:"c-form-group"},z={class:"c-form-group"},L={class:"c-form-group"},O={class:"account__foot"},T={class:"c-btn-group"},D={__name:"index",setup(W){const u=g(),d=v(),w=V(),e=k({id:"",pw:"",newPw:"",newPw2:"",isCheckPw:!1,isCheckPw2:!1});C(()=>{e.id=w.userId});const p=n=>{e.isCheckPw=n},m=n=>{e.isCheckPw2=n},_=async()=>{e.isCheckPw&&e.isCheckPw2&&await y({method:"post",id:"비밀번호 변경",endpoint:"/api/member_info/chg_passwd",headers:"LOGIN",data:{oldPasswd:e.pw,newPasswd:e.newPw},onResponse({data:n,status:s,message:i}){console.log("status ",s),s===200?d.alert("알림","비밀번호가 변경 되었습니다.<br/> 로그인 후 서비스를 계속 이용하실 수 있습니다.",()=>{u.push("/login")}):s===400&&d.alert("알림","아이디가 존재하지 않습니다.")}})};return(n,s)=>{const i=h,r=f,P=R;return U(),x("div",M,[N,t("form",{class:"needs-validation",novalidate:"",onSubmit:s[3]||(s[3]=b(()=>{},["prevent"]))},[t("fieldset",null,[t("div",B,[I,t("div",S,[a(i,{modelValue:o(e).id,"onUpdate:modelValue":s[0]||(s[0]=l=>o(e).id=l),label:"아이디",type:"text",placeholder:"아이디를 입력해 주세요",title:"아이디",disabled:!0},null,8,["modelValue"])]),t("div",z,[a(i,{modelValue:o(e).newPw,"onUpdate:modelValue":s[1]||(s[1]=l=>o(e).newPw=l),label:"새로운 비밀번호",type:"password",placeholder:"새로운 비밀번호를 입력해주세요."},null,8,["modelValue"]),a(r,{value:o(e).newPw,items:[{text:"대소문자 영문, 숫자, 특수문자 중 2종류 이상 조합해주세요.",tester:()=>("uRegexpr"in n?n.uRegexpr:o(c))("PW_MAIN",o(e).newPw)},{text:"10자리 ~ 12자리까지 입력해주세요.",tester:()=>o(e).newPw.length>9&&o(e).newPw.length<=12},{text:"연속적인 숫자나 생일, 전화번호가 포함된 정보는 입력할 수 없습니다.",tester:()=>("uRegexpr"in n?n.uRegexpr:o(c))("PW_NUM",o(e).newPw)}],"onUpdate:modelValue":p},null,8,["value","items"])]),t("div",L,[a(i,{modelValue:o(e).newPw2,"onUpdate:modelValue":s[2]||(s[2]=l=>o(e).newPw2=l),label:"비밀번호 확인",type:"password",placeholder:"비밀번호를 입력해주세요."},null,8,["modelValue"]),a(r,{value:o(e).newPw2,items:[{text:"위에 입력하신 비밀번호와 동일하게 입력해주세요.",tester:()=>o(e).newPw===o(e).newPw2}],"onUpdate:modelValue":m},null,8,["value","items"])])]),t("div",O,[t("div",T,[a(P,{size:"auto",sizeType:"large",styleType:"danger",text:"비밀번호 변경",onClick:_,validator:o(e).isCheckPw&&o(e).isCheckPw2},null,8,["validator"])])])])],32)])}}};export{D as default};

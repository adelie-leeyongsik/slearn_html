import{_ as F}from"./CommonContentsModal.1a643f7e.js";import{_ as U,f as $,k as z,O as J,r as W,g as Z,h,l as i,Z as K,c as m,b as d,w as C,i as o,a as n,v as b,E as k,d as L,t as I,D as Q,F as S,o as u,s as X,U as x,ap as ee,p as se,e as oe,J as te}from"./entry.e1c54084.js";import{_ as ie}from"./Radio.ef28b89a.js";import{_ as ne}from"./TermsGroup.575e6ec4.js";import le from"./_nav.d722f5c5.js";import ae from"./siteSelect.3aa47d22.js";import re from"./result.9a9db3e9.js";import"./Input.9ccbf189.js";import"./Checkbox.20dceeb0.js";import"./swiperItem.8d145322.js";import"./swiper-slide.b10528fd.js";import"./core.5e522b93.js";/* empty css                   *//* empty css                       *//* empty css                       */import"./navigation.87a869ac.js";import"./pagination.e64e0277.js";import"./ch-management.fd76c6e1.js";const g=E=>(se("data-v-689346b1"),E=E(),oe(),E),ce=["innerHTML"],ue={class:"login__list"},de=["src","alt"],me={key:0,class:"account"},pe=g(()=>n("h1",null,"회원가입",-1)),_e={class:"account__body"},ge=g(()=>n("legend",null,[n("h2",{class:"account__title"},"학습사이트를 신청해볼까요?")],-1)),fe={key:0,class:"c-form-group"},be=g(()=>n("label",{for:"name",class:"c-form-label"},"학교급",-1)),Le={class:"account__site-sort"},Ee={key:0,class:"account__site-sort"},ye={class:"c-form-group"},he=g(()=>n("label",{for:"name",class:"c-form-label"},"학년",-1)),Ce={key:0,class:"c-form-group"},ke=g(()=>n("label",{for:"name",class:"c-form-label"},"학습목적",-1)),Ie={class:"account__site-select"},Ae={key:0,class:"account__body"},Te=g(()=>n("h2",{class:"account__title"},[L(" 선택하신 학습사이트 "),n("br"),L(" 약관동의가 필요해요 ")],-1)),je={key:0,class:"account__agree"},Se={class:"account__agree-title"},ve=g(()=>n("span",{class:"c-text-primary"},"(반드시 약관의 내용을 확인해주세요)",-1)),qe={key:1,class:"account__agree"},Pe={class:"account__agree-title"},Ve=g(()=>n("span",{class:"c-text-primary"},"(반드시 약관의 내용을 확인해주세요)",-1)),Ne={key:2,class:"account__agree"},Me={class:"account__agree-title"},Re=g(()=>n("span",{class:"c-text-primary"},"(반드시 약관의 내용을 확인해주세요)",-1)),He={class:"account__foot"},we={class:"c-btn-group"},Be={__name:"14under",setup(E){const v=$(),f=z(),l=J(),e=W({school:"",schoolList:[],grade:"",gradeList:[],gRadioList:[],purpose:"",purposeList:[],pRadioList:[],subjectList:[],subjAgree:"",subjAgreeNm:"",subjAgreeYn:"",lectureAgree:"",lectureAgreeNm:"",bookAgree:"",bookAgreeNm:"",subjTermsList:[{key:"subjTerm1",text:"이용약관에 관한 동의",value:!1,required:!0,cpId:"",termCode:"TEMPLATE_P002"},{key:"subjTerm2",text:"개인정보 수집/이용에 관한 동의",value:!1,required:!0,cpId:"",termCode:"TEMPLATE_P003"}],lectureTermsList:[{key:"lectureTerm1",text:"이용약관에 관한 동의",value:!1,required:!0,cpId:"",termCode:"TEMPLATE_P002"},{key:"lectureTerm2",text:"개인정보 수집/이용에 관한 동의",value:!1,required:!0,cpId:"",termCode:"TEMPLATE_P003"}],bookTermsList:[{key:"bookTerm1",text:"이용약관에 관한 동의",value:!1,required:!0,cpId:"",termCode:"TEMPLATE_P002"},{key:"bookTerm2",text:"개인정보 수집/이용에 관한 동의",value:!1,required:!0,cpId:"",termCode:"TEMPLATE_P003"}],termInfo:{},snsInfo:{},socialButtons:[{type:"naver",text:"네이버계정으로 로그인",alt:"네이버 로고"},{type:"kakao",text:"카카오계정으로 로그인",alt:"카카오톡 로고"}],resultCode:null});Z(()=>{q()});const q=()=>{h({method:"get",id:"회원가입 학습사이트 선택",endpoint:"/api/join/form",onResponse({data:s,status:t,message:a}){console.log("data ",s);let p=s.schLvlPcdList.filter(r=>i.isEqual(r.cd,"SCHLVL_P001")||i.isEqual(r.cd,"SCHLVL_P002")||i.isEqual(r.cd,"SCHLVL_P004"));p.forEach(r=>{r.text=r.cdnm,r.value=r.cd,r.column=!!i.isEqual(r.cd,"SCHLVL_P001")}),e.schoolList=p;let _=s.schGrdPcdList;_.forEach(r=>{r.text=r.cdnm,r.value=r.cd}),e.gradeList=_,e.purposeList=s.lrnObjList,e.subjectList=s.lrnPltTcdList.concat(s.subLrnPltTcdList)}})},P=s=>{e.school=s,i.isEqual(s,"SCHLVL_P001")?e.gRadioList=e.gradeList:i.isEqual(s,"SCHLVL_P002")&&(e.gRadioList=e.gradeList.filter(t=>i.isEqual(t.cd,"SCHGRD_P001")||i.isEqual(t.cd,"SCHGRD_P002")||i.isEqual(t.cd,"SCHGRD_P003")||i.isEqual(t.cd,"SCHGRD_P007")),e.pRadioList=e.purposeList.filter(t=>i.isEqual(t.cd,"GE")||i.isEqual(t.cd,"SP")),e.pRadioList.forEach(t=>{t.text=t.cdnm,t.value=t.cd})),e.gRadioList.forEach(t=>{t.text=t.cdnm,t.value=t.cd}),e.subjAgree="",e.lectureAgree="",e.bookAgree=""},V=s=>{e.grade=s},N=s=>{e.subjAgreeYn=e.subjectList.filter(t=>t.cp_id===s)[0].agreeYn,i.isEqual(e.subjAgreeYn,"N")?(e.subjAgree=s,e.subjAgreeNm=e.subjectList.filter(t=>t.cp_id===e.subjAgree)[0].cp_name,e.subjTermsList.forEach(t=>{t.cpId=e.subjAgree,t.value=!1})):e.subjAgree=""},M=s=>{let t="";i.isEmpty(s)||(t=e.subjectList.filter(a=>a.cp_id===s)[0].agreeYn),i.isEqual(t,"N")?(e.lectureAgree=s,e.lectureAgreeNm=e.subjectList.filter(a=>a.cp_id===e.lectureAgree)[0].cp_name,e.lectureTermsList.forEach(a=>{a.cpId=e.lectureAgree,a.value=!1})):e.lectureAgree=""},R=s=>{let t="";i.isEmpty(s)||(t=e.subjectList.filter(a=>a.cp_id===s)[0].agreeYn),i.isEqual(t,"N")?(e.bookAgree=s,e.bookAgreeNm=e.subjectList.filter(a=>a.cp_id===e.bookAgree)[0].cp_name,e.bookTermsList.forEach(a=>{a.cpId=e.bookAgree,a.value=!1})):e.bookAgree=""},y=async s=>{await h({method:"get",id:"회원가입 학습사이트 약관 조회",endpoint:"/api/join/terms",data:{cp_id:s.id,term_div_code:s.code},onResponse({data:t,status:a}){e.termInfo.isShow=!0,e.termInfo.title=t.term_title,e.termInfo.innerContents=t.term_desc}})},A=()=>{e.termInfo.isShow=!1},H=()=>{v.push("/join/qualification")},w=()=>{if(!i.isEqual(e.school,"SCHLVL_P004")){if(i.isEmpty(e.school))return f.alert("알림","학교급을 선택해주세요."),!1;if(i.isEmpty(e.grade))return f.alert("알림","학년을 선택해주세요."),!1;if(i.isEqual(e.school,"SCHLVL_P002")&&i.isEmpty(e.purpose))return f.alert("알림","학습목적을 선택해주세요."),!1;if(!i.isEqual(e.subjAgreeYn,"Y")){if(i.isEmpty(e.subjAgree))return f.alert("알림","교과 학습사이트를 선택해주세요."),!1;if(e.subjTermsList.some(s=>s.value===!1))return f.alert("알림",`${e.subjAgreeNm} 약관동의가 필요합니다.`),!1}if(!i.isEmpty(e.lectureAgree)&&e.lectureTermsList.some(s=>s.value===!1))return f.alert("알림",`${e.lectureAgreeNm} 약관동의가 필요합니다.`),!1;if(!i.isEmpty(e.bookAgree)&&e.bookTermsList.some(s=>s.value===!1))return f.alert("알림",`${e.bookAgreeNm} 약관동의가 필요합니다.`),!1}return!0},B=()=>{let s={qlfc_enc_dat:l.joinInfo.qlfc_enc_dat,nice_enc_dat:l.passInfo.nice_enc_dat,ge3family_enc_dat:l.bigFamily.ge3family_enc_dat,join_pcd:l.joinMemberType,loginid:l.basicInfo.id,passwd:l.basicInfo.pw,userName:l.basicInfo.name,email:l.basicInfo.email,zipcode:l.basicInfo.postCode,address1:l.basicInfo.addr,address2:l.basicInfo.addrDtl,schlvl:e.school,schgrd:e.grade,lrnpltCd:e.subjAgree,subLrnpltCd:e.lectureAgree+","+e.bookAgree,evtInfoRcvYn:l.basicInfo.smsType,attachType:l.joinAttachType,snsConnects:[{snsCode:l.snsCd,id:l.snsId}]};return s.mobileno=i.isEmpty(l.basicInfo.mobile)?l.passInfo.MOBILE_NO:l.basicInfo.mobile,s.parentName=l.passInfo.NAME,s.parentMobileno=l.passInfo.MOBILE_NO,s.parentGender=i.isEqual(l.passInfo.GENDER,"1")?"M":"W",s.files=i.isEmpty(l.joinFileList)?null:l.joinFileList,s},D=()=>{if(console.log("onClickComplete"),w())l.snsId="",e.snsInfo.isShow=!0,e.snsInfo.title="SNS 계정 연동",e.snsInfo.subTitle="SNS 계정과 연동할 수 있어요";else return};K(()=>l.snsId,s=>{i.isEmpty(s)||T()});const T=()=>{e.snsInfo.isShow=!1,j()},O=()=>{e.snsInfo.isShow=!1,j()},j=()=>{const s=new FormData;let t=B();s.append("data",new Blob([JSON.stringify(t)],{type:"application/json"})),i.isEmpty(l.joinFileList)||l.joinFileList.forEach(a=>{i.isEmpty(a.fileSeq)&&s.append("files",a)}),h({method:"post",id:"회원가입 등록",endpoint:"/api/join/signup",headers:"FILE_UPLOAD",data:s,onResponse({data:a,status:p,message:_}){console.log("goJoin data",a),console.log("goJoin status",p),console.log("goJoin message",_),p===200?e.resultCode=a.confirmStatCode:f.alert("알림",_)}})};return(s,t)=>{const a=F,p=te,_=ie,r=ne;return u(),m(S,null,[d(a,{data:o(e).termInfo,onClose:A},{innerContents:C(()=>[n("div",{class:"c-modals__contents-terms",innerHTML:o(e).termInfo.innerContents},null,8,ce),n("div",{class:"c-modals__button"},[n("div",{class:"c-btn-group"},[n("button",{type:"submit",class:"c-btn c-btn-danger",onClick:A}," 확인 ")])])]),_:1},8,["data"]),d(a,{data:o(e).snsInfo,onClose:T},{innerContents:C(()=>[n("div",ue,[(u(!0),m(S,null,X(o(e).socialButtons,({type:c,text:Y,src:De,alt:G})=>(u(),k(p,{title:"새창으로 이동",class:"c-btn-outline-secondary",sizeType:"large",text:Y,onClick:Oe=>("uSocialLogin"in s?s.uSocialLogin:o(ee))(c)},{before:C(()=>[n("img",{src:("uImage"in s?s.uImage:o(x))(`logo-${c}.svg`),alt:G},null,8,de)]),_:2},1032,["text","onClick"]))),256)),n("button",{type:"button",class:"c-btn c-btn-lg c-btn-block c-btn-outline-secondary",onClick:O}," SNS 연동하지않고 가입하기 ")])]),_:1},8,["data"]),("isEmpty"in s?s.isEmpty:o(i.isEmpty))(o(e).resultCode)?(u(),m("div",me,[pe,d(le,{active:4}),n("form",{onSubmit:t[6]||(t[6]=Q(()=>{},["prevent"]))},[n("div",_e,[ge,("isEmpty"in s?s.isEmpty:o(i.isEmpty))(o(e).schoolList)?b("",!0):(u(),m("div",fe,[be,d(_,{class:"c-form-check-group--col3",modelValue:o(e).school,"onUpdate:modelValue":[t[0]||(t[0]=c=>o(e).school=c),P],items:o(e).schoolList},null,8,["modelValue","items"])])),n("div",Le,[("isEqual"in s?s.isEqual:o(i.isEqual))(o(e).school,"SCHLVL_P001")||("isEqual"in s?s.isEqual:o(i.isEqual))(o(e).school,"SCHLVL_P002")?(u(),m("div",Ee,[n("div",ye,[he,d(_,{class:"c-form-check-group--col4",modelValue:o(e).grade,"onUpdate:modelValue":[t[1]||(t[1]=c=>o(e).grade=c),V],items:o(e).gRadioList},null,8,["modelValue","items"])]),("isEqual"in s?s.isEqual:o(i.isEqual))(o(e).school,"SCHLVL_P002")?(u(),m("div",Ce,[ke,d(_,{modelValue:o(e).purpose,"onUpdate:modelValue":t[2]||(t[2]=c=>o(e).purpose=c),items:o(e).pRadioList},null,8,["modelValue","items"])])):b("",!0)])):b("",!0)]),n("div",Ie,[("isEmpty"in s?s.isEmpty:o(i.isEmpty))(o(e).school)?b("",!0):(u(),k(o(ae),{key:0,typeInfo:{school:o(e).school,grade:o(e).grade},dataList:o(e).subjectList,onOnChangeSubj:N,onOnChangeLecture:M,onOnChangeBook:R,paramInfo:{change:!0}},null,8,["typeInfo","dataList"]))])]),!("isEmpty"in s?s.isEmpty:o(i.isEmpty))(o(e).subjAgree)||!("isEmpty"in s?s.isEmpty:o(i.isEmpty))(o(e).lectureAgree)||!("isEmpty"in s?s.isEmpty:o(i.isEmpty))(o(e).bookAgree)?(u(),m("div",Ae,[Te,("isEmpty"in s?s.isEmpty:o(i.isEmpty))(o(e).subjAgree)?b("",!0):(u(),m("div",je,[n("div",Se,[L(" ‘"+I(o(e).subjAgreeNm)+"’ 약관동의 ",1),ve]),d(r,{modelValue:o(e).subjTermsList,"onUpdate:modelValue":t[3]||(t[3]=c=>o(e).subjTermsList=c),onTerms:y},null,8,["modelValue"])])),("isEmpty"in s?s.isEmpty:o(i.isEmpty))(o(e).lectureAgree)?b("",!0):(u(),m("div",qe,[n("div",Pe,[L(" ‘"+I(o(e).lectureAgreeNm)+"’ 약관동의 ",1),Ve]),d(r,{modelValue:o(e).lectureTermsList,"onUpdate:modelValue":t[4]||(t[4]=c=>o(e).lectureTermsList=c),onTerms:y},null,8,["modelValue"])])),("isEmpty"in s?s.isEmpty:o(i.isEmpty))(o(e).bookAgree)?b("",!0):(u(),m("div",Ne,[n("div",Me,[L(" ‘"+I(o(e).bookAgreeNm)+"’ 약관동의 ",1),Re]),d(r,{modelValue:o(e).bookTermsList,"onUpdate:modelValue":t[5]||(t[5]=c=>o(e).bookTermsList=c),onTerms:y},null,8,["modelValue"])]))])):b("",!0),n("div",He,[n("div",we,[d(p,{size:"auto",sizeType:"large",styleType:"blue",text:"취소",onClick:H}),d(p,{size:"auto",sizeType:"large",styleType:"danger",text:"회원가입 완료",onClick:D})])])],32)])):(u(),k(o(re),{key:1,data:o(e).resultCode},null,8,["data"]))],64)}}},ns=U(Be,[["__scopeId","data-v-689346b1"]]);export{ns as default};

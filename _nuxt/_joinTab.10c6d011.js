import{_ as Y}from"./CommonContentsModal.1a643f7e.js";import{_ as y,k,r as V,Z as C,c as j,b as f,w as g,i as n,a as t,F as M,o as S,n as c,t as r,y as p,z as b,d,p as T,e as N,l as _,h as x}from"./entry.e1c54084.js";import{_ as q}from"./pic-introduction-join-img.29f553b2.js";const e=u=>(T("data-v-a4f0625d"),u=u(),N(),u),E={class:"c-table__wrap"},B={class:"c-table c-table-center"},F=e(()=>t("caption",null," 혜택 검증 결과로 상태, 항목, 결과 를 알수 있습니다. ",-1)),I=e(()=>t("thead",null,[t("tr",null,[t("th",{scope:"row"},"상태"),t("th",{scope:"row"},"항목"),t("th",{scope:"row"},"결과")])],-1)),J=e(()=>t("td",{rowspan:"2"},"필수",-1)),R=e(()=>t("td",{class:"c-text-left"},"서울시 거주",-1)),U=e(()=>t("td",{class:"c-text-left"},"나이 (만6세 ~ 24세)",-1)),$=e(()=>t("td",{rowspan:"3"},"1개 이상 적용",-1)),z=e(()=>t("td",{class:"c-text-left"},"소득 50%",-1)),D=e(()=>t("td",{class:"c-text-left"},"유공자 자녀",-1)),P=e(()=>t("td",{class:"c-text-left"},"법정 한부모",-1)),L=e(()=>t("div",{class:"c-modals__title"},[t("p",null," ※ 학교밖, 다문화, 북한이탈주민 청소년은 가입시 별도서류 제출 필요 ")],-1)),O=e(()=>t("div",{class:"c-modals__form"},[t("div",{class:"c-modals__title c-modals__title-sm"},"회원 가입 대상"),t("p",{class:"c-text-left"}," 서울시 거주 / 만6세 ~ 만 24세이고,수급권자, 차상위계층, 학교 밖, 다문화가족, 법정한부모가족, 북한이탈주민 청소년 "),t("div",{class:"c-modals__box c-modals__box--type02"},[t("p",null,"자동검증"),t("span",null,"만 6세 ~ 24세인 수급권자, 차상위계층, 법정한부모 청소년"),t("p",null,"서류제출"),t("span",null,"학교 밖, 다문화가족, 북한이탈주민 청소년"),t("br"),t("span",{class:"c-text-danger"},"* 회원가입시 별도 증빙서류 제출하여 가입가능")])],-1)),X={class:"c-modals__form"},Z={class:"c-form-group"},A=e(()=>t("label",{for:"name",class:"c-form-label"},"이름",-1)),G=["disabled"],H={class:"c-form-group"},K=e(()=>t("label",{class:"c-form-label"},"주민번호 확인",-1)),Q={class:"c-input-group"},W=["disabled"],tt=["disabled"],st=["disabled"],nt={class:"c-modals__button"},et={class:"c-btn-group"},at={class:"introduction-join"},ot=e(()=>t("div",{class:"introduction__title-lg c-text-center"},"가입대상 안내",-1)),lt={class:"introduction-join"},it={class:"introduction-join__wrap"},ct=e(()=>t("div",{class:"introduction-join__info c-bg-bule"},[t("div",{class:"c-text-title-lg"},"자격검증 대상"),t("ul",null,[t("li",null,"✓ 서울시 거주 만 6세 ~ 만 24세"),t("li",null,"✓ 소득기준대상, 학교밖, 다문화 가족, 법정한부모가족")]),t("p",null,[d(" 소득기준대상 : 수급권자, 차상위계층 (중위소득 50%이하) "),t("br"),d(" 법정한부모 : 중위소득 60% 이하"),t("br",{class:"c-mo"}),d(" (단, 청소년 한부모 가정은 중위소득 72%이하) ")])],-1)),dt={class:"introduction-join__info c-bg-primary"},rt=e(()=>t("div",{class:"c-text-title-lg"},"간편대상 확인하기",-1)),_t=e(()=>t("div",{class:"c-text-title-sub"},[d(" 이름과 주민등록번호로"),t("br"),d(" 자격대상 바로 확인하세요! ")],-1)),ut={class:"c-btn-box"},mt=e(()=>t("div",{class:"introduction-join__img"},[t("img",{src:q,alt:"간편 대상 확인하기"})],-1)),pt={__name:"_joinTab",setup(u){const i=k(),s=V({modal:{isShow:!1,title:"검증 결과",subTitle:"",description:"서류 검증 대상이라면 서류 준비 후 회원가입을 진행해주세요"},checkModal:{isShow:!1,title:"간편 대상 확인",subTitle:"",description:""},data:{},name:"",rrn1:"",rrn2:"",isValid:!1});C(s,()=>{const o=/[^\d]+/g;s.rrn1=s.rrn1.replace(o,""),s.rrn2=s.rrn2.replace(o,"")});const v=async()=>{if(console.log(s.rrn1,s.rrn2),console.log(s.name),_.isEmpty(s.rrn1)||_.isEmpty(s.rrn2)||_.isEmpty(s.name)){i.alert("알림","이름과 주민번호를 입력해주세요.");return}if(s.rrn1.length!=6||s.rrn2.length!=7){i.alert("알림","올바른 주민등록번호를 입력해주세요.");return}await x({id:"혜택 대상자 확인",endpoint:"/api/qual/jumin_check",method:"post",data:{usernm:s.name,juminNum:s.rrn1+s.rrn2},onResponse({data:o}){if(console.log(o),o.juminNumValidYn==="N"){i.alert("알림","유효하지 않은 주민번호입니다. 확인 후 다시 입력해주세요.");return}i.alert("알림","유효한 주민번호입니다. 간편 대상 확인을 진행해주세요."),s.isValid=!0}})},w=async()=>{if(!s.isValid){i.alert("알림","주민번호가 인증되지 않았습니다.");return}await x({id:"혜택 대상자 확인",endpoint:"/api/qual/simple_check",method:"post",data:{usernm:s.name,juminNum:s.rrn1+s.rrn2},onResponse({data:o}){if(console.log("조회데이터",o),_.isEqual(o.bscLivYn,"Y")||_.isEqual(o.poorYn,"Y")?o.income50="Y":o.income50="N",s.data=o,s.data.juminNumValidYn==="N"){i.alert("알림","유효하지 않은 주민번호입니다. 확인 후 다시 입력해주세요.");return}(s.data.age<6||s.data.age>24)&&(s.modal.description="<br/>"),s.data.qualYn==="Y"?s.modal.subTitle=s.name+"님은 서울런 가입대상입니다.":s.data.seoulJuminYn!="Y"||s.data.ageCondYn!="Y"?s.modal.subTitle=s.name+"님은 서울런 가입대상이 아닙니다.":s.modal.subTitle=s.name+"님은 추가서류 확인이 필요합니다.";for(var a in s.data)s.data[a]==="Y"?s.data[a]={class:"c-text-blue",text:"O"}:s.data[a]={class:"c-text-danger",text:"X"};return s.modal.isShow=!0,s.checkModal.isShow=!1,!0}})},m=()=>{s.isValid=!1,s.name="",s.rrn1="",s.rrn2="",s.checkModal.isShow=!1,s.modal.isShow=!1};return(o,a)=>{const h=Y;return S(),j(M,null,[f(h,{data:n(s).modal,onClose:m},{innerContents:g(()=>[t("div",E,[t("table",B,[F,I,t("tbody",null,[t("tr",null,[J,R,t("td",null,[t("strong",{class:c(n(s).data.seoulJuminYn.class)},r(n(s).data.seoulJuminYn.text),3)])]),t("tr",null,[U,t("td",null,[t("strong",{class:c(n(s).data.ageCondYn.class)},r(n(s).data.ageCondYn.text),3)])]),t("tr",null,[$,z,t("td",null,[t("strong",{class:c(n(s).data.income50.class)},r(n(s).data.income50.text),3)])]),t("tr",null,[D,t("td",null,[t("strong",{class:c(n(s).data.naManMeritFamYn.class)},r(n(s).data.naManMeritFamYn.text),3)])]),t("tr",null,[P,t("td",null,[t("strong",{class:c(n(s).data.singleParentYn.class)},r(n(s).data.singleParentYn.text),3)])])])]),L]),t("div",{class:"c-modals__button"},[t("div",{class:"c-btn-group"},[t("button",{type:"submit",class:"c-btn c-btn-danger",onClick:m}," 확인 ")])])]),_:1},8,["data"]),f(h,{data:n(s).checkModal,onClose:m},{innerContents:g(()=>[O,t("div",X,[t("div",Z,[A,p(t("input",{id:"name",class:"c-form-control",type:"text",placeholder:"이름을 입력해주세요","onUpdate:modelValue":a[0]||(a[0]=l=>n(s).name=l),disabled:n(s).isValid,required:""},null,8,G),[[b,n(s).name]])]),t("div",H,[K,t("div",Q,[p(t("input",{id:"rrn",class:"c-form-control",type:"text",placeholder:"주민번호 앞 6자리",maxlength:"6",title:"주민번호 앞 6자리","onUpdate:modelValue":a[1]||(a[1]=l=>n(s).rrn1=l),disabled:n(s).isValid,required:""},null,8,W),[[b,n(s).rrn1]]),d(" - "),p(t("input",{id:"rrn02",class:"c-form-control",type:"password",placeholder:"주민번호 뒤 7자리",maxlength:"7",title:"주민번호 뒤 6자리","onUpdate:modelValue":a[2]||(a[2]=l=>n(s).rrn2=l),disabled:n(s).isValid,required:""},null,8,tt),[[b,n(s).rrn2]]),t("button",{class:c(["c-btn c-btn-sm",n(s).isValid?"c-btn-light":""]),disabled:n(s).isValid,onClick:v}," 주민번호 인증 ",10,st)])])]),t("div",nt,[t("div",et,[t("button",{type:"submit",class:"c-btn c-btn-blue",onClick:m}," 닫기 "),t("button",{type:"submit",class:"c-btn c-btn-primary",onClick:a[3]||(a[3]=l=>w())}," 확인 ")])])]),_:1},8,["data"]),t("div",at,[ot,t("div",lt,[t("div",it,[ct,t("div",dt,[rt,_t,t("div",ut,[mt,t("button",{class:"c-btn c-btn-lg c-btn-primary w-100",onClick:a[4]||(a[4]=l=>n(s).checkModal.isShow=!0)}," 간편대상 확인하기 ")])])])])])],64)}}},gt=y(pt,[["__scopeId","data-v-a4f0625d"]]);export{gt as default};

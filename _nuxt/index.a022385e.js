import{_ as V}from"./CommonContentsModal.1a643f7e.js";import{_ as A}from"./breadCrumbs.ffbcaef2.js";import{f as P,k as Y,O,Z as z,r as F,g as H,h as r,l as C,c as _,b as p,w as u,i as s,a as t,D as J,t as d,d as f,v as k,F as I,s as q,E as h,H as j,J as G,o as c,y as b,S as W,z as S,A as Z,U as w,C as K,ap as Q}from"./entry.e1c54084.js";import X from"./_snb.5c7ca73e.js";import tt from"./_snbTablet.5be258ab.js";import ot from"./_updateBody.51f3fdec.js";import"./1.5c1c421a.js";import"./Input.9ccbf189.js";import"./Countdown.669033c6.js";import"./ic-check.70858d0c.js";import"./vue-daum-postcode.7b75c6e7.js";const st={class:"c-form-group"},et=t("label",{for:"reason",class:"c-form-label"},"탈퇴사유",-1),nt=t("option",{disabled:"",selected:"",hidden:"",value:""}," 탈퇴 사유를 선택해주세요. ",-1),at=t("option",{value:"서울런 이용이 필요 없어짐.(진학, 졸업 등)"}," 서울런 이용이 필요 없어짐.(진학, 졸업 등) ",-1),lt=t("option",{value:"서울런 이용할 시간이 부족 함"}," 서울런 이용할 시간이 부족 함 ",-1),it=t("option",{value:"학습사이트 강좌가 맞지 않음"}," 학습사이트 강좌가 맞지 않음 ",-1),dt=t("option",{value:"서울런 홈페이지 사용이 불편 함"}," 서울런 홈페이지 사용이 불편 함 ",-1),rt=t("option",{value:"기타"},"기타",-1),ct=[nt,at,lt,it,dt,rt],mt={class:"c-modals__button"},pt={class:"c-btn-group"},ut=["innerHTML"],_t={class:"c-modals__button"},ft={class:"c-btn-group"},bt={class:"c-form-group"},gt=t("label",{for:"title",class:"c-form-label"},"평생교육 포털 아이디",-1),ht={class:"c-input-group"},wt={class:"c-form-group"},vt=t("label",{for:"agree",class:"c-form-label"},"약관동의",-1),yt={class:"c-form-check__box"},Mt={class:"c-form-check"},Ct=t("label",{class:"c-form-check-label",for:"exampleCheckbox01-02"}," 이용약관에 관한 동의 (필수) ",-1),kt={class:"mypage"},It={class:"mypage-recommend"},St={class:"mypage__wrap"},Lt={class:"mypage__contents"},xt=j('<div class="mypage__contents-head"><div class="c-text-title-lg">회원정보 변경</div><div class="c-text-title-sub"><p> 개인정보 보호를 위해 다시 한번<br class="c-mo"> 비밀번호를 입력해주세요. <br>도움이 필요하실 땐 서울런 고객센터 <br class="c-mo"> (1533-0909)로 연락주세요! </p></div></div>',1),$t={key:0,class:"mypage__contents-body"},Et={class:"mypage__form-wrap"},Rt={class:"mypage__form"},Dt={class:"mypage__form-profile"},Nt={href:"#",class:"mypage__form-profile-img"},Tt=["src"],Bt=t("dt",null,"이름",-1),Ut={class:"type02"},Vt=t("dt",null,"가입일",-1),At={class:"mypage__form-profile-link"},Pt={class:"type02"},Yt=t("dt",null,"아이디",-1),Ot={class:"mypage__form-profile-link"},zt=["src","alt"],Ft=["src","alt"],Ht=t("dt",null,"비밀번호 변경",-1),Jt=t("dt",null,"이메일 주소",-1),qt=t("dt",null,"주소",-1),jt=t("br",null,null,-1),Gt=t("dt",null,"휴대폰 번호",-1),Wt=t("dt",null,"이벤트 문자 수신 정보",-1),Zt=t("dt",null,"회원탈퇴",-1),Kt={class:"c-btn-group"},uo={__name:"index",setup(Qt){const v=P(),l=Y(),m=O();z(()=>m.snsId,n=>{n!=""&&x()});const o=F({isEdit:!1,socialButtons:[{code:"JOIN_T003",name:"네이버",type:"naver",text:"네이버계정으로 연동",alt:"네이버 로고"},{code:"JOIN_T002",name:"카카오",type:"kakao",text:"카카오계정으로 연동",alt:"카카오톡 로고"}],socialLoginInfo:{name:"",code:""},withdrawlsModal:{isShow:!1,subTitle:`회원을 탈퇴할 경우
            <span class="c-text-primary">6개월간 재가입</span>이
            불가능합니다.<br />
            또한 6개월 이후에는 모든 이력이 삭제되며, 복구할 수 없습니다.`,title:"회원 탈퇴",reason:"",etcReason:""},termsModal:{isShow:!1,innerContents:"",title:""},potalModal:{isShow:!1,title:"서울시 평생학습포털 연동",subTitle:"서울런에서 서울시 평생학습 포털 <br /> 학습내용을 확인하실 수 있습니다.",id:"",isAgree:""},data:{profile:"",userName:"",loginid:"",email:"",address1:"",address2:"",mobileno:"",zipcode:"",smsYn:""}});H(()=>{g()});const g=async()=>{await r({id:"마이페이지 회원 정보 조회",endpoint:"/api/member_info/get",data:{},onResponse({data:n}){console.log("login Data >>> ",n),o.data=n;const e=o.socialButtons.filter(i=>i.code===o.data.snsConnects[0])[0];return e!=null&&(o.socialLoginInfo=e),o.data.profile=C.isEmpty(n.profile)?"1":n.profile,!0}})},L=()=>{l.confirm("알림","간편 로그인 인증 해제시 아이디 패스워드로 로그인 가능합니다.",async()=>{await r({id:"마이페이지 sns 연동 해지",endpoint:"/api/member_info/sns/disconnect",method:"post",data:{snsCd:o.socialLoginInfo.code},onResponse({data:n}){return l.alert("알림","SNS 연동이 해지되었습니다."),o.socialLoginInfo.code="",g(),!0}})})},x=async()=>{await r({id:"마이페이지r sns 연동",endpoint:"/api/member_info/sns/connect",method:"post",data:{snsCd:m.snsCd,snsId:m.snsId,onepass_ci:m.snsCi},onResponse({data:n}){l.alert("알림","SNS 연동이 완료되었습니다.");const e=o.socialButtons.filter(i=>i.code===m.snsCd)[0];return e!=null&&(o.socialLoginInfo=e),!0}})},$=async()=>{if(o.withdrawlsModal.reason===""||o.withdrawlsModal.reason==="기타"&&o.withdrawlsModal.etcReason==="")return l.alert("알림","탈퇴 사유를 입력해주세요."),!1;await r({id:"마이페이지 회원 탈퇴",endpoint:"/api/member_info/withdraw",headers:"LOGIN",method:"post",data:{withdraw_reason:o.withdrawlsModal.reason==="기타"?o.withdrawlsModal.etcReason:o.withdrawlsModal.reason},onResponse({data:n,status:e}){return console.log("탈퇴 >> ",n),e===200?l.alert("알림","탈퇴되었습니다.",()=>{E()}):l.alert("알림","실패하였습니다. 관리자에게 문의해주세요."),!0}})},E=()=>{r({method:"post",id:"로그아웃",endpoint:"/api/login/logout",data:{},onResponse({data:n,status:e,message:i}){console.log("logoutstatus",e),e===200&&(m.userId="",sessionStorage.clear(),v.push("/"),o.userId="")}})},R=async()=>{await r({id:"마이페이지 약관 내용 보기",endpoint:"/api/member_info/terms",headers:"PUBLIC",data:{cp_id:"SEOULLEARN",term_div_code:"TEMPLATE_P010"},onResponse({data:n}){return console.log("term >>> ",n),o.termsModal.innerContents=n.term_desc,o.termsModal.title=n.term_title,o.potalModal.isShow=!1,o.termsModal.isShow=!0,!0}})},D=async()=>{o.potalModal.id?o.potalModal.isAgree||l.alert("","약관에 동의를 하셔야 연동이 가능합니다. 확인 후 다시 시도해주시길 바랍니다"):l.alert("","아이디를 입력하셔야 연동이 시작됩니다. 확인 후 다시 시도해주시길 바랍니다"),await r({id:"마이페이지 평생 교육 포털 아이디 조회",endpoint:"/api/member_info/sll/find_id",headers:"PUBLIC",data:{id:o.potalModal.id},onResponse({data:n,status:e}){return console.log("평생 교육 포털 아이디 조회 >>> "+n),e===200?l.alert("알림","평생교육 포털 학습연동이 완료되었습니다"):l.alert("","평생교육 포털 연동에 실패했습니다. ID를 다시 한번 확인해주시거나, 관리자에게 문의해주시길 바랍니다"),!0}})},N=()=>{g(),o.isEdit=!1},T=()=>{v.push("/reset-pw")};return(n,e)=>{const i=V,B=A,y=G;return c(),_(I,null,[p(i,{data:s(o).withdrawlsModal,onClose:e[3]||(e[3]=a=>s(o).withdrawlsModal.isShow=!1)},{innerContents:u(()=>[t("div",st,[et,b(t("select",{id:"reason",class:"c-form-control","onUpdate:modelValue":e[0]||(e[0]=a=>s(o).withdrawlsModal.reason=a)},ct,512),[[W,s(o).withdrawlsModal.reason]]),s(o).withdrawlsModal.reason==="기타"?b((c(),_("input",{key:0,class:"c-form-control",type:"text","onUpdate:modelValue":e[1]||(e[1]=a=>s(o).withdrawlsModal.etcReason=a)},null,512)),[[S,s(o).withdrawlsModal.etcReason]]):k("",!0)]),t("div",mt,[t("div",pt,[t("button",{type:"submit",class:"c-btn c-btn-primary",onClick:e[2]||(e[2]=a=>s(o).withdrawlsModal.isShow=!1)}," 취소 "),t("button",{type:"submit",class:"c-btn c-btn-primary",onClick:$}," 확인 ")])])]),_:1},8,["data"]),p(i,{data:s(o).termsModal,onClose:e[5]||(e[5]=a=>s(o).termsModal.isShow=!1)},{innerContents:u(()=>[t("div",{class:"c-modals__contents-terms",innerHTML:s(o).termsModal.innerContents},null,8,ut),t("div",_t,[t("div",ft,[t("button",{type:"submit",class:"c-btn c-btn-danger",onClick:e[4]||(e[4]=a=>{s(o).termsModal.isShow=!1,s(o).potalModal.isShow=!0})}," 확인 ")])])]),_:1},8,["data"]),p(i,{data:s(o).potalModal,onClose:e[8]||(e[8]=a=>s(o).potalModal.isShow=!1)},{innerContents:u(()=>[t("div",bt,[gt,t("div",ht,[b(t("input",{id:"title",class:"c-form-control",type:"text",placeholder:"아이디를 입력해주세요","onUpdate:modelValue":e[6]||(e[6]=a=>s(o).potalModal.id=a),required:""},null,512),[[S,s(o).potalModal.id]])])]),t("div",wt,[vt,t("div",yt,[t("div",Mt,[b(t("input",{class:"c-form-check-input",type:"checkbox",name:"exampleCheckbox01",id:"exampleCheckbox01-02","onUpdate:modelValue":e[7]||(e[7]=a=>s(o).potalModal.isAgree=a),required:""},null,512),[[Z,s(o).potalModal.isAgree]]),Ct]),t("button",{class:"c-btn c-btn-text c-btn-text--line",onClick:R}," 내용보기 ")])]),t("div",{class:"c-modals__button"},[t("div",{class:"c-btn-group"},[t("button",{type:"submit",class:"c-btn c-btn-danger",onClick:D}," 네, 알겠어요 ")])])]),_:1},8,["data"]),t("div",kt,[p(tt,{currentUrl:"/mypage/pw-check"}),p(B),t("div",It,[t("div",St,[p(X,{currentUrl:"/mypage/pw-check"}),t("div",Lt,[xt,s(o).isEdit?(c(),h(ot,{key:1,data:s(o).data,onConfirm:N},null,8,["data"])):(c(),_("div",$t,[t("div",Et,[t("div",Rt,[t("form",{class:"needs-validation",onSubmit:e[12]||(e[12]=J(()=>{},["prevent"])),novalidate:""},[t("fieldset",null,[t("div",Dt,[t("a",Nt,[t("img",{src:("uImage"in n?n.uImage:s(w))(`@temp/${s(o).data.profile}.jpg`),alt:"회원 프로필 이미지"},null,8,Tt)])]),t("dl",null,[Bt,t("dd",null,d(s(o).data.userName),1)]),t("dl",Ut,[Vt,t("dd",null,[f(d(("uConvertDate"in n?n.uConvertDate:s(K))(s(o).data.regDtm,"YYYY.MM.DD"))+" ",1),t("div",At,[k("",!0),t("button",{type:"button",onClick:e[9]||(e[9]=a=>s(o).potalModal.isShow=!0),class:"c-btn c-btn-lg c-btn-block c-btn-outline-secondary"}," 서울시평생학습포털 학습이력 연동 ")])])]),t("dl",Pt,[Yt,t("dd",null,[f(d(("isEmpty"in n?n.isEmpty:s(C.isEmpty))(s(o).data.sll_Id)?s(o).data.loginid:s(o).data.sll_Id)+"    ",1),t("div",Ot,[s(o).socialLoginInfo.code===""?(c(!0),_(I,{key:0},q(s(o).socialButtons,({type:a,text:U,src:Xt,alt:M})=>(c(),h(y,{alt:M,title:"새창으로 이동",class:"c-btn c-btn-lg c-btn-outline-secondary",sizeType:"large",text:U,onClick:to=>("uSocialLogin"in n?n.uSocialLogin:s(Q))(a)},{before:u(()=>[t("img",{src:("uImage"in n?n.uImage:s(w))(`logo-${a}.svg`),alt:M},null,8,zt)]),_:2},1032,["alt","text","onClick"]))),256)):(c(),h(y,{key:1,class:"c-btn c-btn-lg c-btn-outline-secondary",sizeType:"large",text:`${s(o).socialLoginInfo.text}해지`,onClick:L},{before:u(()=>[t("img",{src:("uImage"in n?n.uImage:s(w))(`logo-${s(o).socialLoginInfo.type}.svg`),alt:s(o).socialLoginInfo.alt},null,8,Ft)]),_:1},8,["text"]))])])]),t("dl",null,[Ht,t("dd",null,[t("button",{class:"c-btn c-btn-sm c-btn-primary",onClick:T}," 비밀번호 변경 ")])]),t("dl",null,[Jt,t("dd",null,d(s(o).data.email),1)]),t("dl",null,[qt,t("dd",null,[f(d(s(o).data.address1)+" ",1),jt,f(" "+d(s(o).data.address2),1)])]),t("dl",null,[Gt,t("dd",null,d(s(o).data.mobileno),1)]),t("dl",null,[Wt,t("dd",null,d(s(o).data.smsYn==="Y"?"수신":"미수신"),1)]),t("dl",null,[Zt,t("dd",null,[t("button",{class:"c-btn c-btn-sm c-btn-primary",onClick:e[10]||(e[10]=a=>s(o).withdrawlsModal.isShow=!0)}," 탈퇴하기 ")])])]),t("div",Kt,[t("button",{type:"button",class:"c-btn c-btn-lg c-btn-primary",onClick:e[11]||(e[11]=a=>s(o).isEdit=!0)}," 회원정보 수정 ")])],32)])])]))])])])])],64)}}};export{uo as default};

import{_ as D}from"./CommonContentsModal.1a643f7e.js";import{_ as $}from"./Select.c0424bc0.js";import{_ as R}from"./Countdown.669033c6.js";import{_ as B,f as O,k as H,O as F,r as Y,Q as G,Z as J,c as d,b as n,w as b,i as o,a as t,F as Q,H as W,h as E,am as Z,J as K,o as c,y as I,z as N,t as X,E as L,v as _,d as p,p as ee,e as te,l as v}from"./entry.e1c54084.js";import{_ as oe}from"./Input.9ccbf189.js";import{_ as se}from"./TermsGroup.575e6ec4.js";import{_ as ae}from"./ic-check.70858d0c.js";import le from"./_nav.d722f5c5.js";import"./Checkbox.20dceeb0.js";const i=f=>(ee("data-v-5c5ba983"),f=f(),te(),f),ie=["innerHTML"],ne={class:"c-modals__form"},ce={class:"c-form-group"},me=i(()=>t("label",{for:"emailAddress",class:"c-form-label"},"이메일 주소",-1)),de={class:"c-input-group c-input-group--email"},re={class:"c-input-group"},ue=i(()=>t("p",{class:"c-text-danger",counter:""},null,-1)),_e={key:1,class:"c-text-danger"},pe=i(()=>t("img",{src:ae,alt:"확인완료"},null,-1)),fe={key:0,class:"c-text-caution c-text-caution--type02 c-text-danger"},be={key:1,class:"c-text-caution c-text-caution--type02 c-text-danger"},ve={key:2,class:"c-text-caution c-text-caution--type02 c-text-blue"},he={class:"c-modals__button"},xe={class:"c-btn-group"},Ce={class:"account"},ye=i(()=>t("h1",null,"회원가입",-1)),Te={class:"account__body"},ke={key:0,class:"join"},ge=i(()=>t("h2",{class:"account__title"},[p(" 서울런 가입하여"),t("br"),p(" 다양한 활동을 할 수 있어요 ")],-1)),Ee={class:"account__agree"},Ie=i(()=>t("div",{class:"account__agree-title"}," ‘서울런’ 약관 및 개인정보 수집/이용 동의 ",-1)),Ne=W('<div class="c-form-group" data-v-5c5ba983><label for="phone" class="c-form-label" data-v-5c5ba983>법정대리인 인증(만 14세 미만)</label><div class="account__info" data-v-5c5ba983><div class="account__info-title" data-v-5c5ba983> 만 14세 미만일 경우 법정대리인(보호자)의 인증을 통해 <br data-v-5c5ba983> 회원가입이 가능합니다. </div><div class="account__info-title c-text-danger" data-v-5c5ba983> ※ 주의! 법정대리인 정보로만 인증해 주세요.<br data-v-5c5ba983><span data-v-5c5ba983> 만 14세 미만 아동의 개인 정보 보호를 위해 [개인정보 보호법] 제22조에 따라 법정대리인(부모/법정후견인 등)의 동의를 받아야 합니다. </span></div></div></div>',1),Le={key:1,class:"join"},Me=i(()=>t("h2",{class:"account__title"},[p(" 반드시 약관의 내용을"),t("br"),p(" 확인해주세요! ")],-1)),Se={class:"account__agree"},Ve=i(()=>t("div",{class:"account__agree-title"}," ‘서울런’ 약관 및 개인정보 수집/이용 동의 ",-1)),Ae={class:"c-form-group"},ze={class:"c-form-group"},qe=i(()=>t("div",{class:"c-form-label"},"본인인증",-1)),je={class:"c-box"},we=i(()=>t("div",{class:"c-box__title"},"휴대폰 인증",-1)),Pe=i(()=>t("div",{class:"c-box__title-sub"},"고객님 명의의 휴대폰으로 인증",-1)),Ue={class:"c-box"},De=i(()=>t("div",{class:"c-box__title"},"이메일 인증",-1)),$e=i(()=>t("div",{class:"c-box__title-sub"},"등록된 이메일로 인증",-1)),Re={class:"account__foot"},Be={class:"c-btn-group"},Oe={__name:"index",setup(f){const C=O(),m=H(),r=F(),e=Y({age14:r.joinInfo.age,termsList:[{key:"term1-id-1",text:"이용약관에 관한 동의",value:!1,required:!0,cpId:"SEOULLEARN",termCode:"TEMPLATE_P002"},{key:"term1-id-2",text:"개인정보 수집/이용에 관한 동의",value:!1,required:!0,cpId:"SEOULLEARN",termCode:"TEMPLATE_P003"},{key:"term1-id-3",text:"제 3자 위탁 동의",value:!1,required:!0,cpId:"SEOULLEARN",termCode:"TEMPLATE_P005"},{key:"term1-id-4",text:"위탁업무 (필수)",value:null,cpId:"SEOULLEARN",termCode:"TEMPLATE_P006",noCheck:!0}],termInfo:{},btnText:"인증하기",btnDisabled:!1,checkMob:!1,emailModalInfo:{},emailCode:"",emailList:G(),emailId:"",emailAddr:"",emailText:"인증번호 발송",emailSend:!1,emailTimer:!1,emailCheckNum:"",emailConfirmNum:"",emailConfirm:!1,emailNumEqaul:!1,command:"start"}),y=async a=>{await E({method:"get",id:"회원가입 약관 조회",endpoint:"/api/join/terms",data:{cp_id:a.id,term_div_code:a.code},onResponse({data:s,status:x}){e.termInfo.isShow=!0,e.termInfo.title=s.term_title,e.termInfo.innerContents=s.term_desc}})},M=()=>{C.push("/join/qualification")},S=()=>{C.push("/join/step03")},T=()=>{e.termInfo.isShow=!1},k=()=>{if(!(e.checkMob||e.btnDisabled))if(e.termsList.some(a=>a.value===!1)){m.alert("알림","약관동의가 필요합니다.");return}else Z()};J(()=>r.passInfo,a=>{if(!v.isEmpty(a))if(r.joinInfo.age>13&&r.joinInfo.usernm!=a.NAME){m.alert("알림","자격검증시 입력한 명의의 휴대전화를 사용해야합니다."),r.passInfo={};return}else m.alert("알림","인증이 완료되었습니다.<br/> 다음으로 진행해주시길 바랍니다",()=>{e.checkMob=!0,e.btnText="인증완료",e.btnDisabled=!0})});const V=()=>{if(!e.btnDisabled)if(e.termsList.some(a=>a.value===!1)){m.alert("알림","약관동의가 필요합니다.");return}else e.emailConfirm=!1,e.emailNotConfirm=!1,e.emailSend=!1,e.emailConfirmNum="",e.emailTimer=!1,e.emailModalInfo.isShow=!0,e.emailModalInfo.title="이메일 인증",e.emailNumEqaul=!1},h=a=>{e.emailConfirm&&a&&(e.btnText="인증완료",e.btnDisabled=!0,e.checkMob=a),e.emailModalInfo.isShow=!1},A=a=>{e.emailAddr=a},z=()=>{e.emailCheckNum="",e.emailSend=!1,e.emailTimer=!0,e.emailNumEqaul=!1,e.emailText="인증번호 재발송"},q=()=>{if(console.log("certiEmail"),e.emailTimer=!1,e.command="restart",v.isEmpty(e.emailId)){m.alert("알림","이메일을 입력해주세요.");return}else if(v.isEmpty(e.emailAddr)){m.alert("알림","이메일을 입력해주세요.");return}E({method:"post",id:"회원가입 이메일 인증",endpoint:"/api/ident_by_email",data:{email:e.emailId+"@"+e.emailAddr},onResponse({data:a,status:s}){if(console.log("data ",a),e.command="start",v.isEqual(a.dupYn,"Y")){m.alert("알림","이메일이 중복되었습니다.");return}else r.emailModalInfo=a,e.emailSend=!0,e.emailConfirmNum=a.crtfNumber}})},j=()=>{console.log("onClickConfirm"),e.emailConfirmNum!=e.emailCheckNum?(m.alert("알림","잘못된 인증번호입니다."),e.emailConfirm=!1,e.emailNumEqaul=!0,e.emailCheckNum=""):(e.emailConfirm=!0,e.emailNumEqaul=!1)};return(a,s)=>{const x=D,w=$,P=R,u=K,U=oe,g=se;return c(),d(Q,null,[n(x,{data:o(e).termInfo,onClose:T},{innerContents:b(()=>[t("div",{class:"c-modals__contents-terms",innerHTML:o(e).termInfo.innerContents},null,8,ie),t("div",{class:"c-modals__button"},[t("div",{class:"c-btn-group"},[t("button",{type:"submit",class:"c-btn c-btn-danger",onClick:T}," 확인 ")])])]),_:1},8,["data"]),n(x,{data:o(e).emailModalInfo,onClose:s[6]||(s[6]=l=>h(!1))},{innerContents:b(()=>[t("div",ne,[t("div",ce,[me,t("div",de,[I(t("input",{id:"emailId",class:"c-form-control",type:"text",placeholder:"이메일 아이디",title:"이메일주소 입력","onUpdate:modelValue":s[0]||(s[0]=l=>o(e).emailId=l)},null,512),[[N,o(e).emailId]]),n(w,{modelValue:o(e).emailCode,"onUpdate:modelValue":[s[1]||(s[1]=l=>o(e).emailCode=l),A],options:o(e).emailList},null,8,["modelValue","options"])]),t("div",re,[I(t("input",{id:"emailAddress",class:"c-form-control",type:"text",placeholder:"이메일 주소를 입력해주세요.",title:"이메일 입력","onUpdate:modelValue":s[2]||(s[2]=l=>o(e).emailAddr=l)},null,512),[[N,o(e).emailAddr]]),t("button",{class:"c-btn c-btn-sm c-btn-sm--type02 c-btn-blue",onClick:q},X(o(e).emailText),1)]),o(e).emailSend?(c(),L(U,{key:0,modelValue:o(e).emailCheckNum,"onUpdate:modelValue":s[3]||(s[3]=l=>o(e).emailCheckNum=l)},{default:b(()=>[o(e).emailConfirm?_("",!0):(c(),L(P,{key:0,command:o(e).command,seconds:300,onEnd:z},{default:b(()=>[ue]),_:1},8,["command"])),o(e).emailConfirm?(c(),d("p",_e,[pe,p(" 확인완료 ")])):_("",!0),n(u,{size:"auto",sizeType:"small",styleType:"blue",text:"인증번호확인",validator:!0,onClick:j})]),_:1},8,["modelValue"])):_("",!0)]),o(e).emailNumEqaul?(c(),d("div",fe," * 인증번호가 일치하지 않습니다. ")):_("",!0),o(e).emailTimer&&!o(e).emailConfirm?(c(),d("div",be," * 입력시간이 초과하였습니다. ")):_("",!0),o(e).emailConfirm?(c(),d("div",ve," * 인증 되었습니다. ")):_("",!0)]),t("div",he,[t("div",xe,[t("button",{type:"submit",class:"c-btn c-btn-blue",onClick:s[4]||(s[4]=l=>h(!1))}," 닫기 "),t("button",{type:"submit",class:"c-btn c-btn-danger",onClick:s[5]||(s[5]=l=>h(!0))}," 확인 ")])])]),_:1},8,["data"]),t("div",Ce,[ye,n(le,{active:2}),t("div",Te,[o(e).age14<14?(c(),d("div",ke,[ge,t("div",Ee,[Ie,n(g,{modelValue:o(e).termsList,"onUpdate:modelValue":s[7]||(s[7]=l=>o(e).termsList=l),onTerms:y},null,8,["modelValue"])]),Ne,n(u,{class:"c-btn-lg",sizeType:"full",styleType:"primary",text:o(e).btnText,onConfirm:k,validator:!o(e).checkMob},null,8,["text","validator"])])):(c(),d("div",Le,[Me,t("div",Se,[Ve,n(g,{modelValue:o(e).termsList,"onUpdate:modelValue":s[8]||(s[8]=l=>o(e).termsList=l),onTerms:y},null,8,["modelValue"])]),t("div",Ae,[t("div",ze,[qe,t("div",je,[we,Pe,n(u,{class:"c-box-btn",size:"auto",sizeType:"small",styleType:o(e).btnDisabled?"blue":"primary",text:o(e).btnText,onClick:k},null,8,["styleType","text"])]),t("div",Ue,[De,$e,n(u,{class:"c-box-btn",size:"auto",sizeType:"small",styleType:o(e).btnDisabled?"blue":"primary",text:o(e).btnText,onClick:V},null,8,["styleType","text"])])])])]))]),t("div",Re,[t("div",Be,[n(u,{size:"auto",sizeType:"large",styleType:"blue",text:"취소",onClick:M}),n(u,{size:"auto",sizeType:"large",styleType:"danger",text:"다음",onConfirm:S,validator:o(e).checkMob},null,8,["validator"])])])])],64)}}},Xe=B(Oe,[["__scopeId","data-v-5c5ba983"]]);export{Xe as default};

import{f as ve,k as fe,au as be,r as oe,aw as ke,h as Q,ay as Ce,o as n,E as L,w as Se,c as y,a as e,D as v,d as he,i as t,F as de,s as ye,Y as De,ad as V,v as M,a0 as Te,a1 as Re,b4 as Ie,l as H,ab as Oe,V as ce,L as Y,t as D,aV as He,g as Ve,x as Be,y as _e,az as ge,B as Ne,z as ze,b as pe,N as qe,av as We,aA as ne,n as K,aD as Ke,aE as Qe}from"./entry.e1c54084.js";import{_ as Xe}from"./breadCrumbs.ffbcaef2.js";import{_ as Je}from"./title.fb65f11f.js";import{f as Le,g as we,h as xe,i as Ae,j as Ye,k as Fe,l as Ue,m as Ze,a as et,e as tt,b as st,c as nt,d as ot,_ as at}from"./ConfirmHooky.825b059f.js";import{o as lt}from"./main.2d4970b0.js";import{_ as ct}from"./1.5c1c421a.js";import rt from"./_snb.5c7ca73e.js";import it from"./_snbTablet.5be258ab.js";import"./nuxt-link.996d70a9.js";import"./ch-management.fd76c6e1.js";import"./index.esm.a3631549.js";const dt={key:0,class:"c-modals"},ut={class:"c-modals__inner c-modals__inner--lg"},mt={class:"c-modals__head"},_t={class:"c-modals__contents"},pt={class:"c-modals__survey"},bt={class:"c-modals__survey-col"},ht={class:"c-modals__survey-col-item"},yt={class:"c-form-group"},gt=e("label",{for:"name",class:"c-form-label"},"멘티명",-1),vt=["value"],ft={class:"c-modals__survey-col"},Ct={class:"c-modals__survey-col-item"},Et={class:"c-form-group"},$t=e("label",{for:"subject",class:"c-form-label"},"신청 과목",-1),Mt=["value"],kt={class:"c-modals__survey-col"},St={class:"c-modals__survey-col-item"},Tt={class:"c-form-group"},Rt=e("label",{for:"subject-etc",class:"c-form-label"},"신청 과목 기타",-1),Nt=["value"],Dt={class:"c-modals__button"},It={class:"c-btn-group"},Ot=e("button",{type:"submit",class:"c-btn c-btn-primary"}," 등록 ",-1),qt={__name:"ConfirmDeepSurvey",props:{show:{Type:Boolean,default:()=>!1},props:{Type:Object,default:()=>({})}},async setup(F){let j,P;const{show:X,props:f}=F,I={ONM:Le,EI:we,GK:xe,DATE:Ae,WHL:Ye,SELECT:Fe,FJ:Ue},{$dayjs:J}=Re(),Z=ve(),B=fe(),{MESSAGE:x,MENTORING:{MENTORING_DEEP_LEARNING_FORM_LIST:R,MENTORING_DEEP_LEARNING_FORM_SUBMIT:_}}=be(),O=oe([]);let q=oe([]);const U=oe({smtrIdx:f.smtrIdx,questions:[],detail:{detailSeq:"",detailStartDate:"",detailStartTime:"",detailCurriculum:""}}),{handleSubmit:ee,isSubmitting:$,...z}=ke({initialValues:{}}),te=async()=>{await Q({id:"멘토링 관리 - 모달 심화 활동",endpoint:R.replace(/{smtrIdx}/,f.smtrIdx),onResponse:({data:k})=>{const{menteeName:g,menteeSubject:d,menteeSubjectEtc:r,questionInfo:l,maxSeq:a}=k;O.push(g,d,r);const c=l.slice(),p=5;q.push({itemType:"SELECT",label:"심화활동 진행회차",items:Array(a).fill(!1).map((C,S)=>({text:`${p+S}회차`,value:p+S})),props:{refColumn:"DEEP_LEARNING_SEQ",rules:"required"}},{itemType:"DATE",label:"심화활동 날짜 및 시작시간",items:[],props:{refColumn:"DEEP_LEARNING_DTM",rules:"required"}}),q=[].concat(q,c.map(({qustTypeCode:C,qustDesc:S,questionItems:E,refColumn:T,qustSeq:u})=>{const A=Ie(C);let ue=H.isEmpty(T)?Oe("survey"):T,ae="required",G={};return U.questions.push({qustSeq:u,refColumn:T,answer:""}),{itemType:A,label:S,items:E,props:{refColumn:ue,rules:ae,attrs:G}}})),q.push({itemType:"WHL",label:"세부계획",items:[],props:{refColumn:"DETAIL_CURRICULUM",rules:"required"}})}})},re=async()=>{await te()},w=ee(async k=>{try{const{DEEP_LEARNING_SEQ:g,DEEP_LEARNING_DTM:d,DETAIL_CURRICULUM:r,...l}=k,a=J(d);Object.assign(U,{detail:{detailSeq:g,detailStartDate:a.clone().format("YYYYMMDDHHmmss"),detailStartTime:a.clone().format("HH:mm"),detailCurriculum:r}}),Object.entries(l).map(([c,p],C)=>{U.questions[C].answer=p}),await Q({id:"멘토링 관리 - 모달 심화 활동 등록",endpoint:_,method:"post",data:U,onResponse:({status:c,message:p})=>{if(c!==200){B.alert("알림",p);return}B.alert("알림",x.SUCCESS,()=>Z.go())}})}catch(g){console.error(g)}},({errors:k})=>{const[g]=Object.entries(k),[d,r]=g;document.querySelector(`#${d}`).focus()});return[j,P]=Ce(()=>re()),await j,P(),(k,g)=>(n(),L(Te,{name:"c-modals"},{default:Se(()=>[F.show?(n(),y("div",dt,[e("div",{class:"c-modals__bg",onClick:g[0]||(g[0]=v(d=>k.$attrs.onClose(),["stop"]))}),e("div",ut,[e("div",mt,[he(" 심화활동 계획서"),e("button",{class:"c-modals__head-close",type:"button",onClick:g[1]||(g[1]=v(d=>k.$attrs.onClose(),["prevent"]))}," 닫기 ")]),e("div",_t,[e("div",pt,[e("form",{onSubmit:g[3]||(g[3]=(...d)=>t(w)&&t(w)(...d))},[e("div",bt,[e("div",ht,[e("div",yt,[gt,e("input",{id:"name",class:"c-form-control",type:"text",required:"",disabled:"",value:t(O)[0]},null,8,vt)])])]),e("div",ft,[e("div",Ct,[e("div",Et,[$t,e("input",{id:"subject",class:"c-form-control",type:"text",required:"",disabled:"",value:t(O)[1]},null,8,Mt)])])]),e("div",kt,[e("div",St,[e("div",Tt,[Rt,e("input",{id:"subject-etc",class:"c-form-control",type:"text",required:"",disabled:"",value:t(O)[2]},null,8,Nt)])])]),(n(!0),y(de,null,ye(t(q),({itemType:d,...r},l)=>(n(),L(De(I[d]),V({...r},{name:r.props.refColumn,id:r.props.refColumn,tabIndex:l}),null,16,["name","id","tabIndex"]))),256)),e("div",Dt,[e("div",It,[e("button",{type:"button",class:"c-btn c-btn-primary",onClick:g[2]||(g[2]=v(d=>k.$attrs.onClose(),["prevent"]))}," 취소 "),Ot])])],32)])])])])):M("",!0)]),_:1}))}},Lt={key:0,class:"c-modals"},wt={class:"c-modals__inner c-modals__inner--lg"},xt={class:"c-modals__head"},At={class:"c-modals__contents"},Yt={class:"c-modals__survey"},Ft={class:"c-modals__survey-col-item"},Ut={class:"c-form-group"},Gt=["for"],jt=["id","value"],Pt=["id","innerHTML"],Ht={class:"c-modals__button"},Vt={class:"c-btn-group"},Bt=["disabled"],zt={__name:"ConfirmTemplateReport",props:{show:{Type:Boolean,default:()=>!1},props:{Type:Object,default:()=>({})}},async setup(F){let j,P;const{show:X,props:f}=F,I={ONM:Le,EI:we,GK:xe,DATE:Ae,WHL:Ye,SELECT:Fe,FJ:Ue,PRQ:Ze},J=ve(),Z=fe(),{MESSAGE:B,MENTORING:{MENTORING_REPORT_READ_FORM:x,MENTORING_REPORT_FORM:R}}=be(),_=oe([]);let O=oe([]);const q=oe({survPaperSeq:null,smtrIdx:null,smtdIdx:null,reportType:null}),U=oe({answers:[]}),ee=ce(null),{handleSubmit:$,isSubmitting:z,...te}=ke({initialValues:{}}),re=async()=>{const{ord:d,smtdIdx:r}=f;try{await Q({id:"멘토링 관리 - 모달 템플릿 보고서",endpoint:x.replace(/{smtdIdx}/,r),onResponse:({data:l})=>{const{menteeName:a,questions:c,mentoringDtm:p,...C}=l;ee.value=C.reportType;const S=c.slice();switch(C.reportType){case"CR":{const{menteeSchoolLevel:E,menteeSubject:T,menteeSubjectEtc:u,mentoringDetails:A}=C;_.push({label:"멘티명",value:a},{label:"멘토링 학교급",value:E},{label:"멘토링 과목",value:T},{label:"멘토링 과목 기타",value:u},{label:"멘토링 수행리스트",value:A.sort().join("<br/>").toString(),element:"textarea"});break}case"AR":case"A2":case"DR":{const{mentorName:E}=C;_.push({label:"회차 정보",value:`${d}회차`},{label:"진행일",value:p},{label:"멘티명",value:a},{label:"멘토명",value:E||f.mentorName});break}}Object.entries(C).forEach(([E,T])=>{H.isUndefined(q[E])||(q[E]=T)}),q.smtrIdx=f.smtrIdx,q.smtdIdx=f.smtdIdx,O=[].concat(O,S.map(({qustTypeCode:E,qustDesc:T,questionItems:u,refColumn:A,qustSeq:ue,submitSeq:ae,qustDivSeq:G,answer:me})=>{const s=Ie(E);let o=H.isEmpty(A)?Oe("learningReport"):A;return{itemType:s,label:T,items:u,props:{refColumn:o,submitSeq:ae,qustDivSeq:G,qustSeq:ue,rules:"required",attrs:{},value:me}}}))}})}catch{}},w=async()=>{await re()},k=$(async d=>{try{Object.entries(d).forEach(([r,l])=>{const a=O.slice(),[c]=a.filter(({props:E})=>E.refColumn===r),{props:{submitSeq:p,qustDivSeq:C,qustSeq:S}}=c;U.answers.push({submitSeq:p,qustDivSeq:C,qustSeq:S,answer:l})}),Object.assign(U,{...q}),await Q({id:"멘토링 관리 - 모달 보고서 폼 재출",endpoint:R,method:"post",data:U,onResponse:({status:r,message:l})=>{if(r!==200){Z.alert("알림",l);return}Z.alert("알림",B.SUCCESS,()=>J.go())}})}catch(r){console.error(r)}},({errors:d})=>{const[r]=Object.entries(d),[l,a]=r;document.querySelector(`#${l}`).focus()});[j,P]=Ce(()=>w()),await j,P();const g=Y(()=>{try{switch(ee.value.toUpperCase()){case"CR":return"완료 보고서";case"AR":case"A2":return"활동 보고서";case"DR":return"심화활동 보고서"}}catch{return""}});return(d,r)=>(n(),L(Te,{name:"c-modals"},{default:Se(()=>[F.show?(n(),y("div",Lt,[e("div",{class:"c-modals__bg",onClick:r[0]||(r[0]=v(l=>d.$attrs.onClose(),["stop"]))}),e("div",wt,[e("div",xt,[he(D(t(g))+" ",1),e("button",{class:"c-modals__head-close",type:"button",onClick:r[1]||(r[1]=v(l=>d.$attrs.onClose(),["prevent"]))}," 닫기 ")]),e("div",At,[e("div",Yt,[e("form",{onSubmit:r[3]||(r[3]=(...l)=>t(k)&&t(k)(...l))},[(n(!0),y(de,null,ye(t(_),(l,a)=>(n(),y("div",{class:"c-modals__survey-col",key:`staticItem-${a}`},[e("div",Ft,[e("div",Ut,[e("label",{for:`static-list-${a}`,class:"c-form-label"},D(l.label),9,Gt),("isUndefined"in d?d.isUndefined:t(H.isUndefined))(l.element)?(n(),y("input",{key:0,id:`static-list-${a}`,class:"c-form-control",type:"text",required:"",disabled:"",value:l.value},null,8,jt)):(n(),y("div",{key:1,class:"c-form-control",id:`static-list-${a}`,innerHTML:l.value,style:{height:"auto"}},null,8,Pt))])])]))),128)),(n(!0),y(de,null,ye(t(O),({itemType:l,...a},c)=>(n(),L(De(I[l]),V({...a},{name:a.props.refColumn,id:a.props.refColumn,tabIndex:c}),null,16,["name","id","tabIndex"]))),256)),e("div",Ht,[e("div",Vt,[e("button",{type:"button",class:"c-btn c-btn-primary",onClick:r[2]||(r[2]=v(l=>d.$attrs.onClose(),["prevent"]))}," 취소 "),e("button",{type:"submit",class:"c-btn c-btn-primary",disabled:t(z)}," 등록 ",8,Bt)])])],32)])])])])):M("",!0)]),_:1}))}},Wt={class:"c-modals"},Kt={class:"c-modals__inner"},Qt={class:"c-modals__head"},Xt={class:"c-modals__contents"},Jt={class:"c-modals__box"},Zt=e("dt",null,"멘토",-1),es=e("dt",null,"멘티",-1),ts=e("dt",null,"멘토링 예정일",-1),ss=e("dt",null,"멘토링 주차",-1),ns={key:0},os=e("dt",null,"멘토 예정장소",-1),as={key:0,class:"c-form-group"},ls=e("label",{for:"changeCheck01",class:"c-form-label"},"장소 변경요청유무",-1),cs={class:"c-form-check-group"},rs={class:"c-form-check"},is=e("label",{class:"c-btn c-btn-lg c-btn-block c-btn-outline-secondary",for:"changeCheck01"},"변경하기",-1),ds={class:"c-form-check"},us=e("label",{class:"c-btn c-btn-lg c-btn-block c-btn-outline-secondary",for:"changeCheck02"},"변경하지않기",-1),ms={class:"c-form-group"},_s=e("label",{for:"title",class:"c-form-label"},"변경 요청내용",-1),ps={class:"c-input-group"},bs={class:"c-form-group"},hs=e("label",{for:"change-date",class:"c-form-label"},"변경 요청 일자",-1),ys={class:"c-input-group c-input-group--type03 c-input-group--calendar",style:{overflow:"unset"}},gs={class:"c-modals__button"},vs={class:"c-btn-group"},fs=["disabled"],Cs={__name:"ConfirmChangeScheduleForMentor",props:{show:{Type:Boolean,default:()=>!1},props:{Type:Object,required:!0}},async setup(F){let j,P;const{show:X,props:f}=F,{$dayjs:I}=Re(),{DATE_3U:J,DATE_5U:Z}=be();He();const B=ce(null),x=fe(),R=ve(),_=ce(null),{MESSAGE:O,MENTORING:{MENTORING_CHANGE_SCHEDULE_FOR_MENTOR:q}}=be(),U=ce(I().format("YYYY-MM-DD")+" 00:00:00"),ee=Y(()=>f!=null&&f.nextMentoringDtm?I(f.nextMentoringDtm).subtract(1,"day").format("YYYY-MM-DD")+" 23:59:59":null),{handleSubmit:$,useFieldModel:z,isSubmitting:te,meta:re}=ke({validationSchema:{reqType:"required",reqReason:"requiredField:2",reqDtm:"required"},initialValues:{reqType:"",reqReason:"",reqDtm:I().format("YYYY-MM-DD HH:mm")}}),[w,k,g]=z(["reqType","reqReason","reqDtm"]),d=$(async({reqDtm:a,...c})=>{try{const p={...c},C=I(a),{ord:S,mentoringDetails:E}=f,[T]=E.slice().filter(({ord:u})=>S===u);if(Object.assign(p,{reqDtm:C.clone().format("YYYYMMDDHHmmss"),smtdIdx:T.smtdIdx}),!(I(a)>I())){x.alert("알림",O.IS_SCHEDULE_VALID_MIN_DATE);return}if(f.nextMentoringDtm){const u=I(I(f.nextMentoringDtm,J).format(J)).subtract(f.mentorDuration,"minute");if(I(a)>u){x.alert("알림",`${u.format(Z)} 까지 변경 가능합니다.<br/>확인 후 다시 시도해주세요.`);return}}await Q({id:"멘토링 관리 - 모달 일정변경 (멘토)",endpoint:q,method:"post",data:p,onResponse:({status:u,message:A})=>{if(u===200){x.alert("알림","일정변경 요청 등록이 완료되었습니다",()=>R.go());return}x.alert("알림",A)}})}catch(p){console.error(p)}},({errors:a})=>{const{reqReason:c}=a;c==="required:2"&&x.alert("알림","변경내용을 입력 후 다시 시도해주시길 바랍니다",()=>B.value.focus())}),r=async()=>{const{courseType:a}=f;_.value=a,_.value==="ON"&&(w.value="D")};Ve(()=>{document.getElementsByName("datePicker")[0].setAttribute("title","변경 요청 일자를 입력하세요")}),[j,P]=Ce(()=>r()),await j,P();const l=Y(()=>{try{const{actionRole:a,courseType:c,...p}=f,S={mentorName:Be("usernm"),menteeName:p.userName,mentoringDtm:p.mentoringDtm,mentoringOrd:`${p.ord} 회차`};return c.toString().toUpperCase()==="OFF"&&Object.assign(S,{mentoringLocation:p.mentoringLocation}),S}catch{return{}}});return(a,c)=>(n(),L(Te,{name:"c-modals"},{default:Se(()=>{var p,C,S,E,T;return[_e(e("div",Wt,[e("div",{class:"c-modals__bg",onClick:c[0]||(c[0]=v(u=>a.$attrs.onClose(),["stop"]))}),e("div",Kt,[e("div",Qt,[he(" 일정 / 장소변경 요청"),e("button",{class:"c-modals__head-close",type:"submit",onClick:c[1]||(c[1]=v(u=>a.$attrs.onClose(),["prevent"]))}," 닫기 ")]),e("div",Xt,[e("div",Jt,[e("dl",null,[Zt,e("dd",null,D((p=t(l))==null?void 0:p.mentorName),1)]),e("dl",null,[es,e("dd",null,D((C=t(l))==null?void 0:C.menteeName),1)]),e("dl",null,[ts,e("dd",null,D((S=t(l))==null?void 0:S.mentoringDtm),1)]),e("dl",null,[ss,e("dd",null,D((E=t(l))==null?void 0:E.mentoringOrd),1)]),t(_)==="OFF"?(n(),y("dl",ns,[os,e("dd",null,D((T=t(l))==null?void 0:T.mentoringLocation),1)])):M("",!0)]),t(_)==="OFF"?(n(),y("div",as,[ls,e("div",cs,[e("div",rs,[_e(e("input",{class:"c-btn-check",type:"radio",name:"changeCheck",id:"changeCheck01","onUpdate:modelValue":c[2]||(c[2]=u=>ge(w)?w.value=u:null),value:"L"},null,512),[[Ne,t(w)]]),is]),e("div",ds,[_e(e("input",{class:"c-btn-check",type:"radio",name:"changeCheck",id:"changeCheck02","onUpdate:modelValue":c[3]||(c[3]=u=>ge(w)?w.value=u:null),value:"D"},null,512),[[Ne,t(w)]]),us])])])):M("",!0),e("div",ms,[_s,e("div",ps,[_e(e("input",{id:"title",class:"c-form-control",type:"text",placeholder:"변경 요청일 / 장소 변경 요청 내용을 작성해주세요.",name:"reqReason",ref_key:"reqReasonRef",ref:B,"onUpdate:modelValue":c[4]||(c[4]=u=>ge(k)?k.value=u:null)},null,512),[[ze,t(k)]])])]),e("div",bs,[hs,e("div",ys,[e("div",null,[pe(t(lt),{name:"datePicker",modelValue:t(g),"onUpdate:modelValue":c[5]||(c[5]=u=>ge(g)?g.value=u:null),format:"yyyy.MM.dd HH:mm",locale:"ko",class:"date","enable-time-picker":!0,"time-picker-inline":"","minutes-grid-increment":"1","auto-apply":!0,clearable:!1,teleport:!0,"hide-input-icon":"",placeholder:"변경 요청 날짜",minDate:t(U),maxDate:t(ee)},null,8,["modelValue","minDate","maxDate"])])])]),e("div",gs,[e("div",vs,[e("button",{type:"button",class:"c-btn c-btn-primary",onClick:c[6]||(c[6]=v(u=>a.$attrs.onClose(),["prevent"]))}," 닫기 "),e("button",{type:"submit",class:"c-btn c-btn-primary",onClick:c[7]||(c[7]=v((...u)=>t(d)&&t(d)(...u),["prevent"])),disabled:t(te)}," 등록 ",8,fs)])])])])],512),[[qe,F.show]])]}),_:1}))}},Es=Ke(()=>Qe(()=>import("./MentorDetailsTable.1352c194.js"),["./MentorDetailsTable.1352c194.js","./entry.e1c54084.js","./entry.37685f99.css"],import.meta.url).then(F=>F.default||F)),$s={class:"mypage"},Ms={class:"mypage-management"},ks={class:"mypage__wrap"},Ss={class:"mypage__contents"},Ts={class:"mypage__contents-body"},Rs={key:0,class:"mypage-management__schedule"},Ns={class:"mypage__schedule"},Ds=["onClick"],Is=e("div",{class:"mypage-management__item-img"},[e("div",{class:"mypage-management__item-img-mask"},[e("img",{src:ct,alt:"프로필 이미지"})])],-1),Os={class:"mypage-management__item-text"},qs={class:"mypage-management__item-text-name"},Ls={class:"mypage-management__item-text-info"},ws={class:"mypage-management__item-btn"},xs=["onClick"],As=["onClick"],Ys={class:"mypage-management__item-body"},Fs=e("h3",{class:"mypage__schedule-list-body-title"}," 이용중인 학습 강좌 ",-1),Us={class:"mypage__schedule-list-body-lecture"},Gs={class:"mypage__schedule-list-body-lecture-img"},js=["src","alt"],Ps={key:0},Hs=e("h3",{class:"mypage__schedule-list-body-title"}," 다음 일정 ",-1),Vs={key:0,class:"mypage-management__box"},Bs={class:"mypage__schedule-list-head-wrap"},zs={class:"mypage__schedule-list-head"},Ws={class:"mypage__schedule-list-text"},Ks={class:"mypage__schedule-list-text-title"},Qs={class:"mypage__schedule-list-text-info"},Xs={class:"mypage__schedule-list-btn"},Js=["onClick","disabled"],Zs=["onClick"],en=["onClick"],tn=["disabled","onClick"],sn=["onClick","disabled"],nn=e("div",{class:"mypage__schedule-list-foot"},null,-1),on={key:1,class:"mypage-management__box"},an={class:"mypage-management__box-info mypage-management__box-info--type02"},ln=e("div",{class:"mypage-management__box-info-title"}," 고생하셨어요! 멘토링이 모두 완료되었습니다. ",-1),cn=e("p",null,[he(" 멘토링은 어떠셨나요?"),e("br",{class:"c-mo"}),he(" 필요하시면 멘토링 연장 신청을 신청도하세요. ")],-1),rn={class:"mypage-management__box-info-btn-box"},dn=["disabled","onClick"],un=["onClick"],mn=["onClick","disabled"],_n=e("h3",{class:"mypage__schedule-list-body-title"}," 전체 일정 ",-1),pn={class:"mypage-management__box"},bn={class:"mypage-management__box-info"},hn=e("span",null,"미작성 보고서",-1),yn=e("span",null,"결석 사유 미작성",-1),gn={key:0,class:"mypage-management__box"},vn={class:"mypage-management__box-info"},fn=e("div",{class:"mypage-management__box-info-title"}," 멘티와의 첫 만남은 어떠셨나요? ",-1),Cn=e("p",null,"이후 활동 계획서를 작성해주세요~",-1),En=["onClick"],$n={class:"c-btn-group"},Mn=["disabled","onClick"],An={__name:"mentor",async setup(F){let j,P;const{$dayjs:X}=Re(),{MESSAGE:f,MENTORING:{MENTORING_MANAGEMENT_FOR_MENTOR:I,MENTORING_ATTEND_SUBMIT:J,MENTORING_CYCLE_FOR_MENTOR_SUBMIT:Z,MENTORING_CYCLE_FOR_MENTOR_RESTART:B}}=be(),x=ve(),R=fe(),{modalProps:_,setDispatchModalProps:O,setModalFields:q,setUpdateModalProps:U,setDisplayToggle:ee}=We();ce(!1);const $=oe({}),z=ce([]),te=ce(null),re=async()=>{q([["sms",{segment:"mentor"}],"survey","deepSurvey","templateReport","rematching","changeSchedule","hooky",["satisfaction",{userType:"MTR"}]]),await w()},w=async()=>{try{await Q({id:"멘토링 관리 - 멘토 멘토링 데이터 조회",endpoint:I,onResponse:({data:s})=>{Object.assign($,{...s}),te.value=s.useYn.toString().toUpperCase()==="Y",z.value=[].concat(s.sqMentorings.slice().map(()=>!1))}})}catch(s){console.log(s)}},k=()=>{R.alert("알림","준비 중입니다.")},g=({modalType:s,detail:o})=>{const{index:h,...b}=o,{userName:N}=$.sqMentorings[h];O(s,{modalType:s,mentorName:N,...b})},d=(s,o)=>{O(s,{actionRole:"mentor",...o})},r=({modalType:s,item:o})=>{const h={...o};if(["hooky"].includes(s)){const{userName:b}=$.sqMentorings[o.index];Object.assign(h,{userName:b})}H.isUndefined(h.actionRole)&&Object.assign(h,{actionRole:"mentor"}),O(s,h)},l=(s,{smtrIdx:o})=>{ee(s),U(s,{smtrIdx:o})},a=async(s,o=!1,h=null)=>{try{const b={...s};let N=null;if(H.isNull(h)||(N=A.value.slice()[h]),b.courseType.toString().toUpperCase()==="ON"){const{videoLectureUrl:W}=b;if(o===!1){R.alert("알림","강의실 입장은 입장 30분전부터 가능합니다");return}window.open(W);return}const se=$.sqMentorings.findIndex(W=>W.ord===b.ord),Ee={smtdIdx:b.mentoringDetails.find(W=>s.ord===W.ord).smtdIdx,attendType:"MTR",accessType:N==="ENTRY"?"ENTR":"EXIT"};await Q({id:"멘토링 관리 - 멘토 멘토링 오프라인 출석",endpoint:J,method:"post",data:Ee,onResponse:({status:W,message:$e})=>{if(W===200){const Me=N==="ENTRY"?"출석 되었습니다.":"퇴장 되었습니다.";R.alert("알림",Me,()=>x.go())}else{R.alert("알림",$e);return}}})}catch(b){console.error(b)}},c=(s,o,h)=>{if(s===!1){R.alert("알림","일정 변경 요청 가능일이 아닙니다");return}const b=$.sqMentorings[h].mentoringDetails.filter(le=>le.smtrIdx===o.smtrIdx&&le.smtdIdx>o.smtdIdx),N=b.length>0?{...b[0]}:{},se={...o};se.nextMentoringDtm=N.mentoringDtm,r({modalType:"changeSchedule",item:se})},p=(s="extension",o)=>{const h={...o};switch(s){case"extension":{R.open({key:"confirm",type:"alert",title:"알림",message:"현재 멘티와의 멘토링을 연장 신청합니다. 계속하시겠습니까?",buttons:[{text:"거절",styleType:"blue"},{text:"신청",styleType:"danger",onConfirm:async()=>await Q({id:"멘토링 연장 신청 (멘토)",endpoint:Z,data:{smtdIdx:h.smtdIdx},method:"put",onResponse:({status:b,message:N})=>{if(b!==200){R.alert("알림",N);return}R.alert("알림",f.SUCCESS,()=>x.go())}})}]});break}case"restart":{R.confirm("알림",f.IS_CONTINUE,async()=>{await Q({id:"멘토링 연장 신청 - 다시시작",endpoint:B,data:{smtrIdx:h.smtrIdx},method:"put",onResponse:({status:b,message:N})=>{if(b!==200){R.alert("알림",N);return}R.alert("알림",f.SUCCESS,()=>x.go())}})});break}}},C=Y(()=>{try{const{sqMentorings:s,menteeMax:o}=$,h=o;return`멘토링 관리 (${s.length}명/${h}명)`}catch{return"멘토링 관리"}}),S=Y(()=>{try{const{sqMentorings:s}=$;return s.map(({mentoringDetails:o})=>o.length>0)}catch{return[]}}),E=Y(()=>{try{const{sqMentorings:s}=$;return s.map(({courseType:o,mentoringDtm:h,mentoringLocation:b,ord:N})=>{let se="";H.isNull(o)||(se=o.toString().toUpperCase()==="OFF"?"오프라인":"온라인");let le=o==="OFF"&&H.isNull(b)?"장소 배정중":b;return{title:`[${se}] 멘토링 ${N}회차`,subTitle:`${h} · ${o==="ON"?"온라인 화상":le}`}})}catch{return[]}}),T=Y(()=>{try{const{sqMentorings:s}=$;return s.map(({courseType:o,mentoringDtm:h})=>{const b=o==="ON"?X(h).format("YYYYMMDD"):X(h).subtract(1,"day").format("YYYYMMDD");return X().format("YYYYMMDD")<=b})}catch{return!1}}),u=Y(()=>{try{const{sqMentorings:s}=$;return s.map(({mentoringDtm:o})=>{if(H.isNull(o))return!1;const h=X(o),b=X();return h.diff(b,"second",!0)<1800})}catch(s){return console.log(s),[]}}),A=Y(()=>$.sqMentorings.map(({mentorEntryDtm:s,mentorExitDtm:o})=>H.isEmpty(s)?"ENTRY":H.isEmpty(o)?"EXIT":"COMPLETE")),ue=Y(()=>{try{return A.value.map(s=>s==="ENTRY"?"출석확인":"종료확인")}catch{return[]}}),ae=Y(()=>s=>A.value[s]==="ENTRY"&&u.value[s]||A.value[s]==="EXIT"),G=Y(()=>{try{return $.sqMentorings.map(({isExtension:s})=>({label:s===!1?"멘토링 연장신청":"연장 신청 완료",disabled:s===!0}))}catch{return[]}}),me=Y(()=>{try{return $.sqMentorings.map(({extensionFlag:s,restartFlag:o})=>({extensionFlag:s,restartFlag:o}))}catch{return[]}});return[j,P]=Ce(()=>re()),await j,P(),(s,o)=>{const h=Xe,b=Je,N=Es,se=at,le=et,Ee=qt,W=zt,$e=Cs,Me=tt,Ge=st,je=nt,Pe=ot;return n(),y("div",$s,[pe(it),pe(h),e("div",Ms,[e("div",ks,[pe(rt),e("div",Ss,[pe(b,{title:t(C),desc:`\r
            멘토 멘티와 함께 성장하는 멘토링으로<br class='c-mo' />\r
            학습 늉률을 올려보세요!\r
            <br />\r
            도움이 필요하실 땐<br class='c-mo' />\r
            서울런 고객센터(1533-0909)로 연락주세요!`},null,8,["title"]),e("div",Ts,[t(te)===!0?(n(),y("div",Rs,[e("div",Ns,[(n(!0),y(de,null,ye(t($).sqMentorings,(m,i)=>(n(),y("div",{class:"mypage-management__item",key:`mentee-list-${i}`},[e("div",{class:"mypage-management__item-head",onClick:v(()=>t(z)[i]=!t(z)[i],["stop"])},[Is,e("div",Os,[e("div",qs,[e("p",null,D(m.userName)+" 님",1)]),e("div",Ls,D(m.mentoringDtm),1)]),e("div",ws,[e("button",{type:"button",class:"c-btn c-btn-study",onClick:v(k,["stop"])}," 학습 내역보기 ",8,xs),e("button",{type:"button",class:"c-btn c-btn-letter",onClick:v(()=>l("sms",m),["stop"])}," 문자 보내기 ",8,As)])],8,Ds),_e(e("div",Ys,[e("section",null,[Fs,e("div",Us,[e("ul",null,[(n(!0),y(de,null,ye(m.cpInfos,(ie,kn)=>(n(),y("li",null,[e("div",Gs,[e("img",{src:ie.filePath,alt:`${ie.cpName} 로고 이미지`},null,8,js)]),e("p",null,D(ie.cpName),1)]))),256))])])]),m.mentoringStatus!=="SB"?(n(),y("section",Ps,[Hs,m.mentoringStatus==="IN"?(n(),y("div",Vs,[e("div",Bs,[e("div",zs,[e("div",Ws,[e("div",Ks,[e("p",null,D(t(E)[i].title),1)]),e("div",Qs,D(t(E)[i].subTitle),1)]),e("div",Xs,[e("button",{type:"button",class:K({"c-btn":!0,"c-btn-sm":!0,"c-btn-blue":m.deepLearnAvailYn==="Y","c-btn-inactive":m.deepLearnAvailYn==="N"}),onClick:v(ie=>r({modalType:"deepSurvey",item:m}),["prevent"]),disabled:m.deepLearnAvailYn==="N"}," 심화활동 신청 ",10,Js),e("button",{type:"button",class:K({"c-btn":!0,"c-btn-sm":!0,"c-btn-blue":t(T)[i],"c-btn-inactive":!t(T)[i]}),onClick:v(()=>c(t(T)[i],m,i),["prevent"])}," 일정/장소 변경 요청 ",10,Zs),m.courseType==="ON"?(n(),y("button",{key:0,type:"button",class:K({"c-btn":!0,"c-btn-sm":!0,"c-btn-danger":t(u)[i],"c-btn-inactive":!t(u)[i]}),onClick:v(()=>a(m,t(u)[i]),["prevent"])}," 강의실 입장 ",10,en)):m.courseType==="OFF"?(n(),y("button",{key:1,type:"button",class:K({"c-btn":!0,"c-btn-sm":!0,"c-btn-danger":t(ae)(i),"c-btn-inactive":!t(ae)(i)}),disabled:!t(ae)(i),onClick:v(()=>a(m,!1,i),["prevent"])},D(t(ue)[i]),11,tn)):M("",!0),t(me)[i].extensionFlag?(n(),y("button",{key:2,type:"button",class:K({"c-btn":!0,"c-btn-sm":!0,"c-btn-danger":!t(G)[i].disabled,"c-btn-inactive":t(G)[i].disabled}),onClick:v(()=>p("extension",m),["prevent"]),disabled:t(G)[i].disabled},D(t(G)[i].label),11,sn)):M("",!0)])]),nn])])):M("",!0),m.mentoringStatus==="CP"?(n(),y("div",on,[e("div",an,[ln,cn,e("div",rn,[e("button",{type:"button",class:K(["c-btn c-btn-danger c-btn-sm",{"c-btn-inactive":m.isSatisfaction}]),disabled:m.isSatisfaction,onClick:v(()=>l("satisfaction",m),["prevent"])}," 만족도 조사 ",10,dn),t(me)[i].restartFlag?(n(),y("button",{key:0,type:"button",class:K({"c-btn":!0,"c-btn-sm":!0,"c-btn-danger":!0}),onClick:v(()=>p("restart",m),["prevent"])}," 다시 시작 ",8,un)):(n(),y(de,{key:1},[t(me)[i].extensionFlag?(n(),y("button",{key:0,type:"button",class:K({"c-btn":!0,"c-btn-sm":!0,"c-btn-danger":!t(G)[i].disabled,"c-btn-inactive":t(G)[i].disabled}),onClick:v(()=>p("extension",m),["prevent"]),disabled:t(G)[i].disabled},D(t(G)[i].label),11,mn)):M("",!0)],64))])])])):M("",!0)])):M("",!0),e("section",null,[_n,e("div",pn,[e("div",bn,[e("ul",null,[e("li",null,[hn,e("p",null,D(m.unWrittenReportCnt),1)]),e("li",null,[yn,e("p",null,D(m.unWirttenAbsentCnt),1)])])])]),t(S)[i]===!1?(n(),y("div",gn,[e("div",vn,[fn,Cn,e("button",{class:"c-btn c-btn-danger c-btn-sm",type:"button",onClick:v(ie=>r({modalType:"survey",item:m}),["prevent"])}," 강의 계획서 작성 ",8,En)])])):(n(),L(N,{details:m.mentoringDetails,index:i,onReportHandler:g,onAbsentHandler:r,key:`mentoringTable-${i}`},null,8,["details","index"])),e("div",$n,[e("button",{type:"button",class:K(["c-btn c-btn-blue",{"c-btn-inactive":m.isRematch}]),disabled:m.isRematch,onClick:v(ie=>d("rematching",m),["prevent"])}," 재매칭 신청 ",10,Mn)])])],512),[[qe,t(z)[i]===!0]])]))),128))])])):t(te)===!1?(n(),L(se,{key:1,status:"AC"})):M("",!0)])])])]),t(_).survey.show===!0?(n(),L(le,ne(V({key:0},{...t(_).survey})),null,16)):M("",!0),t(_).deepSurvey.show===!0?(n(),L(Ee,ne(V({key:1},{...t(_).deepSurvey})),null,16)):M("",!0),t(_).templateReport.show===!0?(n(),L(W,ne(V({key:2},{...t(_).templateReport})),null,16)):M("",!0),t(_).changeSchedule.show===!0?(n(),L($e,ne(V({key:3},{...t(_).changeSchedule})),null,16)):M("",!0),t(_).hooky.show===!0?(n(),L(Me,ne(V({key:4},{...t(_).hooky})),null,16)):M("",!0),t(_).satisfaction.show===!0?(n(),L(Ge,ne(V({key:5},{...t(_).satisfaction})),null,16)):M("",!0),t(_).sms.show===!0?(n(),L(je,ne(V({key:6},{...t(_).sms})),null,16)):M("",!0),t(_).rematching.show===!0?(n(),L(Pe,ne(V({key:7},{...t(_).rematching})),null,16)):M("",!0)])}}};export{An as default};

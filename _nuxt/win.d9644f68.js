import{_ as z}from"./breadCrumbs.86a21415.js";import{_ as E}from"./comments.1143f183.js";import{_ as I,f as L,k as V,r as R,g as T,h as v,m as $,l as B,c as a,b as g,a as t,t as i,i as n,F as y,s as b,d as w,v as u,H as G,o,C as _,D as N,K as U,y as W,B as F,p as H,e as j}from"./entry.e1c54084.js";import x from"./_snbTablet.5be258ab.js";import"./pagination.86fa1564.js";import"./2.eecac130.js";import"./ic-reply-noimg.f5ddda7d.js";const r=l=>(H("data-v-6e07addc"),l=l(),j(),l),A={class:"mypage"},K={class:"event-view"},J={class:"event-view__title"},O={class:"event-view__contents"},Q={class:"event-view__contents-head"},X={class:"c-form-group"},Z=r(()=>t("div",{class:"c-form-label"},"첨부파일",-1)),ee={key:0,class:"event-view__contents-win"},te={key:0},ne={key:1},se=r(()=>t("br",null,null,-1)),ae={class:"event-view__contents-win-confirm"},oe=G('<li data-v-6e07addc><div class="c-badge c-badge-lg" data-v-6e07addc>확인 01</div><strong data-v-6e07addc>회원정보를 꼭! 확인하세요~</strong><span data-v-6e07addc>회원정보에 있는 내용으로 경품이 발송됩니다.<br data-v-6e07addc> * 실물 상품은 주소 / 기프티콘은 핸드폰 번호</span><a href="/mypage/pw-check" data-v-6e07addc>회원정보 수정 바로가기</a></li><li data-v-6e07addc><div class="c-badge c-badge-lg" data-v-6e07addc>확인 02</div><strong data-v-6e07addc>궁금하신 사항이 있으신가요?</strong><span data-v-6e07addc>고객센터로 문의하시면<br data-v-6e07addc> 궁금하신 사항을 해결하실 수 있습니다.</span><a href="/mypage/inquiry" data-v-6e07addc>1:1문의 바로가기</a></li>',2),ie={key:0},ce=r(()=>t("div",{class:"c-badge c-badge-lg"},"확인 03",-1)),de=r(()=>t("strong",null,"경품 선택 기한을 확인하세요.",-1)),re={class:"c-form-group"},le={key:0,class:"c-form-check-group c-form-check-group-1st"},ve={class:"c-form-check"},ue=r(()=>t("div",{class:"c-form-check-group-1st__text"},"당첨",-1)),_e=r(()=>t("input",{class:"c-btn-check",type:"radio",name:"eventWin",id:"eventWin01",checked:""},null,-1)),pe={class:"c-btn c-btn-lg c-btn-block c-btn-outline-secondary",for:"eventWin01"},ge={key:1,class:"c-form-check-group"},he={class:"c-form-check"},me=["value","id","checked","disabled"],ye=["for"],be={key:2,class:"end-text",style:{"font-size":"1.6rem","margin-top":"4rem"}},we=r(()=>t("br",null,null,-1)),fe={key:1,class:"c-btn-group"},De=["innerHTML"],ke={class:"c-btn-group"},Se=r(()=>t("strong",null,"목록으로",-1)),Ce=[Se],qe={__name:"win",setup(l){const f=L(),p=V(),D=new URLSearchParams(window.location.search),e=R({eventSeq:D.get("type"),isPrize:!1,event:{openStartDt:"",openEndDt:"",seltStartDt:"",seltEndDt:"",winner:{giveSeq:""}},giveaway:[],commentList:[],checkGivewayValue:"",pageSize:10,pageNumber:0,order:"DESC",sort:"eventSeq"});T(()=>{k(),q()});const k=async()=>{await S().then(function(){C()})},S=async()=>{await v({id:"마이페이지 이벤트 상세 조회",endpoint:`/api/sq/event/${e.eventSeq}`,headers:"PUBLIC",onResponse({data:s}){return console.log("이벤트 상세 조회 >> ",s),e.event=s,!0}})},C=async()=>{await v({id:"마이페이지 이벤트 당첨 조회",endpoint:"/api/sq/myevent/giveway",headers:"PUBLIC",data:{eventSeq:e.eventSeq,eventPrizeType:e.event.eventPrizeType},onResponse({data:s}){return console.log("이벤트 당첨 조회 >> ",s),e.event.isEnd=$().isAfter(e.event.seltEndDt),e.giveaway=s.eventGiveaways,e.isPrize=!B.isEmpty(s.event),!0}})},q=async()=>{await v({id:"이벤트 상세 댓글",endpoint:"/api/sq/event/comment/"+e.eventSeq,headers:"PUBLIC",data:{pageSize:e.pageSize,pageNumber:e.pageNumber,order:e.order,sort:e.sort},onResponse({code:s,data:c}){return e.commentList=c,!0}})},M=()=>{if(e.checkGivewayValue==""){p.alert("알림","경품을 선택하지 않으셨습니다. 선택 후 다시 시도해주세요");return}p.confirm("알림","선택하시겠습니까?",async()=>{await v({id:"이벤트 선물 지정",endpoint:`/api/sq/myevent/giveway?eventSeq=${e.eventSeq}&eventGiveSeq=${e.checkGivewayValue}`,headers:"PUBLIC",method:"put",onResponse({data:s}){return p.alert("알림","경품이 선택되었습니다"),!0}})})};return(s,c)=>{var h;const P=z,Y=E;return o(),a("div",A,[g(x),g(P),t("div",K,[t("div",J,[t("p",null,i(n(e).event.title),1),t("span",null,i(("uConvertDate"in s?s.uConvertDate:n(_))(n(e).event.openStartDt,"YYYY.MM.DD"))+" ~ "+i(("uConvertDate"in s?s.uConvertDate:n(_))(n(e).event.openEndDt,"YYYY.MM.DD")),1)]),t("div",O,[t("div",Q,[t("div",X,[Z,t("ul",null,[(o(!0),a(y,null,b(n(e).event.files,({origFileName:d})=>(o(),a("li",null,[t("a",{href:"javascript:void(0)",onClick:c[0]||(c[0]=N(m=>("uFileDownload"in s?s.uFileDownload:n(U))(s.file.fileSeq),["prevent"])),class:"c-badge c-badge-lg c-badge-light"},[t("p",null,i(d),1)])]))),256))])])]),n(e).isPrize?(o(),a("div",ee,[n(e).event.eventPrizeType=="R1"||n(e).event.eventPrizeType=="RM"?(o(),a("h3",te," 본 이벤트 "+i(n(e).event.winner.rankCode)+"등에 당첨되셨습니다. ",1)):(o(),a("h3",ne,[w(" 축하드립니다!"),se,t("span",null,i(n(e).event.title),1),w("에 당첨되셨습니다! ")])),t("div",ae,[t("ul",null,[oe,n(e).event.eventPrizeType==="SM"||n(e).event.eventPrizeType==="RM"?(o(),a("li",ie,[ce,de,t("span",null,i(`${("uConvertDate"in s?s.uConvertDate:n(_))(n(e).event.seltStartDt,"YYYY.MM.DD")}~${("uConvertDate"in s?s.uConvertDate:n(_))(n(e).event.seltEndDt,"YYYY.MM.DD")}`),1)])):u("",!0)])]),t("div",re,[((h=n(e).giveaway)==null?void 0:h.length)===1?(o(),a("div",le,[t("div",ve,[ue,_e,t("label",pe,[t("strong",null,i(n(e).giveaway[0].title),1)])])])):(o(),a("div",ge,[(o(!0),a(y,null,b(n(e).giveaway,d=>(o(),a("div",he,[W(t("input",{class:"c-btn-check",type:"radio",name:"eventWin",value:d.giveSeq,"onUpdate:modelValue":c[1]||(c[1]=m=>n(e).checkGivewayValue=m),id:`eventWin${d.giveSeq}`,checked:d.giveSeq==n(e).event.winner.giveSeq,disabled:n(e).event.isEnd},null,8,me),[[F,n(e).checkGivewayValue]]),t("label",{class:"c-btn c-btn-lg c-btn-block c-btn-outline-secondary",for:`eventWin${d.giveSeq}`},[t("strong",null,i(d.title),1)],8,ye)]))),256))]))]),n(e).event.isEnd?(o(),a("div",be," 경품 선택기한이 종료되었습니다. 고객센터에 문의해 주시길 바랍니다. ")):u("",!0),we])):u("",!0),n(e).eventType==="G"&&!n(e).event.isEnd?(o(),a("div",fe,[t("button",{class:"c-btn c-btn-lg c-btn-danger",onClick:M},[t("strong",null,i(n(e).event.winner.giveSeq==""?"선택하기":"다시 선택하기"),1)])])):u("",!0),t("div",{innerHTML:n(e).event.description},null,8,De)]),t("div",ke,[t("button",{class:"c-btn c-btn-lg c-btn-blue",onClick:c[2]||(c[2]=d=>n(f).go(-1))},Ce)]),g(Y,{type:"event",data:n(e).commentList,isSecret:!1,isWrite:!1,onChangedPageIndex:s.changedIndex},null,8,["data","onChangedPageIndex"])])])}}},Ve=I(qe,[["__scopeId","data-v-6e07addc"]]);export{Ve as default};

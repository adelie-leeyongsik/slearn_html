import{_ as k}from"./pageTitle.95eb6349.js";import{_ as C}from"./TabNav.e1e4e8a4.js";import{_ as M}from"./NoData.3efb81a9.js";import{f as S,j as q,L as w,r as P,g as V,h as T,c as r,a as t,b as h,i as o,E as $,F as l,s as D,M as x,o as n,l as g,y as B,N as R,v as j,t as u,d as b,C as m,m as z}from"./entry.e1c54084.js";import"./breadCrumbs.86a21415.js";import"./ch-nodata.e12229c9.js";const F={class:"event"},A={class:"event-list"},O={class:"c-tab-contents__wrap"},I={class:"c-tab-contents"},U={class:"c-card--inline"},G=["onClick"],H={class:"c-card-img"},J=["src","alt"],K={key:0,class:"c-badge"},Q={class:"c-card-body"},W={class:"c-card-title"},X={href:"javascript:void(0)"},Z={class:"c-card-foot"},ce={__name:"index",setup(ee){const y=S(),E=q(),c=w(()=>E.query.section),a=P({tabIndex:"ALL",tabList:[{text:"전체",value:"ALL"},{text:"진행중",value:"OPEN"},{text:"마감",value:"END"}],dataList:[],pageSize:25,pageNumber:0,order:"DESC",sort:"eventSeq"});V(async()=>{await _()});const f=e=>{x({path:"/event",query:{section:e}}).then(async()=>{await _()})},_=async()=>{let e="/api/sq/events";c.value==="OPEN"?e="/api/sq/events/current":c.value==="END"&&(e="/api/sq/events/end"),await T({id:"이벤트 목록",endpoint:e,data:{pageSize:a.pageSize,pageNumber:a.pageNumber,order:a.order,sort:a.sort},onResponse({code:p,data:d}){return console.log("이벤트목록>>",d),a.dataList=d.rows,a.dataList.forEach(s=>{s.link=`/event/${s.eventSeq}`,console.log(s),s.thumb=s.image.fileRepo.webPath+s.image.filePath+s.image.saveFileName}),!0}})},v=e=>{if(!g.isEmpty(e))return z().format("YYYYMMDD")>m(e,"YYYYMMDD")},Y=e=>{y.push(`/event/${e.eventSeq}`)};return(e,p)=>{const d=k,s=C,L=M;return n(),r("div",F,[t("div",A,[h(d,{title:"이벤트",desc:"해당 메뉴에 대한 자세한 안내 문구 영역입니다.<br />확인 부탁드립니다.감사합니다."}),h(s,{modelValue:o(c),items:o(a).tabList,"onUpdate:modelValue":f},null,8,["modelValue","items"]),t("div",O,[("isEmpty"in e?e.isEmpty:o(g.isEmpty))(o(a).dataList)?(n(),$(L,{key:0,contents:"등록된 이벤트가 없습니다"})):(n(!0),r(l,{key:1},D(o(a).tabList,N=>B((n(),r("div",I,[t("div",U,[(n(!0),r(l,null,D(o(a).dataList,i=>(n(),r("a",{href:"javascript:void(0)",class:"c-card c-card--border",onClick:te=>Y(i)},[t("div",H,[t("p",null,[t("img",{src:i.thumb,alt:`${i.title}`},null,8,J),v(i.atteEndDt)?(n(),r("span",K," 당첨자발표 ")):j("",!0)])]),t("div",Q,[t("div",W,[t("a",X,[t("strong",null,u(i.title),1)])]),t("div",Z,[v(i.atteEndDt)?(n(),r(l,{key:0},[b(u("마감"))],64)):(n(),r(l,{key:1},[b(u(("uConvertDate"in e?e.uConvertDate:o(m))(i.atteStartDt,"YYYY.MM.DD"))+" ~ "+u(("uConvertDate"in e?e.uConvertDate:o(m))(i.atteEndDt,"YYYY.MM.DD")),1)],64))])])],8,G))),256))])],512)),[[R,o(c)==N.value]])),256))])])])}}};export{ce as default};

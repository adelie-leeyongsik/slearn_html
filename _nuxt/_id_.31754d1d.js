import{_ as z}from"./Input.9ccbf189.js";import{_ as K}from"./CommonContentsModal.1a643f7e.js";import{_ as W}from"./breadCrumbs.ffbcaef2.js";import{_ as J}from"./comments.1143f183.js";import{k as Q,j as X,r as Z,g as x,h as g,C as V,m as _,l as b,x as p,c as l,b as y,w as E,i as n,a as t,t as c,F as d,s as m,v as I,d as S,f as ee,o as a,y as v,S as C,z as te,A as oe,n as ne,D as se,K as re,B as le,bd as ae}from"./entry.e1c54084.js";import"./pagination.86fa1564.js";import"./2.eecac130.js";import"./ic-reply-noimg.f5ddda7d.js";const ie={class:"c-modals__form"},ce={class:"c-form-group"},de=t("label",{for:"name02",class:"c-form-label"},"신청자 본인 성명",-1),me=["value","disabled"],ue={class:"c-modals__form"},be={class:"c-form-group"},pe=t("div",{class:"c-form-label"},"신청자 본인 생년월일",-1),ve={class:"c-input-group c-input-group--birth"},_e=["disabled"],he=["disabled"],fe=["disabled"],ge={class:"c-modals__form"},ye={class:"c-form-group"},Ie=t("label",{for:"number02",class:"c-form-label"},"신청자 본인 휴대폰 번호",-1),Ce={class:"c-modals__form"},Te={class:"c-form-group"},ke=t("label",{for:"name01",class:"c-form-label"},"동반 참여자 성명",-1),Le={class:"c-modals__form"},Me={class:"c-form-group"},Ee=t("div",{class:"c-form-label"},"동반 참여자 생년월일",-1),Se={class:"c-input-group c-input-group--birth"},we={class:"c-modals__form"},qe={class:"c-form-group"},De=t("label",{for:"number01",class:"c-form-label"},"동반 참여자 휴대폰 번호",-1),Ve={class:"c-modals__form"},Ye={class:"c-form-group"},Be=t("label",{for:"agree",class:"c-form-label"},[S("개인정보처리방침 "),t("strong",{class:"c-text-primary"},"(반드시 약관의 내용을 확인해주세요)")],-1),$e={class:"c-form-check__box"},Ne={class:"c-form-check"},Pe=t("label",{class:"c-form-check-label",for:"exampleCheckbox01-02"}," 개인정보 수집/이용에 관한 동의 (필수) ",-1),Ue={class:"c-modals__button"},Ge={class:"c-btn-group"},Re={class:"c-modals__survey"},Ae={key:0,class:"c-modals__survey-col"},He={class:"c-modals__survey-col-item"},Fe={class:"c-form-group"},Oe={for:"name",class:"c-form-label"},je={class:"c-form-check-group c-form-check-group--col3"},ze={class:"c-form-check"},Ke=["name","id"],We=["for"],Je={key:1,class:"c-modals__survey-col"},Qe={class:"c-modals__survey-col-item"},Xe={class:"c-form-group"},Ze={for:"name",class:"c-form-label"},xe={class:"c-form-check"},et=["name","id"],tt=["for"],ot={key:2,class:"c-modals__survey-col"},nt={class:"c-modals__survey-col-item"},st={class:"c-form-group"},rt={for:"curriculum",class:"c-form-label"},lt=t("textarea",{class:"c-form-control",placeholder:"텍스트를 입력하세요",id:"curriculum"},null,-1),at=t("div",{class:"c-modals__survey-col"},[t("div",{class:"c-modals__survey-col-item"},[t("div",{class:"c-form-group"},[t("label",{for:"etc",class:"c-form-label"},"그 외 상담하고 시은 내용을 적어주세요"),t("textarea",{class:"c-form-control",placeholder:"텍스트를 입력하세요",id:"etc"})])])],-1),it={class:"c-modals__button"},ct={class:"c-btn-group"},dt=["innerHTML"],mt={class:"board"},ut={class:"board-view"},bt={class:"board-view__title"},pt={class:"board-view__contents"},vt={key:0,class:"board-view__contents-head"},_t={class:"c-form-group"},ht=t("div",{class:"c-form-label"},"첨부파일",-1),ft=["onClick"],gt=["innerHTML"],yt={key:1,class:"event-view__contents-win"},It=t("h3",null,[S("참여할 "),t("span",null,"행사 장소"),S("를 선택해 주세요.")],-1),Ct={class:"c-form-group"},Tt={class:"c-form-check-group"},kt={class:"c-form-check"},Lt=["id","value"],Mt=["for"],Et={class:"c-btn-group"},St=t("strong",null,"목록으로",-1),wt=[St],Gt={__name:"[id]",setup(qt){const h=Q(),L=X(),e=Z({isTarget:!0,pageNumber:0,detail:{description:"",boardSeq:"",title:"",regDtm:"",files:[]},event:{memberInfo:{name:"",phone:"",birth:"",birthDay:"01",birthMonth:"01",birthYear:"2000",partnerBirthDay:"01",partnerBirthMonth:"01",partnerBirthYear:"2000",partnerName:"",partnerPhone:""}},commentList:{},newComment:"",boardType:{btnName:"",btnEvent:null,isEvent:!1,isLive:!1,isPoll:!1},eventModal:{member:{isShow:!1,title:"신청 정보 입력",subTitle:"본 행사에는 동반자 1인 추가 신청 가능합니다.",description:"동반 참여자 미 입력시 본인만 신청됩니다."},nonMember:{isShow:!1,title:"비회원 신청하기",subTitle:"",description:""}},pollModal:{isShow:!1,isLarge:!0,title:"",subTitle:"",description:""},termsModal:{isShow:!1,title:"이용 약관",subTitle:"",description:"",contents:"",isLarge:!0},years:[],months:[],days:[]});x(async()=>{N().then(()=>{O()}),w()});const Y=()=>{const o=new Date().getFullYear(),r=1900;for(let i=o;i>=r;i--)e.years.push(i);for(let i=1;i<=12;i++)e.months.push(i.toString().padStart(2,"0"));for(let i=1;i<=31;i++)e.days.push(i.toString().padStart(2,"0"))},B=o=>{e.pageNumber=o,w()},$=()=>{ee().back()},N=async()=>{await g({id:"공지사항 상세 조회",endpoint:"/api/sq/boards/notice/detail",headers:"PUBLIC",data:{boardSeq:L.params.id},onResponse({data:o}){if(console.log("notice detail etc>> ",o),e.detail=o,e.boardType.btnName=A(o.etcTypeCode),o.etcTypeCode=="LIVE"){const r=V(o.liveChannel.liveStartDtm,"YYYY.MM.DD hh:mm"),i=_(r).add(o.liveChannel.liveTime,"minutes");console.log(r),console.log(_(i).format("YYYY.MM.DD hh:mm"));const f=_.duration(_(r).diff(_())).asMinutes(),M=_.duration(_(i).diff(_())).asMinutes();console.log(f,M),(f<-10||M<-10)&&(e.boardType.btnName="")}return!0}})},w=async()=>{await g({id:"공지사항 코멘트 조회",endpoint:"/api/sq/boards/notice/comment",headers:"PUBLIC",data:{boardSeq:L.params.id,pageSize:20,pageNumber:e.pageNumber},onResponse({data:o}){return console.log("notice comment >> ",o),o.rows.map(r=>{r.userId=r.comtUserId,r.regDtm=r.comtRegDtm,r.useYn=r.comtUseYn}),e.commentList=o,!0}})},P=()=>{if(!e.event.selectEventLocaSeq){h.alert("알림","참여할 행사 장소를 선택해주세요.");return}let o="";if(b.isEmpty(p("userid")))if(e.event.noLoginAtteYn=="N"){h.alert("알림","로그인 후 참여할 수 있는 행사입니다.");return}else o=e.eventModal.nonMember;else U(),o=e.eventModal.member;e.event.noMemberAtteYn==="N"&&(e.eventModal.member.subTitle="",e.eventModal.member.description=""),o.isShow=!o.isShow},U=async()=>{await g({id:"행사참여 개인정보 조회",endpoint:"/api/sq/event/recruit/info",headers:"PUBLIC",onResponse({data:o}){return console.log("행사참여 개인정보 조회",o),o.birthYear=o.birth.substring(0,4),o.birthMonth=o.birth.substring(4,6),o.birthDay=o.birth.substring(6,8),e.event.memberInfo=Object.assign({},e.event.memberInfo,o),!0}})},G=async()=>{for(const r in e.event.memberInfo)if(!e.event.memberInfo[r]){h.alert("알림","신청 정보를 입력해주세요.");return}if(!e.event.isAgree){h.alert("알림","개인정보 수집/이용에 동의해주세요.");return}e.event.memberInfo.partnerBirth=e.event.memberInfo.partnerBirthYear+e.event.memberInfo.partnerBirthMonth+e.event.memberInfo.partnerBirthDay;const o=`?eventRcrtSeq=${e.detail.etcValue}&eventLocaSeq=${e.event.selectEventLocaSeq}&esseAgreeYn=Y&name=${e.event.memberInfo.name}&birth=${e.event.memberInfo.birth}&phone=${e.event.memberInfo.phone}&partnerName=${e.event.memberInfo.partnerName}&partnerBirth=${e.event.memberInfo.partnerBirth}&partnerPhone=${e.event.memberInfo.partnerPhone}`;await g({id:"공지사항 코멘트 저장",endpoint:b.isEmpty(p("userInfo"))?`/api/sq/event/recruit/attend${o}`:`/api/sq/event/recruit/attend_t${o}`,headers:"PUBLIC",method:"post",onResponse({data:r}){return h.alert("알림","행사 신청이 완료되었습니다."),e.eventModal.member.isShow=!1,e.eventModal.nonMember.isShow=!1,!0}})},R=()=>{e.pollModal.isShow=!e.pollModal.isShow},A=o=>{let r="";switch(o){case"EVEN":e.boardType.isEvent=!0,e.boardType.btnEvent=P,Y(),r="선택하기";break;case"LIVE":e.boardType.isLive=!0,e.boardType.btnEvent=H,r="화상 입장하기";break;case"POLL":e.boardType.isPoll=!0,e.boardType.btnEvent=R,r="설문조사 시작하기";break}return r},H=async()=>{if(e.detail.liveChannel.urlType==="YT"){window.open(e.detail.liveChannel.liveChannelUrl,"_blank");return}if(b.isEmpty(p("userid"))){h.alert("알림","로그인이 필요한 서비스입니다.");return}let o="";await g({id:"공지사항 수업 (세미나) url ",endpoint:"/api/sq/seminar/noties/url",data:{roomId:e.detail.liveChannel.liveChannelUrl},headers:"PUBLIC",onResponse({data:r}){return o=r.result_code,!0}}),await g({id:"공지사항 수업 (세미나) 참여",endpoint:`/api/sq/seminar/noties/attend?etcValue=${e.detail.etcValue}&seminarUrl=${o}`,method:"post",data:{etcValue:e.detail.etcValue,seminarUrl:o},headers:"PUBLIC",onResponse({data:r}){if(r.result_code==="ok"){let i=window.open(o,"_blank");i.document.title="새창으로 열기"}else h.alert("알림","참여할 수 없습니다. 관리자에게 문의해주세요.");return!0}})},F=async()=>{const o=await ae("SELN","SEOULLEARN","TEMPLATE_P003");e.termsModal.title=o.title,e.termsModal.contents=o.termDesc,e.termsModal.isShow=!0},O=async()=>{let o="";e.boardType.isEvent?o=`/api/sq/event/recruit/?eventRcrtSeq=${e.detail.etcValue}`:e.boardType.isPoll&&(o=`/api/sq/survey/${e.detail.etcValue}`),o&&await g({id:"공지사항 보드 타입 데이터(행사모집/화상/설문)",endpoint:o,headers:"PUBLIC",data:{boardSeq:L.params.id,pageSize:20,pageNumber:0},onResponse({data:r}){if(console.log("공지사항 보드 타입 데이터(행사모집/화상/설문) >> ",r),e.event=Object.assign({},e.event,r),e.boardType.isPoll){e.pollModal.title=e.event.title,e.pollModal.description=e.event.description,e.isTarget=!1;const i=r.schlLevelCode.split("");switch(p("schlLevel")){case"SCHLVL_P001":e.isTarget=i[0]==1;break;case"SCHLVL_P002":e.isTarget=i[1]==1;break;case"SCHLVL_P003":e.isTarget=i[2]==1;break;case"SCHLVL_P004":e.isTarget=i[3]==1;break;case"SCHLVL_P005":e.isTarget=i[4]==1;break}}else e.boardType.isEvent&&(e.event.location=r.locations);return!0}})};return(o,r)=>{var q,D;const i=z,f=K,M=W,j=J;return a(),l(d,null,[y(f,{data:("isEmpty"in o?o.isEmpty:n(b.isEmpty))(("uGetLoginInfo"in o?o.uGetLoginInfo:n(p))("userid"))?n(e).eventModal.nonMember:n(e).eventModal.member,onClose:n(e).boardType.btnEvent},{innerContents:E(()=>[t("div",ie,[t("div",ce,[de,t("input",{type:"text",id:"name02",class:"c-form-control",value:n(e).event.memberInfo.name,disabled:!("isEmpty"in o?o.isEmpty:n(b.isEmpty))(("uGetLoginInfo"in o?o.uGetLoginInfo:n(p))("userid"))},null,8,me)])]),t("div",ue,[t("div",be,[pe,t("div",ve,[v(t("select",{class:"c-form-control",title:"생년월일 - 연도","onUpdate:modelValue":r[0]||(r[0]=s=>n(e).event.memberInfo.birthYear=s),disabled:!("isEmpty"in o?o.isEmpty:n(b.isEmpty))(("uGetLoginInfo"in o?o.uGetLoginInfo:n(p))("userid"))},[(a(!0),l(d,null,m(n(e).years,s=>(a(),l("option",{key:s},c(s),1))),128))],8,_e),[[C,n(e).event.memberInfo.birthYear]]),v(t("select",{class:"c-form-control",title:"생년월일 - 월","onUpdate:modelValue":r[1]||(r[1]=s=>n(e).event.memberInfo.birthMonth=s),disabled:!("isEmpty"in o?o.isEmpty:n(b.isEmpty))(("uGetLoginInfo"in o?o.uGetLoginInfo:n(p))("userid"))},[(a(!0),l(d,null,m(n(e).months,s=>(a(),l("option",{key:s},c(s),1))),128))],8,he),[[C,n(e).event.memberInfo.birthMonth]]),v(t("select",{class:"c-form-control",title:"생년월일 - 일",disabled:!("isEmpty"in o?o.isEmpty:n(b.isEmpty))(("uGetLoginInfo"in o?o.uGetLoginInfo:n(p))("userid")),"onUpdate:modelValue":r[2]||(r[2]=s=>n(e).event.memberInfo.birthDay=s)},[(a(!0),l(d,null,m(n(e).days,s=>(a(),l("option",{key:s},c(s),1))),128))],8,fe),[[C,n(e).event.memberInfo.birthDay]])])])]),t("div",ge,[t("div",ye,[Ie,y(i,{modelValue:n(e).event.memberInfo.phone,"onUpdate:modelValue":r[3]||(r[3]=s=>n(e).event.memberInfo.phone=s),onlyNumber:!0,placeholder:"'-'를 제외하고 입력해주세요.",maxlength:"11",disabled:!("isEmpty"in o?o.isEmpty:n(b.isEmpty))(("uGetLoginInfo"in o?o.uGetLoginInfo:n(p))("userid"))},null,8,["modelValue","disabled"])])]),n(e).event.noMemberAtteYn==="Y"?(a(),l(d,{key:0},[t("div",Ce,[t("div",Te,[ke,v(t("input",{type:"text",id:"name01",class:"c-form-control",placeholder:"이름을 입력해주세요","onUpdate:modelValue":r[4]||(r[4]=s=>n(e).event.memberInfo.partnerName=s)},null,512),[[te,n(e).event.memberInfo.partnerName]])])]),t("div",Le,[t("div",Me,[Ee,t("div",Se,[v(t("select",{class:"c-form-control",title:"생년월일 - 연도","onUpdate:modelValue":r[5]||(r[5]=s=>n(e).event.memberInfo.partnerBirthYear=s)},[(a(!0),l(d,null,m(n(e).years,s=>(a(),l("option",{key:s},c(s),1))),128))],512),[[C,n(e).event.memberInfo.partnerBirthYear]]),v(t("select",{class:"c-form-control",title:"생년월일 - 월","onUpdate:modelValue":r[6]||(r[6]=s=>n(e).event.memberInfo.partnerBirthMonth=s)},[(a(!0),l(d,null,m(n(e).months,s=>(a(),l("option",{key:s},c(s),1))),128))],512),[[C,n(e).event.memberInfo.partnerBirthMonth]]),v(t("select",{class:"c-form-control",title:"생년월일 - 일","onUpdate:modelValue":r[7]||(r[7]=s=>n(e).event.memberInfo.partnerBirthDay=s)},[(a(!0),l(d,null,m(n(e).days,s=>(a(),l("option",{key:s},c(s),1))),128))],512),[[C,n(e).event.memberInfo.partnerBirthDay]])])])]),t("div",we,[t("div",qe,[De,y(i,{modelValue:n(e).event.memberInfo.partnerPhone,"onUpdate:modelValue":r[8]||(r[8]=s=>n(e).event.memberInfo.partnerPhone=s),onlyNumber:!0,placeholder:"'-'를 제외하고 입력해주세요.",maxlength:"11"},null,8,["modelValue"])])])],64)):I("",!0),t("div",Ve,[t("div",Ye,[Be,t("div",$e,[t("div",Ne,[v(t("input",{class:"c-form-check-input",type:"checkbox",name:"exampleCheckbox01","onUpdate:modelValue":r[9]||(r[9]=s=>n(e).event.isAgree=s),id:"exampleCheckbox01-02"},null,512),[[oe,n(e).event.isAgree]]),Pe]),t("button",{class:"c-btn c-btn-text c-btn-text--line",onClick:F}," 내용보기 ")])])]),t("div",Ue,[t("div",Ge,[t("button",{type:"submit",class:"c-btn c-btn-primary",onClick:r[10]||(r[10]=(...s)=>n(e).boardType.btnEvent&&n(e).boardType.btnEvent(...s))}," 취소 "),t("button",{type:"submit",class:"c-btn c-btn-danger",onClick:r[11]||(r[11]=s=>G())}," 신청완료 ")])])]),_:1},8,["data","onClose"]),y(f,{data:n(e).pollModal,onClose:n(e).boardType.btnEvent},{innerContents:E(()=>[t("div",Re,[(a(!0),l(d,null,m(n(e).event.questions,(s,u)=>(a(),l(d,null,[s.qustTypeCode==="O"?(a(),l("div",Ae,[t("div",He,[t("div",Fe,[t("label",Oe,c(s.qustDesc),1),t("div",je,[(a(!0),l(d,null,m(s.questionItems,(T,k)=>(a(),l("div",ze,[t("input",{class:"c-btn-check",type:"radio",name:`magnitude${u}`,id:`magnitude${u+s.qustTypeCode+k}`},null,8,Ke),t("label",{class:"c-btn c-btn-lg c-btn-block c-btn-outline-secondary",for:`magnitude${u+s.qustTypeCode+k}`},c(T.qustItemDesc),9,We)]))),256))])])])])):I("",!0),s.qustTypeCode==="P"?(a(),l("div",Je,[t("div",Qe,[t("div",Xe,[t("label",Ze,c(s.qustDesc),1),t("div",{class:ne(["c-form-check-group",`c-form-check-group--col${s.questionItems.length}`])},[(a(!0),l(d,null,m(s.questionItems,(T,k)=>(a(),l("div",xe,[t("input",{class:"c-btn-check",type:"radio",name:`magnitude${u}`,id:`magnitude${u+s.qustTypeCode+k}`},null,8,et),t("label",{class:"c-btn c-btn-lg c-btn-block c-btn-outline-secondary",for:`magnitude${u+s.qustTypeCode+k}`},c(T.qustItemDesc),9,tt)]))),256))],2)])])])):I("",!0),s.qustTypeCode==="D"||s.qustTypeCode==="W"?(a(),l("div",ot,[t("div",nt,[t("div",st,[t("label",rt,c(s.qustDesc),1),lt])])])):I("",!0)],64))),256))]),at,t("div",it,[t("div",ct,[t("button",{type:"submit",class:"c-btn c-btn-blue",onClick:r[12]||(r[12]=(...s)=>n(e).boardType.btnEvent&&n(e).boardType.btnEvent(...s))}," 취소 "),t("button",{type:"submit",class:"c-btn c-btn-danger",onClick:r[13]||(r[13]=s=>o.$emit("close"))}," 등록 ")])])]),_:1},8,["data","onClose"]),y(f,{data:n(e).termsModal,onClose:r[14]||(r[14]=s=>n(e).termsModal.isShow=!1)},{innerContents:E(()=>[t("div",{class:"c-modals__contents-terms",innerHTML:n(e).termsModal.contents},null,8,dt)]),_:1},8,["data"]),t("div",mt,[y(M),t("div",ut,[t("div",bt,[t("p",null,c(n(e).detail.title),1),t("span",null,c(("uConvertDate"in o?o.uConvertDate:n(V))(n(e).detail.regDtm,"YYYY.MM.DD")),1)]),t("div",pt,[((D=(q=n(e).detail)==null?void 0:q.files)==null?void 0:D.length)>0?(a(),l("div",vt,[t("div",_t,[ht,t("ul",null,[(a(!0),l(d,null,m(n(e).detail.files,s=>(a(),l("li",null,[t("a",{href:"javascript:void(0)",onClick:se(u=>("uFileDownload"in o?o.uFileDownload:n(re))(s.fileSeq),["prevent"]),class:"c-badge c-badge-lg c-badge-light"},[t("p",null,c(s.origFileName),1)],8,ft)]))),256))])])])):I("",!0),t("div",{class:"board-view__contents-body",innerHTML:n(e).detail.description},null,8,gt),n(e).boardType.isEvent?(a(),l("div",yt,[It,t("div",Ct,[t("div",Tt,[(a(!0),l(d,null,m(n(e).event.location,(s,u)=>(a(),l("div",kt,[v(t("input",{class:"c-btn-check",type:"radio",name:"location",id:`location${u}`,value:s.eventLocaSeq,"onUpdate:modelValue":r[15]||(r[15]=T=>n(e).event.selectEventLocaSeq=T)},null,8,Lt),[[le,n(e).event.selectEventLocaSeq]]),t("label",{class:"c-btn c-btn-lg c-btn-block c-btn-outline-secondary",for:`location${u}`},[t("strong",null,c(s.title),1)],8,Mt)]))),256))])])])):I("",!0)]),t("div",Et,[t("button",{class:"c-btn c-btn-lg c-btn-primary",onClick:$},wt),!("isEmpty"in o?o.isEmpty:n(b.isEmpty))(n(e).boardType.btnName)&&n(e).isTarget?(a(),l("button",{key:0,class:"c-btn c-btn-lg c-btn-danger",onClick:r[16]||(r[16]=(...s)=>n(e).boardType.btnEvent&&n(e).boardType.btnEvent(...s))},[t("strong",null,c(n(e).boardType.btnName),1)])):I("",!0)]),y(j,{data:n(e).commentList,isSecret:!1,boardSeq:Number(n(L).params.id),onChangedPageIndex:B},null,8,["data","boardSeq"])])])],64)}}};export{Gt as default};

import{_ as k}from"./Radio.ef28b89a.js";import{_ as y,f as v,k as V,O as I,r as N,g as R,h as D,l as t,c as h,a,i as l,b as _,v as b,E as H,D as T,o as g,p as Y,e as B,J as O}from"./entry.e1c54084.js";import G from"./siteSelect.3aa47d22.js";import"./Input.9ccbf189.js";import"./swiperItem.8d145322.js";import"./swiper-slide.b10528fd.js";import"./core.5e522b93.js";/* empty css                   *//* empty css                       *//* empty css                       */import"./navigation.87a869ac.js";import"./pagination.e64e0277.js";const d=u=>(Y("data-v-c3120ca3"),u=u(),B(),u),M={class:"account"},w=d(()=>a("h1",null,"학습사이트 미리보기",-1)),U={class:"account__body"},z=d(()=>a("legend",null,[a("h2",{class:"account__title"},"학습정보 확인")],-1)),$={key:0,class:"c-form-group"},J=d(()=>a("label",{for:"name",class:"c-form-label"},"학교급",-1)),F={class:"account__site-sort"},K={key:0,class:"account__site-sort"},Q={class:"c-form-group"},W=d(()=>a("label",{for:"name",class:"c-form-label"},"학년",-1)),X={class:"c-form-group"},Z=d(()=>a("label",{for:"name",class:"c-form-label"},"학습목적",-1)),x={class:"account__site-select"},ee={class:"account__foot"},se={class:"c-btn-group"},oe={__name:"14over",props:{learnInfo:{type:Object,defualt:{}}},setup(u){const p=u;v(),V(),I();const e=N({school:"",schoolList:[],grade:"",gradeList:[],purpose:"",purposeList:[],pRadioList:[],subjectList:[],subjMiMac:"",subjAgree:"",subjAgreeNm:"",subjAgreeYn:"",lectureAgree:"",lectureAgreeNm:"",bookAgree:"",bookAgreeNm:"",paramInfo:{}});R(()=>{P()});const P=()=>{D({method:"get",id:"회원가입 학습사이트 선택",endpoint:"/api/platform_chg/form",onResponse({data:s,status:o,message:c}){console.log("data ",s);let m=s.schLvlPcdList.filter(i=>t.isEqual(i.cd,"SCHLVL_P002")||t.isEqual(i.cd,"SCHLVL_P003")||t.isEqual(i.cd,"SCHLVL_P004"));m.forEach(i=>{i.text=i.cdnm,i.value=i.cd}),e.schoolList=m;let r=s.schGrdPcdList.filter(i=>t.isEqual(i.cd,"SCHGRD_P001")||t.isEqual(i.cd,"SCHGRD_P002")||t.isEqual(i.cd,"SCHGRD_P003")||t.isEqual(i.cd,"SCHGRD_P007"));r.forEach(i=>{i.text=i.cdnm,i.value=i.cd}),e.gradeList=r,e.purposeList=s.lrnObjList,e.subjectList=s.lrnPltTcdList.concat(s.subLrnPltTcdList);let n=p.learnInfo;console.log(" learn ",n),E(n.schl_level.cd),q(n.schl_grad.cd),j(n.cp.cd),e.purpose=n.lrnObjCode;let f=n.sub_cp.map(i=>i.cd).filter(i=>!t.isEqual(i,"SUB_LRNPLT_T002")),L=n.sub_cp.map(i=>i.cd).filter(i=>t.isEqual(i,"SUB_LRNPLT_T002"));f.length>0&&A(f[0]),L.length>0&&C(L[0]),e.paramInfo={change:!0,subjParam:n.cp.cd,lectureParam:f[0],bookParam:L[0]}}})},E=s=>{e.school=s,t.isEqual(s,"SCHLVL_P002")?e.pRadioList=e.purposeList.filter(o=>t.isEqual(o.cd,"GE")||t.isEqual(o.cd,"SP")):t.isEqual(s,"SCHLVL_P003")&&(e.pRadioList=e.purposeList.filter(o=>t.isEqual(o.cd,"SH")||t.isEqual(o.cd,"TE"))),e.pRadioList.forEach(o=>{o.text=o.cdnm,o.value=o.cd}),e.subjAgree="",e.lectureAgree="",e.bookAgree=""},q=s=>{e.grade=s},j=s=>{t.isEmpty(s)||(e.subjAgreeYn=e.subjectList.filter(o=>o.cp_id===s)[0].agreeYn,t.isEqual(s,"LRNPLT_T002")?(e.subjMiMac=s,e.subjAgree=""):t.isEqual(e.subjAgreeYn,"N")?(e.subjAgree=s,e.subjAgreeNm=e.subjectList.filter(o=>o.cp_id===e.subjAgree)[0].cp_name):e.subjAgree="")},A=s=>{let o="";t.isEmpty(s)||(o=e.subjectList.filter(c=>c.cp_id===s)[0].agreeYn),t.isEqual(o,"N")?(e.lectureAgree=s,e.lectureAgreeNm=e.subjectList.filter(c=>c.cp_id===e.lectureAgree)[0].cp_name):e.lectureAgree=""},C=s=>{let o="";t.isEmpty(s)||(o=e.subjectList.filter(c=>c.cp_id===s)[0].agreeYn),t.isEqual(o,"N")?(e.bookAgree=s,e.bookAgreeNm=e.subjectList.filter(c=>c.cp_id===e.bookAgree)[0].cp_name):e.bookAgree=""},S=()=>{self.close()};return(s,o)=>{const c=k,m=O;return g(),h("div",M,[w,a("form",{onSubmit:o[3]||(o[3]=T(()=>{},["prevent"]))},[a("div",U,[z,("isEmpty"in s?s.isEmpty:l(t.isEmpty))(l(e).schoolList)?b("",!0):(g(),h("div",$,[J,_(c,{class:"c-form-check-group--col3",modelValue:l(e).school,"onUpdate:modelValue":[o[0]||(o[0]=r=>l(e).school=r),E],items:l(e).schoolList,isDisabled:!("isEqual"in s?s.isEqual:l(t.isEqual))(p.learnInfo.schChgAvailPreview,"Y")},null,8,["modelValue","items","isDisabled"])])),a("div",F,[("isEqual"in s?s.isEqual:l(t.isEqual))(l(e).school,"SCHLVL_P002")||("isEqual"in s?s.isEqual:l(t.isEqual))(l(e).school,"SCHLVL_P003")?(g(),h("div",K,[a("div",Q,[W,_(c,{class:"c-form-check-group--col4",modelValue:l(e).grade,"onUpdate:modelValue":[o[1]||(o[1]=r=>l(e).grade=r),q],items:l(e).gradeList,isDisabled:!("isEqual"in s?s.isEqual:l(t.isEqual))(p.learnInfo.schChgAvailPreview,"Y")},null,8,["modelValue","items","isDisabled"])]),a("div",X,[Z,_(c,{modelValue:l(e).purpose,"onUpdate:modelValue":o[2]||(o[2]=r=>l(e).purpose=r),items:l(e).pRadioList,isDisabled:!("isEqual"in s?s.isEqual:l(t.isEqual))(p.learnInfo.schChgAvailPreview,"Y")},null,8,["modelValue","items","isDisabled"])])])):b("",!0)]),a("div",x,[("isEmpty"in s?s.isEmpty:l(t.isEmpty))(l(e).school)?b("",!0):(g(),H(G,{key:0,typeInfo:{school:l(e).school,grade:l(e).grade},dataList:l(e).subjectList,onOnChangeSubj:j,onOnChangeLecture:A,onOnChangeBook:C,paramInfo:l(e).paramInfo},null,8,["typeInfo","dataList","paramInfo"]))])]),a("div",ee,[a("div",se,[_(m,{size:"auto",sizeType:"large",styleType:"danger",text:"확인",onClick:S})])])],32)])}}},ge=y(oe,[["__scopeId","data-v-c3120ca3"]]);export{ge as default};

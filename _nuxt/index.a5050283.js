import{_ as k}from"./Input.9ccbf189.js";import{_ as E}from"./Checkbox.20dceeb0.js";import{_ as V,f as q,k as B,O as C,r as L,l as u,q as R,c as v,a as e,D as T,b as d,i as t,v as Y,w as m,F as $,s as N,o as g,d as _,E as U,U as z,ap as A,p as F,e as M,h as j,T as I,J as D}from"./entry.e1c54084.js";const f=p=>(F("data-v-11d30e26"),p=p(),M(),p),J={class:"account"},O=f(()=>e("h1",{class:"d-none"},"로그인",-1)),G={class:"account__body"},H={class:"login"},K=f(()=>e("legend",null,[e("h2",{class:"account__title"},[_(" 로그인하고"),e("br"),_(" 다양한 정보를 만나보세요! ")])],-1)),P={class:"login__form"},Q={key:0,class:"c-form-message c-text-danger"},W={class:"login__menu"},X=f(()=>e("div",{class:"login__divider"},[e("p",null,[e("span",null,"또는")])],-1)),Z={class:"login__list"},ee=f(()=>e("div",{id:"naver_id_login"},null,-1)),oe=["src","alt"],le={__name:"index",setup(p){const i=q(),n=B(),c=C(),s=L({id:u.isEmpty(localStorage.getItem("loginId"))?"":localStorage.getItem("loginId"),pw:"",remember:!u.isEmpty(localStorage.getItem("loginId")),hasError:!1,socialButtons:[{type:"naver",text:"네이버계정으로 로그인",alt:"네이버 로고"},{type:"kakao",text:"카카오계정으로 로그인",alt:"카카오톡 로고"}]}),S=async()=>{if(s.id===""||s.pw===""){n.alert("알림","아이디/비밀번호를 입력해주세요.");return}else await j({method:"post",id:"로그인",endpoint:"/api/login/slLogin",data:{loginid:s.id,passwd:s.pw},onResponse({data:o,status:l,message:a}){if(console.log("data ",o),l===200)s.hasError=!1,localStorage.setItem("loginId",o.loginid),I(o),s.remember||localStorage.removeItem("loginId"),c.userId=o.userid,u.isEqual(o.firstLoginYn,"Y")?i.push("/"):u.isEqual(o.qlfcRequired,"Y")?i.push("/revalidation"):u.isEqual(o.slAgrRequired,"Y")?i.push("/revalidation/certification"):u.isEqual(o.lrnpltChgAvail,"Y")?i.push("/revalidation/learnSite"):i.push("/");else if(l===400)n.alert("알림","회원정보가 존재하지 않습니다.<br/>서비스 이용을 원하시는 경우 회원가입을 진행해주세요.");else if(l===406){I(o),c.userId=s.id,n.alert("알림","비밀번호를 변경한지 3개월이 지났습니다.<br/> 비밀번호를 변경해주세요.",()=>{i.push("/login/pw-reset")});return}else if(l===407)I(o),c.userId=s.id,n.alert("알림","1년 간 이용내역이 없어 휴면회원으로 전환 되었습니다.<br/>서울런 서비스를 계속 이용하시려면 비밀번호 변경 후 재 로그인하여 사용하시기 바랍니다.",()=>{i.push("/login/pw-reset")});else if(l===408){s.hasError=!0,n.alert("알림",a);return}else if(l===403)o.status=l,c.loginResult=o,n.alert("알림",a,()=>{i.push("/login/result")});else if(l===402)o.status=l,c.loginResult=o,n.alert("알림",a,()=>{i.push("/login/result")});else{n.alert("알림",a);return}}})};return(o,l)=>{const a=k,b=E,y=D,h=R("router-link");return g(),v("div",J,[O,e("div",G,[e("div",H,[e("form",{class:"needs-validation",onSubmit:l[3]||(l[3]=T(()=>{},["prevent"]))},[e("fieldset",null,[K,e("div",P,[d(a,{modelValue:t(s).id,"onUpdate:modelValue":l[0]||(l[0]=r=>t(s).id=r),type:"text",placeholder:"아이디를 입력해 주세요",title:"아이디 입력"},null,8,["modelValue"]),d(a,{modelValue:t(s).pw,"onUpdate:modelValue":l[1]||(l[1]=r=>t(s).pw=r),type:"password",placeholder:"비밀번호를 입력해 주세요",title:"비밀번호 입력"},null,8,["modelValue"]),t(s).hasError?(g(),v("p",Q," 아이디 또는 비밀번호가 올바르지 않습니다. ")):Y("",!0),d(b,{modelValue:t(s).remember,"onUpdate:modelValue":l[2]||(l[2]=r=>t(s).remember=r),text:"아이디 기억하기"},null,8,["modelValue"]),d(y,{type:"submit",sizeType:"large",styleType:"danger",isBold:!0,text:"로그인",onClick:S})])])],32),e("div",W,[e("ul",null,[e("li",null,[d(h,{to:"/find-id"},{default:m(()=>[_("아이디 찾기")]),_:1})]),e("li",null,[d(h,{to:"/find-pw"},{default:m(()=>[_("비밀번호 찾기")]),_:1})]),e("li",null,[d(h,{to:"/join/qualification"},{default:m(()=>[_("회원가입")]),_:1})])])]),X,e("div",Z,[ee,(g(!0),v($,null,N(t(s).socialButtons,({type:r,text:w,src:se,alt:x})=>(g(),U(y,{title:"새창으로 이동",class:"c-btn-outline-secondary",sizeType:"large",text:w,onClick:te=>("uSocialLogin"in o?o.uSocialLogin:t(A))(r)},{before:m(()=>[e("img",{src:("uImage"in o?o.uImage:t(z))(`logo-${r}.svg`),alt:x},null,8,oe)]),_:2},1032,["text","onClick"]))),256))])])])])}}},ae=V(le,[["__scopeId","data-v-11d30e26"]]);export{ae as default};

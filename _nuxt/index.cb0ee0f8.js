import{_ as Z}from"./CommonContentsModal.1a643f7e.js";import{_ as H,k as X,O as ee,f as te,r as se,Q as le,g as oe,l as a,Z as T,c,b as d,w as C,i as t,a as i,v as _,d as g,y as ae,z as ie,E,D as ne,F as N,h as V,J as de,o as u,s as me,U as re,ap as ue,aq as v,t as pe,p as ce,e as fe}from"./entry.e1c54084.js";import{_ as be}from"./Input.9ccbf189.js";import{_ as ye}from"./Select.c0424bc0.js";import{_ as _e}from"./Countdown.669033c6.js";import{_ as ge}from"./Radio.ef28b89a.js";import{_ as xe}from"./ic-check.70858d0c.js";import{u as Ce}from"./vue-daum-postcode.7b75c6e7.js";import Ee from"./_nav.d722f5c5.js";import Ie from"./result.9a9db3e9.js";import{_ as w}from"./validationPanel.12a23ba5.js";import"./ch-management.fd76c6e1.js";const b=I=>(ce("data-v-d75334ab"),I=I(),fe(),I),he={class:"login__list"},ke=["src","alt"],Ve={key:0,class:"account"},Ne=b(()=>i("h1",null,"회원가입",-1)),ve={class:"account__body"},we=b(()=>i("h2",{class:"account__title"},"기본정보를 입력해주세요.",-1)),Ue={class:"c-form-group"},Me={class:"c-form-group"},Se={key:0,class:"c-text-caution c-text-caution--type02 c-text-danger"},Te={key:1,class:"c-text-caution c-text-caution--type02 c-text-danger"},De={class:"c-form-group"},Re={class:"c-form-group"},Ae={class:"c-form-group"},je=b(()=>i("label",{for:"mail",class:"c-form-label"},[i("span",{class:"c-essential"},"*"),g(" 휴대전화")],-1)),qe={class:"c-input-group"},Le={class:"c-form-group"},$e=b(()=>i("label",{for:"mail",class:"c-form-label"},[i("span",{class:"c-essential"},"*"),g(" 이메일 주소")],-1)),ze={class:"c-input-group c-input-group--email"},Be=["disabled"],Pe=b(()=>i("p",{class:"c-text-danger",counter:""},null,-1)),Ke={key:1,class:"c-text-danger"},Oe=b(()=>i("img",{src:xe,alt:"확인완료"},null,-1)),Je={key:0,class:"c-text-caution c-text-caution--type02 c-text-danger"},Ye={key:1,class:"c-text-caution c-text-caution--type02 c-text-danger"},Fe={class:"c-form-group"},We={class:"c-input-group"},Ge={class:"c-input-group"},Qe={key:0,class:"account__body"},Ze=b(()=>i("h2",{class:"account__title"},"법정대리인 정보 확인하세요.",-1)),He={class:"c-form-group"},Xe={class:"c-form-group"},et={class:"c-form-group"},tt=b(()=>i("label",{for:"mail",class:"c-form-label"}," 휴대폰 번호",-1)),st={class:"c-input-group"},lt={class:"account__body"},ot=b(()=>i("h2",{class:"account__title"},"이벤트 정보 수신(SMS/알림톡) 동의",-1)),at={class:"c-form-group"},it=b(()=>i("div",{class:"c-text-caution"},[g(" 서울런 서비스 이용회원은 학습정보, 운영 등에 대한 정보는 "),i("br"),g(" 동의여부와 관계없이 문자/알림톡 등으로 제공됩니다. ")],-1)),nt={class:"account__foot"},dt={class:"c-btn-group"},mt={__name:"index",setup(I){const r=X(),n=ee(),U=te(),e=se({name:"",id:"",pw:"",pw2:"",email:"",isUseId:!1,isNotUseId:!1,isCheckId:!1,isCheckPw:!1,isCheckPw2:!1,isUseEmail:!1,isCheckEmail:!1,mob1:"",mob2:"",mob3:"",isDisabledMob:!1,emailCode:"",emailList:le(),emailId:"",emailAddr:"",emailText:"인증번호 발송",emailSend:!1,emailTimer:!1,emailCheckNum:"",emailConfirmNum:"",emailConfirm:!1,emailNumEqaul:!1,isDisabledEmail:!1,command:"start",addressModal:{isShow:!1,title:"주소 찾기",id:"",isAgree:""},postCode:"",addr:"",addrDtl:"",smsType:"Y",smsList:[{text:"수신",value:"Y"},{text:"미수신",value:"N"}],parentName:"",parentSex:"",parentMob1:"",parentMob2:"",parentMob3:"",isNext:!1,nextBtn:"다음",snsInfo:{},socialButtons:[{type:"naver",text:"네이버계정으로 로그인",alt:"네이버 로고"},{type:"kakao",text:"카카오계정으로 로그인",alt:"카카오톡 로고"}],resultCode:null});oe(()=>{var h;let l=n.passInfo.NAME,s=n.passInfo.MOBILE_NO,y=n.passInfo.GENDER,p=n.emailModalInfo.email,m=n.joinInfo.age,x=(h=s==null?void 0:s.replace(/^(\d{2,3})(\d{3,4})(\d{4})$/,"$1-$2-$3"))==null?void 0:h.split("-");if(!a.isEmpty(s)&&m<14&&(e.parentName=l,e.parentSex=a.isEqual(y,"1")?"남성":"여성",e.parentMob1=x[0],e.parentMob2=x[1],e.parentMob3=x[2]),!a.isEmpty(l)&&m>13?e.name=l:e.name=n.joinInfo.usernm,!a.isEmpty(s)&&(m>13||a.isEqual(n.joinInfo.type,"mentor"))&&(e.mob1=x[0],e.mob2=x[1],e.mob3=x[2],e.isDisabledMob=!0),!a.isEmpty(p)){let k=p.split("@");e.emailId=k[0],e.emailAddr=k[1].toLowerCase(),e.emailCode=e.emailAddr,e.isDisabledEmail=!0,e.isUseEmail=!0,e.emailConfirm=!0}});const D=l=>{e.isUseId=null,e.isNotUseId=null,e.isCheckId=l},R=()=>{if(e.isUseId=!1,e.isNotUseId=!1,a.isEmpty(e.id)){r.alert("알림","아이디를 입력하세요.");return}else if(!e.isCheckId){r.alert("알림","정확한 아이디를 입력하세요.");return}V({method:"post",id:"회원가입 아이디 중복확인",endpoint:"/api/join/id_dup_check",data:{id:e.id},onResponse({data:l,status:s,message:y}){console.log("data ",l),a.isEqual(l.dupYn,"N")?e.isUseId=!0:e.isNotUseId=!0}})},A=l=>{e.isCheckPw=l},j=l=>{e.isCheckPw2=l},q=l=>{e.emailAddr=l},L=()=>{if(e.isUseEmail=!1,e.isCheckEmail=!1,a.isEmpty(e.emailId)||a.isEmpty(e.emailAddr)){r.alert("알림","이메일을 입력하세요.");return}V({method:"post",id:"회원가입 이메일 중복확인",endpoint:"/api/join/email_dup_check",data:{email:e.emailId+"@"+e.emailAddr},onResponse({data:l,status:s,message:y}){console.log("data ",l),a.isEqual(l.dupYn,"N")?e.isUseEmail=!0:e.isCheckEmail=!0}})},$=()=>{e.emailCheckNum="",e.emailSend=!1,e.emailTimer=!0,e.emailNumEqaul=!1,e.emailText="인증번호 재발송"},z=()=>{console.log("certiEmail"),e.emailTimer=!1,e.command="restart",V({method:"post",id:"회원가입 이메일 인증",endpoint:"/api/ident_by_email",data:{email:e.emailId+"@"+e.emailAddr},onResponse({data:l,status:s}){if(console.log("data ",l),e.command="start",a.isEqual(l.dupYn,"Y")){r.alert("알림","이메일이 중복되었습니다.");return}else e.emailSend=!0,e.emailConfirmNum=l.crtfNumber}})};T(()=>e.emailId,l=>{a.isEmpty(l)&&(e.isUseEmail=!1)});const B=()=>{console.log("onClickConfirm"),e.emailConfirmNum!=e.emailCheckNum?(r.alert("알림","잘못된 인증번호입니다."),e.emailConfirm=!1,e.emailNumEqaul=!0,e.emailCheckNum=""):(e.emailConfirm=!0,e.emailNumEqaul=!1,e.isDisabledEmail=!0)},P=l=>{e.addr=l.userSelectedType==="R"?l.roadAddress:l.jibunAddress,e.postCode=l.zonecode,e.addressModal.isShow=!1},K=l=>{e.smsType=l},O=()=>{U.push("/join/qualification")},f=()=>{if(a.isEmpty(e.name)){e.isNext=!1;return}if(a.isEmpty(e.id)){e.isNext=!1;return}if(a.isEmpty(e.pw)){e.isNext=!1;return}if(a.isEmpty(e.pw2)){e.isNext=!1;return}if(a.isEmpty(e.mob1)){e.isNext=!1;return}if(a.isEmpty(e.mob2)){e.isNext=!1;return}if(a.isEmpty(e.mob3)){e.isNext=!1;return}if(a.isEmpty(e.emailId)||a.isEmpty(e.emailAddr)){e.isNext=!1;return}if(a.isEmpty(e.addr)||a.isEmpty(e.addrDtl)){e.isNext=!1;return}a.isEmpty(n.joinInfo.type)||(e.nextBtn="완료"),e.isNext=!0},J=()=>a.isEmpty(e.name)?(r.alert("알림","이름을 입력해주세요."),!1):a.isEmpty(e.id)?(r.alert("알림","아이디를 입력해주세요."),!1):e.isUseId?a.isEmpty(e.pw)?(r.alert("알림","비밀번호를 입력해주세요."),!1):a.isEmpty(e.pw2)||!e.isCheckPw?(r.alert("알림","비밀번호를 확인해주세요."),!1):a.isEmpty(e.mob1)||a.isEmpty(e.mob2)||a.isEmpty(e.mob3)?(r.alert("알림","휴대전화를 입력해주세요."),!1):a.isEmpty(e.emailId)||a.isEmpty(e.emailAddr)?(r.alert("알림","이메일을 입력해주세요."),!1):e.isUseEmail?e.emailConfirm?a.isEmpty(e.addr)||a.isEmpty(e.addrDtl)?(r.alert("알림","주소를 입력해주세요."),!1):!0:(r.alert("알림","이메일을 인증해주세요."),!1):(r.alert("알림","이메일을 중복확인해주세요."),!1):(r.alert("알림","아이디 중복확인 해주세요."),!1),Y=()=>{let l={qlfc_enc_dat:n.joinInfo.qlfc_enc_dat,nice_enc_dat:n.passInfo.nice_enc_dat,ge3family_enc_dat:n.bigFamily.ge3family_enc_dat,join_pcd:"JOIN_P011",birthday:n.joinInfo.birthday,loginid:n.basicInfo.id,passwd:n.basicInfo.pw,userName:n.basicInfo.name,email:n.basicInfo.email,zipcode:n.basicInfo.postCode,address1:n.basicInfo.addr,address2:n.basicInfo.addrDtl,evtInfoRcvYn:n.basicInfo.smsType,attachType:n.joinAttachType,snsConnects:[{snsCode:n.snsCd,id:n.snsId}],smaIdx:n.joinInfo.smaIdx};return l.mobileno=a.isEmpty(n.passInfo)?n.basicInfo.mobile:n.passInfo.MOBILE_NO,l},F=()=>{if(!J())return;let l={name:e.name,id:e.id,pw:e.pw,email:e.emailId+"@"+e.emailAddr,mobile:e.mob1+"-"+e.mob2+"-"+e.mob3,postCode:e.postCode,addr:e.addr,addrDtl:e.addrDtl,smsType:e.smsType};n.basicInfo=l,a.isEmpty(n.joinInfo.type)?U.push("/join/step04"):(n.snsId="",e.snsInfo.isShow=!0,e.snsInfo.title="SNS 계정 연동",e.snsInfo.subTitle="SNS 계정과 연동할 수 있어요")};T(()=>n.snsId,l=>{a.isEmpty(l)||M()});const M=()=>{e.snsInfo.isShow=!1,S()},W=()=>{e.snsInfo.isShow=!1,S()},S=()=>{const l=new FormData;let s=Y();l.append("data",new Blob([JSON.stringify(s)],{type:"application/json"})),V({method:"post",id:"회원가입 등록",endpoint:"/api/join/signup",headers:"FILE_UPLOAD",data:l,onResponse({data:y,status:p,message:m}){console.log("goJoin data",y),console.log("goJoin status",p),console.log("goJoin message",m),p===200?e.resultCode=y.confirmStatCode:r.alert("알림",m)}})};return(l,s)=>{const y=Z,p=de,m=be,x=ye,h=_e,k=ge;return u(),c(N,null,[d(y,{data:t(e).addressModal,onClose:s[0]||(s[0]=o=>t(e).addressModal.isShow=!1)},{innerContents:C(()=>[d(t(Ce),{onComplete:P})]),_:1},8,["data"]),d(y,{data:t(e).snsInfo,onClose:M},{innerContents:C(()=>[i("div",he,[(u(!0),c(N,null,me(t(e).socialButtons,({type:o,text:G,src:rt,alt:Q})=>(u(),E(p,{title:"새창으로 이동",class:"c-btn-outline-secondary",sizeType:"large",text:G,onClick:ut=>("uSocialLogin"in l?l.uSocialLogin:t(ue))(o)},{before:C(()=>[i("img",{src:("uImage"in l?l.uImage:t(re))(`logo-${o}.svg`),alt:Q},null,8,ke)]),_:2},1032,["text","onClick"]))),256)),i("button",{type:"button",class:"c-btn c-btn-lg c-btn-block c-btn-outline-secondary",onClick:W}," SNS 연동하지않고 가입하기 ")])]),_:1},8,["data"]),("isEmpty"in l?l.isEmpty:t(a.isEmpty))(t(e).resultCode)?(u(),c("div",Ve,[Ne,d(Ee,{active:3}),i("form",{onSubmit:s[22]||(s[22]=ne(()=>{},["prevent"]))},[i("div",ve,[we,i("div",Ue,[d(m,{modelValue:t(e).name,"onUpdate:modelValue":s[1]||(s[1]=o=>t(e).name=o),id:"이름",label:"이름",type:"text",placeholder:"이름을 입력해 주세요",title:"이름",isRequireMark:!0,disabled:!0,onKeyup:f},null,8,["modelValue"])]),i("div",Me,[d(m,{modelValue:t(e).id,"onUpdate:modelValue":s[2]||(s[2]=o=>t(e).id=o),label:"아이디",placeholder:"아이디를 입력하세요.",isRequireMark:!0,onKeyup:f},{default:C(()=>[d(p,{size:"auto",sizeType:"small",styleType:"blue",text:"중복확인",onClick:R})]),_:1},8,["modelValue"]),d(w,{value:t(e).id,items:[{text:"영문 또는 영문과 숫자를 조합해주세요.",tester:()=>("uRegexpr"in l?l.uRegexpr:t(v))("ID",t(e).id)},{text:"5글자 이상 입력해주세요.",tester:()=>t(e).id.length>4}],"onUpdate:modelValue":D},null,8,["value","items"]),t(e).isUseId?(u(),c("div",Se," 사용 가능 합니다. ")):_("",!0),t(e).isNotUseId?(u(),c("div",Te," 등록된 아이디가 존재합니다. ")):_("",!0)]),i("div",De,[d(m,{modelValue:t(e).pw,"onUpdate:modelValue":s[3]||(s[3]=o=>t(e).pw=o),label:"비밀번호",type:"password",placeholder:"비밀번호를 입력해주세요.",isRequireMark:!0,onKeyup:f},null,8,["modelValue"]),d(w,{value:t(e).pw,items:[{text:"대소문자 영문, 숫자, 특수문자 중 2종류 이상 조합해주세요.",tester:()=>("uRegexpr"in l?l.uRegexpr:t(v))("PW_MAIN",t(e).pw)},{text:"10자리 ~ 12자리까지 입력해주세요.",tester:()=>t(e).pw.length>9&&t(e).pw.length<=12},{text:"연속적인 숫자나 생일, 전화번호가 포함된 정보는 입력할 수 없습니다.",tester:()=>("uRegexpr"in l?l.uRegexpr:t(v))("PW_NUM",t(e).pw)}],"onUpdate:modelValue":A},null,8,["value","items"])]),i("div",Re,[d(m,{modelValue:t(e).pw2,"onUpdate:modelValue":s[4]||(s[4]=o=>t(e).pw2=o),label:"비밀번호 확인",type:"password",placeholder:"비밀번호를 입력해주세요.",isRequireMark:!0,onKeyup:f},null,8,["modelValue"]),d(w,{value:t(e).pw,items:[{text:"위에 입력하신 비밀번호와 동일하게 입력해주세요.",tester:()=>t(e).pw===t(e).pw2}],"onUpdate:modelValue":j},null,8,["value","items"])]),i("div",Ae,[je,i("div",qe,[d(m,{modelValue:t(e).mob1,"onUpdate:modelValue":s[5]||(s[5]=o=>t(e).mob1=o),type:"text",placeholder:"",id:"mob1",title:"휴대폰 번호 국번 입력",maxlength:"3",onlyNumber:!0,disabled:t(e).isDisabledMob,onKeyup:f},null,8,["modelValue","disabled"]),g(" - "),d(m,{modelValue:t(e).mob2,"onUpdate:modelValue":s[6]||(s[6]=o=>t(e).mob2=o),type:"text",placeholder:"",id:"mob2",title:"휴대폰 번호 앞자리 입력",maxlength:"4",onlyNumber:!0,disabled:t(e).isDisabledMob,onKeyup:f},null,8,["modelValue","disabled"]),g(" - "),d(m,{modelValue:t(e).mob3,"onUpdate:modelValue":s[7]||(s[7]=o=>t(e).mob3=o),type:"text",placeholder:"",id:"mob3",title:"휴대폰 번호 뒷자리 입력",maxlength:"4",onlyNumber:!0,disabled:t(e).isDisabledMob,onKeyup:f},null,8,["modelValue","disabled"])])]),i("div",Le,[$e,i("div",ze,[ae(i("input",{"onUpdate:modelValue":s[8]||(s[8]=o=>t(e).emailId=o),id:"emailId",class:"c-form-control",type:"text",placeholder:"이메일 아이디",title:"이메일 아이디 입력",disabled:t(e).isDisabledEmail,onKeyup:f},null,40,Be),[[ie,t(e).emailId]]),d(x,{title:"이메일 도메인 선택",isDisabled:t(e).isDisabledEmail,modelValue:t(e).emailCode,"onUpdate:modelValue":[s[9]||(s[9]=o=>t(e).emailCode=o),q],options:t(e).emailList},null,8,["isDisabled","modelValue","options"])]),d(m,{modelValue:t(e).emailAddr,"onUpdate:modelValue":s[10]||(s[10]=o=>t(e).emailAddr=o),type:"text",id:"emailAddr",placeholder:"이메일 주소를 입력해주세요.",title:"이메일 입력",disabled:t(e).isDisabledEmail,onKeyup:f},{default:C(()=>[("isEmpty"in l?l.isEmpty:t(a.isEmpty))(t(n).emailModalInfo.email)?(u(),c(N,{key:0},[t(e).isUseEmail?(u(),c("button",{key:1,class:"c-btn c-btn-sm c-btn-sm--type02 c-btn-blue",onClick:z},pe(t(e).emailText),1)):(u(),c("button",{key:0,class:"c-btn c-btn-sm c-btn-sm--type02 c-btn-blue",onClick:L}," 이메일 중복확인 "))],64)):_("",!0)]),_:1},8,["modelValue","disabled"]),t(e).emailSend?(u(),E(m,{key:0,modelValue:t(e).emailCheckNum,"onUpdate:modelValue":s[11]||(s[11]=o=>t(e).emailCheckNum=o)},{default:C(()=>[t(e).emailConfirm?_("",!0):(u(),E(h,{key:0,command:t(e).command,seconds:300,onEnd:$},{default:C(()=>[Pe]),_:1},8,["command"])),t(e).emailConfirm?(u(),c("p",Ke,[Oe,g(" 확인완료 ")])):_("",!0),d(p,{size:"auto",sizeType:"small",styleType:"blue",text:"인증번호 확인",validator:!0,onClick:B})]),_:1},8,["modelValue"])):_("",!0)]),t(e).isCheckEmail?(u(),c("div",Je," 중복된 이메일 주소가 존재합니다. ")):_("",!0),t(e).isUseEmail&&!t(e).emailSend?(u(),c("div",Ye," 사용 가능 합니다 ")):_("",!0),i("div",Fe,[d(m,{modelValue:t(e).postCode,"onUpdate:modelValue":s[13]||(s[13]=o=>t(e).postCode=o),label:"주소",type:"text",placeholder:"우편번호",title:"우편번호",disabled:!0,isRequireMark:!0},{default:C(()=>[i("button",{class:"c-btn c-btn-sm c-btn-blue",onClick:s[12]||(s[12]=o=>t(e).addressModal.isShow=!0)}," 검색 ")]),_:1},8,["modelValue"]),i("div",We,[d(m,{modelValue:t(e).addr,"onUpdate:modelValue":s[14]||(s[14]=o=>t(e).addr=o),type:"text",placeholder:"",title:"주소",disabled:!0},null,8,["modelValue"])]),i("div",Ge,[d(m,{modelValue:t(e).addrDtl,"onUpdate:modelValue":s[15]||(s[15]=o=>t(e).addrDtl=o),type:"text",placeholder:"상세 주소 입력해주세요",title:"상세주소",onKeyup:f},null,8,["modelValue"])])])]),t(n).joinInfo.age<14?(u(),c("div",Qe,[Ze,i("div",He,[d(m,{modelValue:t(e).parentName,"onUpdate:modelValue":s[16]||(s[16]=o=>t(e).parentName=o),label:"이름",type:"text",disabled:!0},null,8,["modelValue"])]),i("div",Xe,[d(m,{modelValue:t(e).parentSex,"onUpdate:modelValue":s[17]||(s[17]=o=>t(e).parentSex=o),label:"성별",type:"text",disabled:!0},null,8,["modelValue"])]),i("div",et,[tt,i("div",st,[d(m,{modelValue:t(e).parentMob1,"onUpdate:modelValue":s[18]||(s[18]=o=>t(e).parentMob1=o),type:"text",placeholder:"",title:"휴대폰 번호 입력",maxlength:"3",onlyNumber:!0,disabled:!0},null,8,["modelValue"]),g(" - "),d(m,{modelValue:t(e).parentMob2,"onUpdate:modelValue":s[19]||(s[19]=o=>t(e).parentMob2=o),type:"text",placeholder:"",title:"휴대폰 번호 입력",maxlength:"4",onlyNumber:!0,disabled:!0},null,8,["modelValue"]),g(" - "),d(m,{modelValue:t(e).parentMob3,"onUpdate:modelValue":s[20]||(s[20]=o=>t(e).parentMob3=o),type:"text",placeholder:"",title:"휴대폰 번호 입력",maxlength:"4",onlyNumber:!0,disabled:!0},null,8,["modelValue"])])])])):_("",!0),i("div",lt,[ot,i("div",at,[d(k,{modelValue:t(e).smsType,"onUpdate:modelValue":[s[21]||(s[21]=o=>t(e).smsType=o),K],items:t(e).smsList},null,8,["modelValue","items"])]),it]),i("div",nt,[i("div",dt,[d(p,{size:"auto",sizeType:"large",styleType:"blue",text:"취소",onClick:O}),t(e).isNext?(u(),E(p,{key:1,size:"auto",sizeType:"large",styleType:"danger",text:t(e).nextBtn,onClick:F},null,8,["text"])):(u(),E(p,{key:0,class:"c-btn-inactive",size:"auto",sizeType:"large",text:"다음"}))])])],32)])):(u(),E(t(Ie),{key:1,data:t(e).resultCode},null,8,["data"]))],64)}}},kt=H(mt,[["__scopeId","data-v-d75334ab"]]);export{kt as default};

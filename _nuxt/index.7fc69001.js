import{_ as E}from"./breadCrumbs.86a21415.js";import{_ as S}from"./CalendarFilter.b1877e2c.js";import{_ as $}from"./Nodata.41a09680.js";import{_ as w}from"./pagination.86fa1564.js";import{k as x,ak as B,r as P,C as d,m as l,g as V,h as z,c as i,b as _,a as t,y as F,S as I,i as s,t as r,E as v,v as u,F as O,s as R,H as T,o as c,l as y,n as j,d as p}from"./entry.e1c54084.js";import A from"./_snb.5c7ca73e.js";import L from"./_snbTablet.5be258ab.js";import"./Radio.ef28b89a.js";import"./Input.9ccbf189.js";import"./main.2d4970b0.js";import"./ch-nodata.e12229c9.js";import"./1.5c1c421a.js";const U={class:"mypage"},q={class:"mypage-coupon"},H={class:"mypage__wrap"},G={class:"mypage__contents"},J=T('<div class="mypage__contents-head"><div class="c-text-title-lg">내 쿠폰 관리</div><div class="c-text-title-sub"><p> 서울런에서 제공하는 쿠폰 사용방법을<br class="c-mo"> 자세히 알아보고 혜택을 누려보세요! <br> 도움이 필요하실 땐 서울런 고객센터<br class="c-mo"> (1533-0909)로 연락주세요! </p><button class="c-btn c-btn-sm c-btn-danger"> 메뉴얼 다운로드 </button></div></div>',1),K={class:"mypage__contents-search"},Q={class:"c-form-group"},W=t("label",{for:"status",class:"c-form-label"},"상태별",-1),X=t("option",{value:"all"},"전체",-1),Z=t("option",{value:"N"},"미사용",-1),tt=t("option",{value:"Y"},"사용완료",-1),et=[X,Z,tt],ot={class:"c-form-group"},st={class:"mypage__contents-body"},at={class:"mypage__contents-head--sm"},nt={class:"mypage-coupon__list"},ct={class:"mypage-coupon__list-item-contents"},it={class:"mypage-coupon__list-item-head"},dt={class:"c-badge"},rt=t("div",{class:"mypage-coupon__list-item-text"}," 2만원 상당 쿠폰 증정 ",-1),lt={class:"mypage-coupon__list-item-number"},_t={key:0},pt=t("div",{class:"c-text-caution c-text-caution--type02"}," 초등학습사이트와 윌라에서는 쿠폰을 사용하실 수 없습니다. ",-1),mt={class:"mypage-coupon__list-item-date"},ut=["onClick"],ht=t("i",{class:"ico ico-copy"},"쿠폰번호 복사",-1),gt=t("br",{class:"c-pc c-tablet"},null,-1),vt={key:1,href:"javascript:void(0)",class:"mypage-coupon__list-item-copy"},yt=t("br",null,null,-1),Dt={key:0},Yt={key:1},Ft={__name:"index",setup(bt){const D=x();B();const o=P({pageSize:10,pageNumber:0,searchOption:"all",startDate:d(l().add(-1,"months"),"YYYY.MM.DD"),endDate:d(l(),"YYYY.MM.DD"),data:{rows:{validStartDt:"",validEndDt:""}}});V(()=>{m()});const Y=e=>{o.pageNumber=e,m()},b=(e,n)=>{console.log(`${e} ~ ${n}`),o.startDate=e,o.endDate=n,m()},f=e=>{const n=document.createElement("textarea");n.value=e,document.body.appendChild(n),n.select(),document.execCommand("copy"),document.body.removeChild(n),D.alert("알림","복사되었습니다.")},m=async()=>{await z({id:"마이페이지 내 쿠폰 조회",endpoint:"/api/sq/coupon/list",headers:"PUBLIC",data:{pageSize:o.pageSize,pageNumber:o.pageNumber,startDate:d(o.startDate,"YYYY.MM.DD"),endDate:d(o.endDate,"YYYY.MM.DD"),useYn:o.searchOption},onResponse({data:e}){return console.log("조회데이터 >>",e),o.data=e,!0}})};return(e,n)=>{var h,g;const C=E,N=S,M=$,k=w;return c(),i("div",U,[_(L),_(C),t("div",q,[t("div",H,[_(A),t("div",G,[J,t("div",K,[t("div",Q,[W,F(t("select",{name:"",id:"status",class:"c-form-control c-form-control-sm","onUpdate:modelValue":n[0]||(n[0]=a=>s(o).searchOption=a)},et,512),[[I,s(o).searchOption]])]),t("div",ot,[_(N,{onChanged:b})])]),t("div",st,[t("div",at," 총 "+r(s(o).data.rows.length)+"개 ",1),("isEmpty"in e?e.isEmpty:s(y.isEmpty))(s(o).data.rows)?(c(),v(M,{key:0,nodata:"등록된 쿠폰이 없습니다"})):u("",!0),t("div",nt,[(c(!0),i(O,null,R(s(o).data.rows,(a,ft)=>(c(),i("div",{class:j(["mypage-coupon__list-item",a.useYn==="Y"?"mypage-coupon__list-item--end":""])},[t("div",ct,[t("div",it,[t("div",dt,r(a.couponTitle),1)]),rt,t("div",lt,[p(" 쿠폰번호 : "),a.useYn==="N"||s(l)().isAfter(a.validEndDt)?(c(),i("span",_t,r(a.couponNo),1)):u("",!0)]),pt,t("div",mt,r(`${("uConvertDate"in e?e.uConvertDate:s(d))(a.validStartDt,"YYYY.MM.DD")}~${("uConvertDate"in e?e.uConvertDate:s(d))(a.validEndDt,"YYYY.MM.DD")}`),1)]),a.useYn==="N"||s(l)().isAfter(a.validEndDt)?(c(),i("a",{key:0,href:"javascript:void(0)",onClick:Ct=>f(a.couponNo),class:"mypage-coupon__list-item-copy"},[ht,p(" 쿠폰번호"),gt,p("복사 ")],8,ut)):(c(),i("a",vt,[p(" 사용완료 "),yt,t("span",null,r(("uConvertDate"in e?e.uConvertDate:s(d))(a.useDtm,"YYYY.MM.DD")),1),a.useYn==="Y"&&!("isEmpty"in e?e.isEmpty:s(y.isEmpty))(a.cpName)?(c(),i("span",Dt,"("+r(a.cpName)+")",1)):(c(),i("span",Yt,r(s(l)().add(1,"day").format("YYYY.MM.DD")),1))]))],2))),256))]),((g=(h=s(o).data)==null?void 0:h.rows)==null?void 0:g.length)>0?(c(),v(k,{key:1,pageNumber:s(o).data.pageNumber,totalRecords:s(o).data.totalRecords,totalPages:s(o).data.totalPages,onChangedPageIndex:Y},null,8,["pageNumber","totalRecords","totalPages"])):u("",!0)])])])])])}}};export{Ft as default};

import{_ as F}from"./CommonContentsModal.1a643f7e.js";import{_ as $,f as U,k as z,O as J,r as W,g as Z,h,l as t,Z as x,c as _,b as d,w as C,i as o,a as n,v as b,E as k,d as E,t as j,D as K,F as v,o as u,s as Q,U as X,ap as ee,p as se,e as oe,J as te}from"./entry.e1c54084.js";import{_ as ie}from"./Radio.ef28b89a.js";import{_ as ne}from"./TermsGroup.575e6ec4.js";import le from"./_nav.d722f5c5.js";import ae from"./siteSelect.3aa47d22.js";import re from"./result.9a9db3e9.js";import"./Input.9ccbf189.js";import"./Checkbox.20dceeb0.js";import"./swiperItem.8d145322.js";import"./swiper-slide.b10528fd.js";import"./core.5e522b93.js";/* empty css                   *//* empty css                       *//* empty css                       */import"./navigation.87a869ac.js";import"./pagination.e64e0277.js";import"./ch-management.fd76c6e1.js";const g=L=>(se("data-v-d8d3c6a6"),L=L(),oe(),L),ce=["innerHTML"],ue={class:"login__list"},de=["src","alt"],me={key:0,class:"account"},pe=g(()=>n("h1",null,"회원가입",-1)),_e={class:"account__body"},ge=g(()=>n("legend",null,[n("h2",{class:"account__title"},"학습사이트를 신청해볼까요?")],-1)),fe={key:0,class:"c-form-group"},be=g(()=>n("label",{for:"name",class:"c-form-label"},"학교급",-1)),Ee={class:"account__site-sort"},Le={key:0,class:"account__site-sort"},ye={class:"c-form-group"},he=g(()=>n("label",{for:"name",class:"c-form-label"},"학년",-1)),Ce={class:"c-form-group"},ke=g(()=>n("label",{for:"name",class:"c-form-label"},"학습목적",-1)),je={class:"account__site-select"},Te={key:0,class:"account__body"},Ae=g(()=>n("h2",{class:"account__title"},[E(" 선택하신 학습사이트 "),n("br"),E(" 약관동의가 필요해요 ")],-1)),Ie={key:0,class:"account__agree"},ve={class:"account__agree-title"},Se=g(()=>n("span",{class:"c-text-primary"},"(반드시 약관의 내용을 확인해주세요)",-1)),qe={key:1,class:"account__agree"},Pe={class:"account__agree-title"},Ne=g(()=>n("span",{class:"c-text-primary"},"(반드시 약관의 내용을 확인해주세요)",-1)),Me={key:2,class:"account__agree"},Ve={class:"account__agree-title"},Re=g(()=>n("span",{class:"c-text-primary"},"(반드시 약관의 내용을 확인해주세요)",-1)),we={class:"account__foot"},He={class:"c-btn-group"},Be={__name:"14over",setup(L){const S=U(),f=z(),l=J(),e=W({school:"",schoolList:[],grade:"",gradeList:[],purpose:"",purposeList:[],pRadioList:[],subjectList:[],subjMiMac:"",subjAgree:"",subjAgreeNm:"",subjAgreeYn:"",lectureAgree:"",lectureAgreeNm:"",bookAgree:"",bookAgreeNm:"",subjTermsList:[{key:"subjTerm1",text:"이용약관에 관한 동의",value:!1,required:!0,cpId:"",termCode:"TEMPLATE_P002"},{key:"subjTerm2",text:"개인정보 수집/이용에 관한 동의",value:!1,required:!0,cpId:"",termCode:"TEMPLATE_P003"}],lectureTermsList:[{key:"lectureTerm1",text:"이용약관에 관한 동의",value:!1,required:!0,cpId:"",termCode:"TEMPLATE_P002"},{key:"lectureTerm2",text:"개인정보 수집/이용에 관한 동의",value:!1,required:!0,cpId:"",termCode:"TEMPLATE_P003"}],bookTermsList:[{key:"bookTerm1",text:"이용약관에 관한 동의",value:!1,required:!0,cpId:"",termCode:"TEMPLATE_P002"},{key:"bookTerm2",text:"개인정보 수집/이용에 관한 동의",value:!1,required:!0,cpId:"",termCode:"TEMPLATE_P003"}],termInfo:{},snsInfo:{},socialButtons:[{type:"naver",text:"네이버계정으로 로그인",alt:"네이버 로고"},{type:"kakao",text:"카카오계정으로 로그인",alt:"카카오톡 로고"}],resultCode:null});Z(()=>{q()});const q=()=>{h({method:"get",id:"회원가입 학습사이트 선택",endpoint:"/api/join/form",onResponse({data:s,status:i,message:a}){console.log("data ",s);let m=s.schLvlPcdList.filter(r=>t.isEqual(r.cd,"SCHLVL_P002")||t.isEqual(r.cd,"SCHLVL_P003")||t.isEqual(r.cd,"SCHLVL_P004"));m.forEach(r=>{r.text=r.cdnm,r.value=r.cd}),e.schoolList=m;let p=s.schGrdPcdList.filter(r=>t.isEqual(r.cd,"SCHGRD_P001")||t.isEqual(r.cd,"SCHGRD_P002")||t.isEqual(r.cd,"SCHGRD_P003")||t.isEqual(r.cd,"SCHGRD_P007"));p.forEach(r=>{r.text=r.cdnm,r.value=r.cd}),e.gradeList=p,e.purposeList=s.lrnObjList,e.subjectList=s.lrnPltTcdList.concat(s.subLrnPltTcdList)}})},P=s=>{e.school=s,t.isEqual(s,"SCHLVL_P002")?e.pRadioList=e.purposeList.filter(i=>t.isEqual(i.cd,"GE")||t.isEqual(i.cd,"SP")):t.isEqual(s,"SCHLVL_P003")&&(e.pRadioList=e.purposeList.filter(i=>t.isEqual(i.cd,"SH")||t.isEqual(i.cd,"TE"))),e.pRadioList.forEach(i=>{i.text=i.cdnm,i.value=i.cd}),e.subjAgree="",e.lectureAgree="",e.bookAgree=""},N=s=>{e.grade=s},M=s=>{e.subjAgreeYn=e.subjectList.filter(i=>i.cp_id===s)[0].agreeYn,t.isEqual(s,"LRNPLT_T002")?(e.subjMiMac=s,e.subjAgree=""):t.isEqual(e.subjAgreeYn,"N")?(e.subjAgree=s,e.subjAgreeNm=e.subjectList.filter(i=>i.cp_id===e.subjAgree)[0].cp_name,e.subjTermsList.forEach(i=>{i.cpId=e.subjAgree,i.value=!1})):e.subjAgree=""},V=s=>{let i="";t.isEmpty(s)||(i=e.subjectList.filter(a=>a.cp_id===s)[0].agreeYn),t.isEqual(i,"N")?(e.lectureAgree=s,e.lectureAgreeNm=e.subjectList.filter(a=>a.cp_id===e.lectureAgree)[0].cp_name,e.lectureTermsList.forEach(a=>{a.cpId=e.lectureAgree,a.value=!1})):e.lectureAgree=""},R=s=>{let i="";t.isEmpty(s)||(i=e.subjectList.filter(a=>a.cp_id===s)[0].agreeYn),t.isEqual(i,"N")?(e.bookAgree=s,e.bookAgreeNm=e.subjectList.filter(a=>a.cp_id===e.bookAgree)[0].cp_name,e.bookTermsList.forEach(a=>{a.cpId=e.bookAgree,a.value=!1})):e.bookAgree=""},y=async s=>{await h({method:"get",id:"회원가입 학습사이트 약관 조회",endpoint:"/api/join/terms",data:{cp_id:s.id,term_div_code:s.code},onResponse({data:i,status:a}){e.termInfo.isShow=!0,e.termInfo.title=i.term_title,e.termInfo.innerContents=i.term_desc}})},T=()=>{e.termInfo.isShow=!1},w=()=>{S.push("/join/qualification")},H=()=>{if(!t.isEqual(e.school,"SCHLVL_P004")){if(t.isEmpty(e.school))return f.alert("알림","학교급을 선택해주세요."),!1;if(t.isEmpty(e.grade))return f.alert("알림","학년을 선택해주세요."),!1;if(t.isEmpty(e.purpose))return f.alert("알림","학습목적을 선택해주세요."),!1;if(t.isEmpty(e.subjMiMac)&&!t.isEqual(e.subjAgreeYn,"Y")){if(t.isEmpty(e.subjAgree))return f.alert("알림","교과 학습사이트를 선택해주세요."),!1;if(e.subjTermsList.some(s=>s.value===!1))return f.alert("알림",`${e.subjAgreeNm} 약관동의가 필요합니다.`),!1}if(!t.isEmpty(e.lectureAgree)&&e.lectureTermsList.some(s=>s.value===!1))return f.alert("알림",`${e.lectureAgreeNm} 약관동의가 필요합니다.`),!1;if(!t.isEmpty(e.bookAgree)&&e.bookTermsList.some(s=>s.value===!1))return f.alert("알림",`${e.bookAgreeNm} 약관동의가 필요합니다.`),!1}return!0},B=()=>{let s={qlfc_enc_dat:l.joinInfo.qlfc_enc_dat,nice_enc_dat:l.passInfo.nice_enc_dat,ge3family_enc_dat:l.bigFamily.ge3family_enc_dat,join_pcd:l.joinMemberType,loginid:l.basicInfo.id,passwd:l.basicInfo.pw,userName:l.basicInfo.name,email:l.basicInfo.email,zipcode:l.basicInfo.postCode,address1:l.basicInfo.addr,address2:l.basicInfo.addrDtl,schlvl:e.school,schgrd:e.grade,lrnpltCd:t.isEmpty(e.subjMiMac)?e.subjAgree:e.subjMiMac,subLrnpltCd:e.lectureAgree+","+e.bookAgree,evtInfoRcvYn:l.basicInfo.smsType,attachType:l.joinAttachType,snsConnects:[{snsCode:l.snsCd,id:l.snsId}]};return s.mobileno=t.isEmpty(l.basicInfo.mobile)?l.passInfo.MOBILE_NO:l.basicInfo.mobile,s.parentName=l.passInfo.NAME,s.parentMobileno=l.passInfo.MOBILE_NO,s.parentGender=t.isEqual(l.passInfo.GENDER,"1")?"M":"W",s.files=t.isEmpty(l.joinFileList)?null:l.joinFileList,s},O=()=>{if(console.log("onClickComplete"),H())l.snsId="",e.snsInfo.isShow=!0,e.snsInfo.title="SNS 계정 연동",e.snsInfo.subTitle="SNS 계정과 연동할 수 있어요";else return};x(()=>l.snsId,s=>{t.isEmpty(s)||A()});const A=()=>{e.snsInfo.isShow=!1,I()},D=()=>{e.snsInfo.isShow=!1,I()},I=()=>{const s=new FormData;let i=B();s.append("data",new Blob([JSON.stringify(i)],{type:"application/json"})),t.isEmpty(l.joinFileList)||l.joinFileList.forEach(a=>{t.isEmpty(a.fileSeq)&&s.append("files",a)}),h({method:"post",id:"회원가입 등록",endpoint:"/api/join/signup",headers:"FILE_UPLOAD",data:s,onResponse({data:a,status:m,message:p}){console.log("goJoin data",a),console.log("goJoin status",m),console.log("goJoin message",p),m===200?e.resultCode=a.confirmStatCode:f.alert("알림",p)}})};return(s,i)=>{const a=F,m=te,p=ie,r=ne;return u(),_(v,null,[d(a,{data:o(e).termInfo,onClose:T},{innerContents:C(()=>[n("div",{class:"c-modals__contents-terms",innerHTML:o(e).termInfo.innerContents},null,8,ce),n("div",{class:"c-modals__button"},[n("div",{class:"c-btn-group"},[n("button",{type:"submit",class:"c-btn c-btn-danger",onClick:T}," 확인 ")])])]),_:1},8,["data"]),d(a,{data:o(e).snsInfo,onClose:A},{innerContents:C(()=>[n("div",ue,[(u(!0),_(v,null,Q(o(e).socialButtons,({type:c,text:Y,src:Oe,alt:G})=>(u(),k(m,{title:"새창으로 이동",class:"c-btn-outline-secondary",sizeType:"large",text:Y,onClick:De=>("uSocialLogin"in s?s.uSocialLogin:o(ee))(c)},{before:C(()=>[n("img",{src:("uImage"in s?s.uImage:o(X))(`logo-${c}.svg`),alt:G},null,8,de)]),_:2},1032,["text","onClick"]))),256)),n("button",{type:"button",class:"c-btn c-btn-lg c-btn-block c-btn-outline-secondary",onClick:D}," SNS 연동하지않고 가입하기 ")])]),_:1},8,["data"]),("isEmpty"in s?s.isEmpty:o(t.isEmpty))(o(e).resultCode)?(u(),_("div",me,[pe,d(le,{active:4}),n("form",{onSubmit:i[6]||(i[6]=K(()=>{},["prevent"]))},[n("div",_e,[ge,("isEmpty"in s?s.isEmpty:o(t.isEmpty))(o(e).schoolList)?b("",!0):(u(),_("div",fe,[be,d(p,{class:"c-form-check-group--col3",modelValue:o(e).school,"onUpdate:modelValue":[i[0]||(i[0]=c=>o(e).school=c),P],items:o(e).schoolList},null,8,["modelValue","items"])])),n("div",Ee,[("isEqual"in s?s.isEqual:o(t.isEqual))(o(e).school,"SCHLVL_P002")||("isEqual"in s?s.isEqual:o(t.isEqual))(o(e).school,"SCHLVL_P003")?(u(),_("div",Le,[n("div",ye,[he,d(p,{class:"c-form-check-group--col4",modelValue:o(e).grade,"onUpdate:modelValue":[i[1]||(i[1]=c=>o(e).grade=c),N],items:o(e).gradeList},null,8,["modelValue","items"])]),n("div",Ce,[ke,d(p,{modelValue:o(e).purpose,"onUpdate:modelValue":i[2]||(i[2]=c=>o(e).purpose=c),items:o(e).pRadioList},null,8,["modelValue","items"])])])):b("",!0)]),n("div",je,[("isEmpty"in s?s.isEmpty:o(t.isEmpty))(o(e).school)?b("",!0):(u(),k(o(ae),{key:0,typeInfo:{school:o(e).school,grade:o(e).grade},dataList:o(e).subjectList,onOnChangeSubj:M,onOnChangeLecture:V,onOnChangeBook:R,paramInfo:{change:!0}},null,8,["typeInfo","dataList"]))])]),!("isEmpty"in s?s.isEmpty:o(t.isEmpty))(o(e).subjAgree)||!("isEmpty"in s?s.isEmpty:o(t.isEmpty))(o(e).lectureAgree)||!("isEmpty"in s?s.isEmpty:o(t.isEmpty))(o(e).bookAgree)?(u(),_("div",Te,[Ae,("isEmpty"in s?s.isEmpty:o(t.isEmpty))(o(e).subjAgree)?b("",!0):(u(),_("div",Ie,[n("div",ve,[E(" ‘"+j(o(e).subjAgreeNm)+"’ 약관동의 ",1),Se]),d(r,{modelValue:o(e).subjTermsList,"onUpdate:modelValue":i[3]||(i[3]=c=>o(e).subjTermsList=c),onTerms:y},null,8,["modelValue"])])),("isEmpty"in s?s.isEmpty:o(t.isEmpty))(o(e).lectureAgree)?b("",!0):(u(),_("div",qe,[n("div",Pe,[E(" ‘"+j(o(e).lectureAgreeNm)+"’ 약관동의 ",1),Ne]),d(r,{modelValue:o(e).lectureTermsList,"onUpdate:modelValue":i[4]||(i[4]=c=>o(e).lectureTermsList=c),onTerms:y},null,8,["modelValue"])])),("isEmpty"in s?s.isEmpty:o(t.isEmpty))(o(e).bookAgree)?b("",!0):(u(),_("div",Me,[n("div",Ve,[E(" ‘"+j(o(e).bookAgreeNm)+"’ 약관동의 ",1),Re]),d(r,{modelValue:o(e).bookTermsList,"onUpdate:modelValue":i[5]||(i[5]=c=>o(e).bookTermsList=c),onTerms:y},null,8,["modelValue"])]))])):b("",!0),n("div",we,[n("div",He,[d(m,{size:"auto",sizeType:"large",styleType:"blue",text:"취소",onClick:w}),d(m,{size:"auto",sizeType:"large",styleType:"danger",text:"회원가입 완료",onClick:O})])])],32)])):(u(),k(o(re),{key:1,data:o(e).resultCode},null,8,["data"]))],64)}}},ns=$(Be,[["__scopeId","data-v-d8d3c6a6"]]);export{ns as default};

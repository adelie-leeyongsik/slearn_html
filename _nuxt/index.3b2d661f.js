import{_ as tt}from"./breadCrumbs.ffbcaef2.js";import{_ as et}from"./title.fb65f11f.js";import{_ as st}from"./nuxt-link.996d70a9.js";import{_ as ot}from"./pagination.86fa1564.js";import{k as U,f as q,au as N,r as at,Z as nt,o as i,E as C,w as R,c as m,a as t,d as $,b as p,i as e,v,a0 as lt,h as S,a1 as B,av as ct,V as it,a$ as dt,g as rt,L as ut,y as b,S as _t,B as k,az as y,D as I,F as T,t as f,s as mt,ad as O,l as pt}from"./entry.e1c54084.js";import{o as E}from"./main.2d4970b0.js";import{u as ht}from"./useReadParams.2da6115f.js";import{_ as yt}from"./ch-table.6edba30c.js";import bt from"./_snb.5c7ca73e.js";import ft from"./_snbTablet.5be258ab.js";import"./1.5c1c421a.js";const vt={key:0,class:"c-modals"},gt={class:"c-modals__inner"},Dt={class:"c-modals__head"},Mt={class:"c-modals__contents"},kt=t("div",{class:"c-modals__title"}," 활동 증명서는 1년에 1회만 신청이 가능합니다. ",-1),Ct=t("p",null,"활동증명서를 신청하실 기간을선택해주세요.",-1),Rt={class:"c-modals__survey-col"},$t={class:"c-modals__survey-col-item"},Et={class:"c-form-group"},wt=t("div",{class:"c-form-label"},"증명서 기간",-1),Tt={class:"c-input-group c-input-group--calendar c-input-group--calendar--type02"},Nt={class:"c-modals__button"},Vt={class:"c-btn-group"},Yt={__name:"ActivityCertificateReq",props:{show:{Type:Boolean,default:()=>!1}},emits:["request"],setup(V,{emit:g}){const r=U();q();const{MENTORING:{MENTORING_ACTIVITY_CERTIFICATE_REQ:h}}=N(),{$dayjs:d}=B();N();const a=new Date,l=at({startDt:a,endDt:a});nt(()=>l.endDt,n=>{n<l.startDt&&(l.startDt=n)});const D=async()=>{if(!l.startDt||!l.endDt){r.alert("알림","증명서 신청 기간은 필수 입니다.<br/>확인 후 다시 시도해주시길 바랍니다.");return}r.confirm("알림","신청하신 기간으로 활동증명서가 신청됩니다.<br/>관리자 검토 후 활동 증명서가 출력이 가능합니다.<br/>계속하시겠습니까?",async()=>{await S({id:"멘토 활동증명서 발급 요청",endpoint:h,method:"post",data:{startDt:d(l.startDt).format("YYYYMMDD"),endDt:d(l.endDt).format("YYYYMMDD")},onResponse:({status:n,message:c})=>{if(n===200)r.alert("알림","신청되었습니다.",()=>{g("request")});else{r.alert("알림",c);return}}})})};return(n,c)=>(i(),C(lt,{name:"c-modals"},{default:R(()=>[V.show?(i(),m("div",vt,[t("div",{class:"c-modals__bg",onClick:c[0]||(c[0]=u=>n.$attrs.onClose())}),t("div",gt,[t("div",Dt,[$(" 활동 증명서 신청 "),t("button",{class:"c-modals__head-close",type:"submit",onClick:c[1]||(c[1]=u=>n.$attrs.onClose())}," 닫기 ")]),t("div",Mt,[kt,Ct,t("div",Rt,[t("div",$t,[t("div",Et,[wt,t("div",Tt,[t("div",null,[p(e(E),{name:"datePicker",modelValue:e(l).startDt,"onUpdate:modelValue":c[2]||(c[2]=u=>e(l).startDt=u),format:"yyyy.MM.dd",locale:"ko",class:"date","enable-time-picker":!1,"minutes-grid-increment":"1","auto-apply":!0,clearable:!1,teleport:!0,"hide-input-icon":"",placeholder:"증명서 신청 시작일",maxDate:e(l).endDt},null,8,["modelValue","maxDate"])]),t("div",null,[p(e(E),{name:"datePicker",modelValue:e(l).endDt,"onUpdate:modelValue":c[3]||(c[3]=u=>e(l).endDt=u),format:"yyyy.MM.dd",locale:"ko",class:"date","enable-time-picker":!1,"minutes-grid-increment":"1","auto-apply":!0,clearable:!1,teleport:!0,"hide-input-icon":"",placeholder:"증명서 신청 종료일",maxDate:e(a)},null,8,["modelValue","maxDate"])])])])])]),t("div",Nt,[t("div",Vt,[t("button",{type:"submit",class:"c-btn c-btn-blue",onClick:c[4]||(c[4]=u=>n.$attrs.onClose())}," 닫기 "),t("button",{type:"submit",class:"c-btn c-btn-danger",onClick:D}," 신청 ")])])])])])):v("",!0)]),_:1}))}},Pt={class:"mypage"},xt={class:"mypage-management"},At={class:"mypage__wrap"},It={class:"mypage__contents"},Ot=["onClick"],Ut={class:"mypage__contents-body"},qt={class:"mypage-management__before"},St={class:"mypage__contents-search"},Bt={action:""},Ft={key:0,class:"c-form-group"},Lt=t("legend",null,[t("label",{for:"category",class:"c-form-label"},"카테고리별")],-1),jt=t("option",{value:"M"},"멘토링",-1),Gt=t("option",{value:"R"},"신청서",-1),zt=[jt,Gt],Ht={class:"c-form-group"},Qt=t("legend",null,[t("div",{class:"c-form-label"},"기간별")],-1),Zt={class:"c-form-group c-form-group--search"},Jt={class:"c-form-check-group c-form-check-group--col4 c-form-check-group-month"},Kt={class:"c-form-check"},Wt=t("label",{class:"c-btn c-btn-lg c-btn-block c-btn-outline-secondary",for:"searchMonthAll"},"전체",-1),Xt={class:"c-form-check"},te=t("label",{class:"c-btn c-btn-lg c-btn-danger c-btn-outline c-btn-outline-secondary",for:"searchMonth01"},"1개월",-1),ee={class:"c-form-check"},se=t("label",{class:"c-btn c-btn-lg c-btn-danger c-btn-outline c-btn-outline-secondary",for:"searchMonth03"},"6개월",-1),oe={class:"c-form-check"},ae=t("label",{class:"c-btn c-btn-lg c-btn-danger c-btn-outline c-btn-outline-secondary",for:"searchMonth04"},"1년",-1),ne={class:"c-input-group c-input-group--calendar"},le=t("span",null,"~",-1),ce=["onClick"],ie={class:"c-table__wrap c-table__wrap-scroll"},de={class:"c-table__head"},re={class:"c-table c-table-center"},ue=t("caption",null," 이전 멘토링 보기로 날짜, 사유, 상태, 상세보기를 볼 수 있습니다. ",-1),_e=t("colgroup",null,[t("col",{width:"120"}),t("col",{width:"120"}),t("col",{width:""}),t("col",{width:"120"}),t("col",{width:"120"})],-1),me=t("thead",null,[t("tr",null,[t("th",{scope:"col"},"날짜"),t("th",{scope:"col"},"카테고리"),t("th",{scope:"col"},"사유"),t("th",{scope:"col"},"상태"),t("th",{scope:"col"},"상세보기")])],-1),pe={class:"c-table__title"},he={key:1,class:"c-notfound"},ye=t("img",{src:yt,alt:"참여한 이벤트가 없습니다. 다양한 이벤트에 참여해보세요!"},null,-1),be=t("p",null,"조회된 데이터가 없습니다.",-1),fe=[ye,be],Ye={__name:"index",setup(V){const{$dayjs:g}=B(),{startDate:r,endDate:h,params:d,monthSelected:a,onUpdateDateParams:l,onUpdateMonthSelected:D,data:n,error:c}=ht();U();const{modalProps:u,setDispatchModalProps:F,setModalFields:L,setDisplayToggle:j}=ct();it({input:"YYYY.MM.DD"});let{MENTORING:{MENTORING_COMMON_BEFORE_LIST:G,MENTORING_MENTOR_BEFORE_LIST_CATE_APPLICATION:ve},DATE_3U:ge}=N();const{role:Y}=dt();q();const z=async()=>{D("all"),Object.assign(d,{startDate:r,endDate:h,typeCd:"M"}),L(["activityCertificateReq"]),await M()},M=async()=>{try{let _=G.replace(/{role}/,Y);const o={...d};Object.assign(d,{startDate:o.startDate?g(o.startDate).format("YYYY.MM.DD"):"",endDate:o.startDate?g(o.endDate).format("YYYY.MM.DD"):""}),await S({id:"멘토링 관리 - 이전 멘토링 보기 리스트",endpoint:_,data:d,onResponse:({data:w})=>{Object.assign(n,{...w})}})}catch(_){alert(`${_.status}, ${_.statusText}`)}},H=()=>{F("activityCertificateReq",null)},Q=async()=>{j("activityCertificateReq"),d.typeCd!=="R"&&(d.typeCd="R",D("all")),await M()};rt(()=>{document.getElementsByName("startDatePicker")[0].setAttribute("title","기간별 조회 시작일자를 입력하세요"),document.getElementsByName("endDatePicker")[0].setAttribute("title","기간별 조회 종료일자를 입력하세요")});const Z=async _=>{d.pageNumber=_,await M()};z();const P=ut(()=>Y==="mentor");return(_,o)=>{var A;const w=tt,J=et,x=st,K=ot,W=Yt;return i(),m("div",Pt,[p(ft),p(w),t("div",xt,[t("div",At,[p(bt),t("div",It,[p(J,{title:"이전 멘토링 보기",desc:`\r
              종료되거나 취소된 멘토링 내역을 확인하실 수 있습니다. <br />\r
              도움이 필요하실 땐 서울런 고객센터<br class='c-mo'/>\r
              (1533-0909)로 연락주세요!`},{tail:R(()=>[e(P)===!0?(i(),m("button",{key:0,class:"c-btn c-btn-sm c-btn-danger",onClick:I(H,["prevent"])}," 활동증명서 신청 ",8,Ot)):v("",!0)]),_:1}),t("div",Ut,[t("div",qt,[t("div",St,[t("form",Bt,[t("fieldset",null,[e(P)===!0?(i(),m("div",Ft,[Lt,b(t("select",{"onUpdate:modelValue":o[0]||(o[0]=s=>e(d).typeCd=s),id:"category",class:"c-form-control c-form-control-sm"},zt,512),[[_t,e(d).typeCd]])])):v("",!0),t("div",Ht,[Qt,t("div",Zt,[t("div",Jt,[t("div",Kt,[b(t("input",{class:"c-btn-check",type:"radio",name:"searchMonth",id:"searchMonthAll","onUpdate:modelValue":o[1]||(o[1]=s=>y(a)?a.value=s:null),value:"all",title:"전체"},null,512),[[k,e(a)]]),Wt]),t("div",Xt,[b(t("input",{class:"c-btn-check",type:"radio",name:"searchMonth",id:"searchMonth01",title:"1개월",value:"month","onUpdate:modelValue":o[2]||(o[2]=s=>y(a)?a.value=s:null)},null,512),[[k,e(a)]]),te]),t("div",ee,[b(t("input",{class:"c-btn-check",type:"radio",name:"searchMonth",id:"searchMonth03",title:"6개월",value:"six-month","onUpdate:modelValue":o[3]||(o[3]=s=>y(a)?a.value=s:null)},null,512),[[k,e(a)]]),se]),t("div",oe,[b(t("input",{class:"c-btn-check",type:"radio",name:"searchMonth",id:"searchMonth04",title:"1년",value:"year","onUpdate:modelValue":o[4]||(o[4]=s=>y(a)?a.value=s:null)},null,512),[[k,e(a)]]),ae])]),t("div",ne,[t("div",null,[p(e(E),{name:"startDatePicker",modelValue:e(r),"onUpdate:modelValue":o[5]||(o[5]=s=>y(r)?r.value=s:null),maxDate:e(h),format:"yyyy.MM.dd",locale:"ko",class:"date","enable-time-picker":!1,"auto-apply":"",clearable:!1,"hide-input-icon":"",placeholder:"기간별 조회 시작"},null,8,["modelValue","maxDate"])]),le,t("div",null,[p(e(E),{name:"endDatePicker",modelValue:e(h),"onUpdate:modelValue":o[6]||(o[6]=s=>y(h)?h.value=s:null),minDate:e(r),format:"yyyy.MM.dd",locale:"ko",class:"date","enable-time-picker":!1,"auto-apply":"",clearable:!1,"hide-input-icon":"",placeholder:"기간별 조회 끝"},null,8,["modelValue","minDate"])])]),t("button",{type:"button",class:"c-btn c-btn-blue",onClick:I(M,["prevent"])}," 조회 ",8,ce)])])])])]),("isEmpty"in _?_.isEmpty:e(pt.isEmpty))(e(n).rows)?(i(),m("div",he,fe)):(i(),m(T,{key:0},[t("div",ie,[t("div",de,[t("p",null,"총 "+f((A=e(n))==null?void 0:A.totalRecords)+"개",1)]),t("table",re,[ue,_e,me,t("tbody",null,[(i(!0),m(T,null,mt(e(n).rows,(s,X)=>(i(),m("tr",{key:`item-page-${X}`},[t("td",null,f(s.dtm),1),t("td",null,"["+f(s.type)+"]",1),t("td",pe,[t("p",null,[s.typeCd==="M"?(i(),C(x,{key:0,to:`/mypage/management/before/${s.idx}`},{default:R(()=>[$(f(s.reason),1)]),_:2},1032,["to"])):(i(),m(T,{key:1},[$(" 멘토링 활동내역 증명서 신청합니다. ")],64))])]),t("td",null,[t("strong",null,f(s.statusName),1)]),t("td",null,[s.typeCd==="M"?(i(),C(x,{key:0,class:"c-table__link",to:`/mypage/management/before/${s.idx}`},{default:R(()=>[$("상세보기")]),_:2},1032,["to"])):v("",!0)])]))),128))])])]),p(K,O({...e(n)},{onChangedPageIndex:Z}),null,16)],64))])])])])]),e(u).activityCertificateReq.show===!0?(i(),C(W,O({key:0},{...e(u).activityCertificateReq},{onRequest:Q}),null,16)):v("",!0)])}}};export{Ye as default};

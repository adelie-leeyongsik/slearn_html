import{_ as x}from"./breadCrumbs.ffbcaef2.js";import{_ as O}from"./Header.7ce4e911.js";import{_ as S}from"./comments.1143f183.js";import{au as F,j as T,k as V,f as A,V as M,g as P,h as w,ay as j,L,c as l,b as g,i as e,a as t,t as b,F as G,s as Y,D as y,v as f,E as H,a1 as K,aR as W,o as c,K as z,aS as J}from"./entry.e1c54084.js";import{u as Q}from"./useReadParams.2da6115f.js";import X from"./_snb.5c7ca73e.js";import Z from"./_snbTablet.5be258ab.js";import{T as tt}from"./index.e40167c5.js";import"./ko-kr.09136cbc.js";import"./title.fb65f11f.js";import"./pagination.86fa1564.js";import"./2.eecac130.js";import"./ic-reply-noimg.f5ddda7d.js";import"./1.5c1c421a.js";const et={class:"mypage"},ot={class:"mypage-notice__view"},st={class:"mypage__wrap"},nt={class:"mypage__contents"},at={class:"mypage__contents-body"},rt={class:"mypage__board"},it={class:"mypage__board-title"},ct=["textContent"],lt={class:"mypage__board-title-writer"},dt={class:"mypage__board-contents"},_t={class:"mypage__board-contents-head"},mt={class:"c-form-group"},ut=t("div",{class:"c-form-label"},"첨부파일",-1),pt=["onClick"],gt={class:"c-btn-group"},bt=t("strong",null,"수정하기",-1),yt=[bt],ht=["onClick"],ft=t("strong",null,"삭제하기",-1),vt=[ft],Ct=t("strong",null,"목록으로",-1),Et=[Ct],Pt={__name:"[boardSeq]",async setup(kt){let v,C;const{$dayjs:R}=K();let{MENTORING:{MENTORING_BOARD_VIEW:$,MENTORING_BOARD_DELETE:B},DATE_3U:I}=F();const{params:{boardSeq:d,segment:r}}=T(),E=V(),{push:h,go:Dt}=A(),{data:o}=Q(),_=W(),k=M(null),N=async()=>{};P(async()=>{await D()});const D=async(n=0)=>{await w({id:"멘토링 커뮤니티 - 게시판 상세",endpoint:$.replace(/{boardSeq}/,d),data:{pageNumber:n},onResponse:({data:i})=>{const{comments:s,...m}=i,u={...m};Object.assign(u,{dtm:R(m.regDtm).format(I)}),(s==null?void 0:s.rows.length)>0&&(s.rows=s.rows.map(a=>({useYn:a.comtUseYn,userId:a.comtUserId,regDtm:a.comtRegDtm,...a}))),Object.assign(o,{...u,comments:s}),_.el=k.value,_.viewer=!0,_.initialValue=o.description,tt.factory(_)}})},U=n=>{console.log(">>>>> handleCommentPaginationEvent",n),D(n)},q=()=>{o.updatable&&E.confirm("알림","삭제하시겠습니까?",()=>{w({id:"멘토링 커뮤니티 - 게시판 글 삭제",endpoint:J(B,{boardSeq:d}),method:"delete",onResponse:()=>{E.alert("알림","삭제되었습니다.",()=>{h(`/mypage/community/board/list/${r}`)})}})})};return[v,C]=j(()=>N()),await v,C(),L(()=>(r==="share"?7:10)||!1),(n,i)=>{var a;const s=x,m=O,u=S;return c(),l("div",et,[g(Z,{currentUrl:`/mypage/community/board/list/${e(r)}`},null,8,["currentUrl"]),g(s),t("div",ot,[t("div",st,[g(X,{currentUrl:`/mypage/community/board/list/${e(r)}`},null,8,["currentUrl"]),t("div",nt,[g(m),t("div",at,[t("div",rt,[t("div",it,[t("p",{textContent:b(e(o).title)},null,8,ct),t("div",lt,[t("p",null,b(e(o).userId),1),t("span",null,b(e(o).dtm),1)])]),t("div",dt,[t("div",_t,[t("div",mt,[ut,t("ul",null,[(c(!0),l(G,null,Y(e(o).fileInfo,(p,wt)=>(c(),l("li",null,[t("a",{href:"#",onClick:y(Rt=>("uFileDownload"in n?n.uFileDownload:e(z))(p.fileSeq),["prevent"]),class:"c-badge c-badge-lg c-badge-light",download:""},[t("p",null,b(p.originFileName),1)],8,pt)]))),256))])])]),t("div",{ref_key:"editorDiv",ref:k},null,512)])]),t("div",gt,[e(o).updatable===!0?(c(),l("button",{key:0,type:"button",class:"c-btn c-btn-lg c-btn-danger",onClick:i[0]||(i[0]=y(p=>e(h)({path:`/mypage/community/board/modify/${e(r)}`,query:{seq:e(d)}}),["prevent"]))},yt)):f("",!0),e(o).updatable===!0?(c(),l("button",{key:1,type:"button",class:"c-btn c-btn-lg c-btn-danger",onClick:y(q,["prevent"])},vt,8,ht)):f("",!0),t("button",{type:"button",class:"c-btn c-btn-lg c-btn-danger",onClick:i[1]||(i[1]=y(p=>e(h)({path:`/mypage/community/board/list/${e(r)}`}),["prevent"]))},Et)]),(a=e(o))!=null&&a.comments?(c(),H(u,{key:0,"board-seq":e(d),data:e(o).comments,"is-file":!1,"is-url":!1,"is-secret":!1,onChangedPageIndex:U},null,8,["board-seq","data"])):f("",!0)])])])])])}}};export{Pt as default};
